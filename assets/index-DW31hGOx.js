(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Ul(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function RS(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var ff={exports:{}},gl={},pf={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function kS(){if(Fy)return ut;Fy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function T(U,J,Y){this.props=U,this.context=J,this.refs=A,this.updater=Y||N}T.prototype.isReactComponent={},T.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=T.prototype;function z(U,J,Y){this.props=U,this.context=J,this.refs=A,this.updater=Y||N}var O=z.prototype=new F;O.constructor=z,k(O,T.prototype),O.isPureReactComponent=!0;var $=Array.isArray,L=Object.prototype.hasOwnProperty,G={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(U,J,Y){var K,te={},me=null,q=null;if(J!=null)for(K in J.ref!==void 0&&(q=J.ref),J.key!==void 0&&(me=""+J.key),J)L.call(J,K)&&!x.hasOwnProperty(K)&&(te[K]=J[K]);var De=arguments.length-2;if(De===1)te.children=Y;else if(1<De){for(var oe=Array(De),We=0;We<De;We++)oe[We]=arguments[We+2];te.children=oe}if(U&&U.defaultProps)for(K in De=U.defaultProps,De)te[K]===void 0&&(te[K]=De[K]);return{$$typeof:n,type:U,key:me,ref:q,props:te,_owner:G.current}}function I(U,J){return{$$typeof:n,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Y){return J[Y]})}var j=/\/+/g;function b(U,J){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):J.toString(36)}function Ce(U,J,Y,K,te){var me=typeof U;(me==="undefined"||me==="boolean")&&(U=null);var q=!1;if(U===null)q=!0;else switch(me){case"string":case"number":q=!0;break;case"object":switch(U.$$typeof){case n:case e:q=!0}}if(q)return q=U,te=te(q),U=K===""?"."+b(q,0):K,$(te)?(Y="",U!=null&&(Y=U.replace(j,"$&/")+"/"),Ce(te,J,Y,"",function(We){return We})):te!=null&&(R(te)&&(te=I(te,Y+(!te.key||q&&q.key===te.key?"":(""+te.key).replace(j,"$&/")+"/")+U)),J.push(te)),1;if(q=0,K=K===""?".":K+":",$(U))for(var De=0;De<U.length;De++){me=U[De];var oe=K+b(me,De);q+=Ce(me,J,Y,oe,te)}else if(oe=S(U),typeof oe=="function")for(U=oe.call(U),De=0;!(me=U.next()).done;)me=me.value,oe=K+b(me,De++),q+=Ce(me,J,Y,oe,te);else if(me==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return q}function be(U,J,Y){if(U==null)return U;var K=[],te=0;return Ce(U,K,"","",function(me){return J.call(Y,me,te++)}),K}function je(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(Y){(U._status===0||U._status===-1)&&(U._status=1,U._result=Y)},function(Y){(U._status===0||U._status===-1)&&(U._status=2,U._result=Y)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var xe={current:null},de={transition:null},Oe={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:de,ReactCurrentOwner:G};return ut.Children={map:be,forEach:function(U,J,Y){be(U,function(){J.apply(this,arguments)},Y)},count:function(U){var J=0;return be(U,function(){J++}),J},toArray:function(U){return be(U,function(J){return J})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ut.Component=T,ut.Fragment=t,ut.Profiler=o,ut.PureComponent=z,ut.StrictMode=i,ut.Suspense=p,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,ut.cloneElement=function(U,J,Y){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var K=k({},U.props),te=U.key,me=U.ref,q=U._owner;if(J!=null){if(J.ref!==void 0&&(me=J.ref,q=G.current),J.key!==void 0&&(te=""+J.key),U.type&&U.type.defaultProps)var De=U.type.defaultProps;for(oe in J)L.call(J,oe)&&!x.hasOwnProperty(oe)&&(K[oe]=J[oe]===void 0&&De!==void 0?De[oe]:J[oe])}var oe=arguments.length-2;if(oe===1)K.children=Y;else if(1<oe){De=Array(oe);for(var We=0;We<oe;We++)De[We]=arguments[We+2];K.children=De}return{$$typeof:n,type:U.type,key:te,ref:me,props:K,_owner:q}},ut.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},ut.createElement=C,ut.createFactory=function(U){var J=C.bind(null,U);return J.type=U,J},ut.createRef=function(){return{current:null}},ut.forwardRef=function(U){return{$$typeof:d,render:U}},ut.isValidElement=R,ut.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:je}},ut.memo=function(U,J){return{$$typeof:m,type:U,compare:J===void 0?null:J}},ut.startTransition=function(U){var J=de.transition;de.transition={};try{U()}finally{de.transition=J}},ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ut.useCallback=function(U,J){return xe.current.useCallback(U,J)},ut.useContext=function(U){return xe.current.useContext(U)},ut.useDebugValue=function(){},ut.useDeferredValue=function(U){return xe.current.useDeferredValue(U)},ut.useEffect=function(U,J){return xe.current.useEffect(U,J)},ut.useId=function(){return xe.current.useId()},ut.useImperativeHandle=function(U,J,Y){return xe.current.useImperativeHandle(U,J,Y)},ut.useInsertionEffect=function(U,J){return xe.current.useInsertionEffect(U,J)},ut.useLayoutEffect=function(U,J){return xe.current.useLayoutEffect(U,J)},ut.useMemo=function(U,J){return xe.current.useMemo(U,J)},ut.useReducer=function(U,J,Y){return xe.current.useReducer(U,J,Y)},ut.useRef=function(U){return xe.current.useRef(U)},ut.useState=function(U){return xe.current.useState(U)},ut.useSyncExternalStore=function(U,J,Y){return xe.current.useSyncExternalStore(U,J,Y)},ut.useTransition=function(){return xe.current.useTransition()},ut.version="18.2.0",ut}var jy;function Mr(){return jy||(jy=1,pf.exports=kS()),pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function xS(){if(Uy)return gl;Uy=1;var n=Mr(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,m){var _,w={},S=null,N=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(N=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:N,props:w,_owner:o.current}}return gl.Fragment=t,gl.jsx=c,gl.jsxs=c,gl}var zy;function so(){return zy||(zy=1,ff.exports=xS()),ff.exports}var he=so(),Q=Mr();const fr=Ul(Q);var vc={},mf={exports:{}},jn={},gf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function bS(){return $y||($y=1,function(n){function e(de,Oe){var U=de.length;de.push(Oe);e:for(;0<U;){var J=U-1>>>1,Y=de[J];if(0<o(Y,Oe))de[J]=Oe,de[U]=Y,U=J;else break e}}function t(de){return de.length===0?null:de[0]}function i(de){if(de.length===0)return null;var Oe=de[0],U=de.pop();if(U!==Oe){de[0]=U;e:for(var J=0,Y=de.length,K=Y>>>1;J<K;){var te=2*(J+1)-1,me=de[te],q=te+1,De=de[q];if(0>o(me,U))q<Y&&0>o(De,me)?(de[J]=De,de[q]=U,J=q):(de[J]=me,de[te]=U,J=te);else if(q<Y&&0>o(De,U))de[J]=De,de[q]=U,J=q;else break e}}return Oe}function o(de,Oe){var U=de.sortIndex-Oe.sortIndex;return U!==0?U:de.id-Oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],_=1,w=null,S=3,N=!1,k=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(de){for(var Oe=t(m);Oe!==null;){if(Oe.callback===null)i(m);else if(Oe.startTime<=de)i(m),Oe.sortIndex=Oe.expirationTime,e(p,Oe);else break;Oe=t(m)}}function $(de){if(A=!1,O(de),!k)if(t(p)!==null)k=!0,je(L);else{var Oe=t(m);Oe!==null&&xe($,Oe.startTime-de)}}function L(de,Oe){k=!1,A&&(A=!1,F(C),C=-1),N=!0;var U=S;try{for(O(Oe),w=t(p);w!==null&&(!(w.expirationTime>Oe)||de&&!V());){var J=w.callback;if(typeof J=="function"){w.callback=null,S=w.priorityLevel;var Y=J(w.expirationTime<=Oe);Oe=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(p)&&i(p),O(Oe)}else i(p);w=t(p)}if(w!==null)var K=!0;else{var te=t(m);te!==null&&xe($,te.startTime-Oe),K=!1}return K}finally{w=null,S=U,N=!1}}var G=!1,x=null,C=-1,I=5,R=-1;function V(){return!(n.unstable_now()-R<I)}function j(){if(x!==null){var de=n.unstable_now();R=de;var Oe=!0;try{Oe=x(!0,de)}finally{Oe?b():(G=!1,x=null)}}else G=!1}var b;if(typeof z=="function")b=function(){z(j)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,be=Ce.port2;Ce.port1.onmessage=j,b=function(){be.postMessage(null)}}else b=function(){T(j,0)};function je(de){x=de,G||(G=!0,b())}function xe(de,Oe){C=T(function(){de(n.unstable_now())},Oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_continueExecution=function(){k||N||(k=!0,je(L))},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(de){switch(S){case 1:case 2:case 3:var Oe=3;break;default:Oe=S}var U=S;S=Oe;try{return de()}finally{S=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(de,Oe){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var U=S;S=de;try{return Oe()}finally{S=U}},n.unstable_scheduleCallback=function(de,Oe,U){var J=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,de){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,de={id:_++,callback:Oe,priorityLevel:de,startTime:U,expirationTime:Y,sortIndex:-1},U>J?(de.sortIndex=U,e(m,de),t(p)===null&&de===t(m)&&(A?(F(C),C=-1):A=!0,xe($,U-J))):(de.sortIndex=Y,e(p,de),k||N||(k=!0,je(L))),de},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(de){var Oe=S;return function(){var U=S;S=Oe;try{return de.apply(this,arguments)}finally{S=U}}}}(yf)),yf}var By;function OS(){return By||(By=1,gf.exports=bS()),gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function NS(){if(Wy)return jn;Wy=1;var n=Mr(),e=OS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function S(r){return p.call(w,r)?!0:p.call(_,r)?!1:m.test(r)?w[r]=!0:(_[r]=!0,!1)}function N(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,s,l,h){if(s===null||typeof s>"u"||N(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(r,s,l,h,f,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){T[r]=new A(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];T[s]=new A(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){T[r]=new A(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){T[r]=new A(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){T[r]=new A(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){T[r]=new A(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){T[r]=new A(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){T[r]=new A(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){T[r]=new A(r,5,!1,r.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(F,z);T[s]=new A(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(F,z);T[s]=new A(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(F,z);T[s]=new A(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){T[r]=new A(r,1,!1,r.toLowerCase(),null,!1,!1)}),T.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){T[r]=new A(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,s,l,h){var f=T.hasOwnProperty(s)?T[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,f,h)&&(l=null),h||f===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),G=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),de=Symbol.iterator;function Oe(r){return r===null||typeof r!="object"?null:(r=de&&r[de]||r["@@iterator"],typeof r=="function"?r:null)}var U=Object.assign,J;function Y(r){if(J===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);J=s&&s[1]||""}return`
`+J+r}var K=!1;function te(r,s){if(!r||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ie){var h=ie}Reflect.construct(r,[],s)}else{try{s.call()}catch(ie){h=ie}r.call(s.prototype)}else{try{throw Error()}catch(ie){h=ie}r()}}catch(ie){if(ie&&h&&typeof ie.stack=="string"){for(var f=ie.stack.split(`
`),y=h.stack.split(`
`),E=f.length-1,M=y.length-1;1<=E&&0<=M&&f[E]!==y[M];)M--;for(;1<=E&&0<=M;E--,M--)if(f[E]!==y[M]){if(E!==1||M!==1)do if(E--,M--,0>M||f[E]!==y[M]){var B=`
`+f[E].replace(" at new "," at ");return r.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",r.displayName)),B}while(1<=E&&0<=M);break}}}finally{K=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function me(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=te(r.type,!1),r;case 11:return r=te(r.type.render,!1),r;case 1:return r=te(r.type,!0),r;default:return""}}function q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case G:return"Portal";case I:return"Profiler";case C:return"StrictMode";case b:return"Suspense";case Ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case R:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case be:return s=r.displayName||null,s!==null?s:q(r.type)||"Memo";case je:s=r._payload,r=r._init;try{return q(r(s))}catch{}}return null}function De(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ge(r){var s=We(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ye(r){r._valueTracker||(r._valueTracker=ge(r))}function Le(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=We(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function ot(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Et(r,s){var l=s.checked;return U({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Xe(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ft(r,s){s=s.checked,s!=null&&O(r,"checked",s,!1)}function nt(r,s){ft(r,s);var l=oe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Tt(r,s.type,l):s.hasOwnProperty("defaultValue")&&Tt(r,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Pt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Tt(r,s,l){(s!=="number"||ot(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var st=Array.isArray;function Ft(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function vn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return U({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function jt(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(st(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:oe(l)}}function He(r,s){var l=oe(s.value),h=oe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function lt(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var H,ae=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(H=H||document.createElement("div"),H.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=H.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function re(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var _e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ie=["Webkit","ms","Moz","O"];Object.keys(_e).forEach(function(r){Ie.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),_e[s]=_e[r]})});function Ne(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||_e.hasOwnProperty(r)&&_e[r]?(""+s).trim():s+"px"}function ye(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=Ne(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function le(r,s){if(s){if(ve[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ue(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ae=null;function ne(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ce=null,pe=null,Re=null;function qe(r){if(r=tl(r)){if(typeof ce!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Nu(s),ce(r.stateNode,r.type,s))}}function Je(r){pe?Re?Re.push(r):Re=[r]:pe=r}function mt(){if(pe){var r=pe,s=Re;if(Re=pe=null,qe(r),s)for(r=0;r<s.length;r++)qe(s[r])}}function _t(r,s){return r(s)}function Wn(){}var Gt=!1;function Hn(r,s,l){if(Gt)return r(s,l);Gt=!0;try{return _t(r,s,l)}finally{Gt=!1,(pe!==null||Re!==null)&&(Wn(),mt())}}function Ut(r,s){var l=r.stateNode;if(l===null)return null;var h=Nu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var co=!1;if(d)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){co=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{co=!1}function Is(r,s,l,h,f,y,E,M,B){var ie=Array.prototype.slice.call(arguments,3);try{s.apply(l,ie)}catch(Ee){this.onError(Ee)}}var Cs=!1,ho=null,gr=!1,La=null,Uh={onError:function(r){Cs=!0,ho=r}};function fo(r,s,l,h,f,y,E,M,B){Cs=!1,ho=null,Is.apply(Uh,arguments)}function iu(r,s,l,h,f,y,E,M,B){if(fo.apply(this,arguments),Cs){if(Cs){var ie=ho;Cs=!1,ho=null}else throw Error(t(198));gr||(gr=!0,La=ie)}}function yr(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Ps(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function vr(r){if(yr(r)!==r)throw Error(t(188))}function su(r){var s=r.alternate;if(!s){if(s=yr(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return vr(f),r;if(y===h)return vr(f),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=y;else{for(var E=!1,M=f.child;M;){if(M===l){E=!0,l=f,h=y;break}if(M===h){E=!0,h=f,l=y;break}M=M.sibling}if(!E){for(M=y.child;M;){if(M===l){E=!0,l=y,h=f;break}if(M===h){E=!0,h=y,l=f;break}M=M.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Va(r){return r=su(r),r!==null?po(r):null}function po(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=po(r);if(s!==null)return s;r=r.sibling}return null}var mo=e.unstable_scheduleCallback,Ma=e.unstable_cancelCallback,ou=e.unstable_shouldYield,zh=e.unstable_requestPaint,kt=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,As=e.unstable_ImmediatePriority,bi=e.unstable_UserBlockingPriority,nr=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,lu=e.unstable_IdlePriority,Rs=null,qn=null;function uu(r){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(Rs,r,void 0,(r.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:hu,ja=Math.log,cu=Math.LN2;function hu(r){return r>>>=0,r===0?32:31-(ja(r)/cu|0)|0}var go=64,yo=4194304;function Oi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ks(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var M=E&~f;M!==0?h=Oi(M):(y&=E,y!==0&&(h=Oi(y)))}else E=l&~f,E!==0?h=Oi(E):y!==0&&(h=Oi(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,y=s&-s,f>=y||f===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-An(s),f=1<<l,h|=r[l],s&=~f;return h}function $h(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ii(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-An(y),M=1<<E,B=f[E];B===-1?((M&l)===0||(M&h)!==0)&&(f[E]=$h(M,s)):B<=s&&(r.expiredLanes|=M),y&=~M}}function Gn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function xs(){var r=go;return go<<=1,(go&4194240)===0&&(go=64),r}function Ni(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Di(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-An(s),r[s]=l}function Rt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-An(l),y=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~y}}function Li(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-An(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var dt=0;function Vi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var du,vo,fu,pu,mu,Ua=!1,zr=[],dn=null,_r=null,wr=null,Mi=new Map,rr=new Map,$r=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(r,s){switch(r){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Mi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(s.pointerId)}}function On(r,s,l,h,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[f]},s!==null&&(s=tl(s),s!==null&&vo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Wh(r,s,l,h,f){switch(s){case"focusin":return dn=On(dn,r,s,l,h,f),!0;case"dragenter":return _r=On(_r,r,s,l,h,f),!0;case"mouseover":return wr=On(wr,r,s,l,h,f),!0;case"pointerover":var y=f.pointerId;return Mi.set(y,On(Mi.get(y)||null,r,s,l,h,f)),!0;case"gotpointercapture":return y=f.pointerId,rr.set(y,On(rr.get(y)||null,r,s,l,h,f)),!0}return!1}function yu(r){var s=Ls(r.target);if(s!==null){var l=yr(s);if(l!==null){if(s=l.tag,s===13){if(s=Ps(l),s!==null){r.blockedOn=s,mu(r.priority,function(){fu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function si(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=_o(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Ae=h,l.target.dispatchEvent(h),Ae=null}else return s=tl(l),s!==null&&vo(s),r.blockedOn=l,!1;s.shift()}return!0}function bs(r,s,l){si(r)&&l.delete(s)}function vu(){Ua=!1,dn!==null&&si(dn)&&(dn=null),_r!==null&&si(_r)&&(_r=null),wr!==null&&si(wr)&&(wr=null),Mi.forEach(bs),rr.forEach(bs)}function Er(r,s){r.blockedOn===s&&(r.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function Tr(r){function s(f){return Er(f,r)}if(0<zr.length){Er(zr[0],r);for(var l=1;l<zr.length;l++){var h=zr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(dn!==null&&Er(dn,r),_r!==null&&Er(_r,r),wr!==null&&Er(wr,r),Mi.forEach(s),rr.forEach(s),l=0;l<$r.length;l++)h=$r[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<$r.length&&(l=$r[0],l.blockedOn===null);)yu(l),l.blockedOn===null&&$r.shift()}var oi=$.ReactCurrentBatchConfig,Fi=!0;function Dt(r,s,l,h){var f=dt,y=oi.transition;oi.transition=null;try{dt=1,za(r,s,l,h)}finally{dt=f,oi.transition=y}}function Hh(r,s,l,h){var f=dt,y=oi.transition;oi.transition=null;try{dt=4,za(r,s,l,h)}finally{dt=f,oi.transition=y}}function za(r,s,l,h){if(Fi){var f=_o(r,s,l,h);if(f===null)nd(r,s,h,Os,l),gu(r,h);else if(Wh(f,r,s,l,h))h.stopPropagation();else if(gu(r,h),s&4&&-1<Bh.indexOf(r)){for(;f!==null;){var y=tl(f);if(y!==null&&du(y),y=_o(r,s,l,h),y===null&&nd(r,s,h,Os,l),y===f)break;f=y}f!==null&&h.stopPropagation()}else nd(r,s,h,null,l)}}var Os=null;function _o(r,s,l,h){if(Os=null,r=ne(h),r=Ls(r),r!==null)if(s=yr(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Ps(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Os=r,null}function $a(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case As:return 1;case bi:return 4;case nr:case Fa:return 16;case lu:return 536870912;default:return 16}default:return 16}}var Kn=null,wo=null,Nn=null;function Ba(){if(Nn)return Nn;var r,s=wo,l=s.length,h,f="value"in Kn?Kn.value:Kn.textContent,y=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===f[y-h];h++);return Nn=f.slice(r,1<h?1-h:void 0)}function Eo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Br(){return!0}function Wa(){return!1}function fn(r){function s(l,h,f,y,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(l=r[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Br:Wa,this.isPropagationStopped=Wa,this}return U(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),s}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=fn(Sr),Wr=U({},Sr,{view:0,detail:0}),qh=fn(Wr),So,ai,ji,Ns=U({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ji&&(ji&&r.type==="mousemove"?(So=r.screenX-ji.screenX,ai=r.screenY-ji.screenY):ai=So=0,ji=r),So)},movementY:function(r){return"movementY"in r?r.movementY:ai}}),Io=fn(Ns),Ha=U({},Ns,{dataTransfer:0}),_u=fn(Ha),Co=U({},Wr,{relatedTarget:0}),Po=fn(Co),wu=U({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),li=fn(wu),Eu=U({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=fn(Eu),Su=U({},Sr,{data:0}),qa=fn(Su),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Iu[r])?!!s[r]:!1}function Hr(){return Cu}var u=U({},Wr,{key:function(r){if(r.key){var s=Ao[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(r){return r.type==="keypress"?Eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=fn(u),v=U({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=fn(v),X=U({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),se=fn(X),ke=U({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),At=fn(ke),Jt=U({},Ns,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),gt=fn(Jt),rn=[9,13,27,32],Kt=d&&"CompositionEvent"in window,ir=null;d&&"documentMode"in document&&(ir=document.documentMode);var Qn=d&&"TextEvent"in window&&!ir,Ds=d&&(!Kt||ir&&8<ir&&11>=ir),Ro=" ",bm=!1;function Om(r,s){switch(r){case"keyup":return rn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ko=!1;function CT(r,s){switch(r){case"compositionend":return Nm(s);case"keypress":return s.which!==32?null:(bm=!0,Ro);case"textInput":return r=s.data,r===Ro&&bm?null:r;default:return null}}function PT(r,s){if(ko)return r==="compositionend"||!Kt&&Om(r,s)?(r=Ba(),Nn=wo=Kn=null,ko=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ds&&s.locale!=="ko"?null:s.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!AT[r.type]:s==="textarea"}function Lm(r,s,l,h){Je(h),s=xu(s,"onChange"),0<s.length&&(l=new To("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Ga=null,Ka=null;function RT(r){Zm(r,0)}function Pu(r){var s=Do(r);if(Le(s))return r}function kT(r,s){if(r==="change")return s}var Vm=!1;if(d){var Gh;if(d){var Kh="oninput"in document;if(!Kh){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),Kh=typeof Mm.oninput=="function"}Gh=Kh}else Gh=!1;Vm=Gh&&(!document.documentMode||9<document.documentMode)}function Fm(){Ga&&(Ga.detachEvent("onpropertychange",jm),Ka=Ga=null)}function jm(r){if(r.propertyName==="value"&&Pu(Ka)){var s=[];Lm(s,Ka,r,ne(r)),Hn(RT,s)}}function xT(r,s,l){r==="focusin"?(Fm(),Ga=s,Ka=l,Ga.attachEvent("onpropertychange",jm)):r==="focusout"&&Fm()}function bT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pu(Ka)}function OT(r,s){if(r==="click")return Pu(s)}function NT(r,s){if(r==="input"||r==="change")return Pu(s)}function DT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ir=typeof Object.is=="function"?Object.is:DT;function Qa(r,s){if(Ir(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!Ir(r[f],s[f]))return!1}return!0}function Um(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zm(r,s){var l=Um(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Um(l)}}function $m(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?$m(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Bm(){for(var r=window,s=ot();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ot(r.document)}return s}function Qh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function LT(r){var s=Bm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&$m(l.ownerDocument.documentElement,l)){if(h!==null&&Qh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,y=Math.min(h.start,f);h=h.end===void 0?y:Math.min(h.end,f),!r.extend&&y>h&&(f=h,h=y,y=f),f=zm(l,y);var E=zm(l,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var VT=d&&"documentMode"in document&&11>=document.documentMode,xo=null,Yh=null,Ya=null,Xh=!1;function Wm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xh||xo==null||xo!==ot(h)||(h=xo,"selectionStart"in h&&Qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ya&&Qa(Ya,h)||(Ya=h,h=xu(Yh,"onSelect"),0<h.length&&(s=new To("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=xo)))}function Au(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var bo={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Jh={},Hm={};d&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Ru(r){if(Jh[r])return Jh[r];if(!bo[r])return r;var s=bo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Hm)return Jh[r]=s[l];return r}var qm=Ru("animationend"),Gm=Ru("animationiteration"),Km=Ru("animationstart"),Qm=Ru("transitionend"),Ym=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(r,s){Ym.set(r,s),a(s,[r])}for(var Zh=0;Zh<Xm.length;Zh++){var ed=Xm[Zh],MT=ed.toLowerCase(),FT=ed[0].toUpperCase()+ed.slice(1);Ui(MT,"on"+FT)}Ui(qm,"onAnimationEnd"),Ui(Gm,"onAnimationIteration"),Ui(Km,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(Qm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function Jm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,iu(h,s,void 0,r),r.currentTarget=null}function Zm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var M=h[E],B=M.instance,ie=M.currentTarget;if(M=M.listener,B!==y&&f.isPropagationStopped())break e;Jm(f,M,ie),y=B}else for(E=0;E<h.length;E++){if(M=h[E],B=M.instance,ie=M.currentTarget,M=M.listener,B!==y&&f.isPropagationStopped())break e;Jm(f,M,ie),y=B}}}if(gr)throw r=La,gr=!1,La=null,r}function bt(r,s){var l=s[ld];l===void 0&&(l=s[ld]=new Set);var h=r+"__bubble";l.has(h)||(eg(s,r,2,!1),l.add(h))}function td(r,s,l){var h=0;s&&(h|=4),eg(l,r,h,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Ja(r){if(!r[ku]){r[ku]=!0,i.forEach(function(l){l!=="selectionchange"&&(jT.has(l)||td(l,!1,r),td(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ku]||(s[ku]=!0,td("selectionchange",!1,s))}}function eg(r,s,l,h){switch($a(s)){case 1:var f=Dt;break;case 4:f=Hh;break;default:f=za}l=f.bind(null,s,l,r),f=void 0,!co||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function nd(r,s,l,h,f){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var M=h.stateNode.containerInfo;if(M===f||M.nodeType===8&&M.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var B=E.tag;if((B===3||B===4)&&(B=E.stateNode.containerInfo,B===f||B.nodeType===8&&B.parentNode===f))return;E=E.return}for(;M!==null;){if(E=Ls(M),E===null)return;if(B=E.tag,B===5||B===6){h=y=E;continue e}M=M.parentNode}}h=h.return}Hn(function(){var ie=y,Ee=ne(l),Se=[];e:{var we=Ym.get(r);if(we!==void 0){var Ve=To,Ue=r;switch(r){case"keypress":if(Eo(l)===0)break e;case"keydown":case"keyup":Ve=g;break;case"focusin":Ue="focus",Ve=Po;break;case"focusout":Ue="blur",Ve=Po;break;case"beforeblur":case"afterblur":Ve=Po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=se;break;case qm:case Gm:case Km:Ve=li;break;case Qm:Ve=At;break;case"scroll":Ve=qh;break;case"wheel":Ve=gt;break;case"copy":case"cut":case"paste":Ve=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=P}var ze=(s&4)!==0,Ht=!ze&&r==="scroll",Z=ze?we!==null?we+"Capture":null:we;ze=[];for(var W=ie,ee;W!==null;){ee=W;var Pe=ee.stateNode;if(ee.tag===5&&Pe!==null&&(ee=Pe,Z!==null&&(Pe=Ut(W,Z),Pe!=null&&ze.push(Za(W,Pe,ee)))),Ht)break;W=W.return}0<ze.length&&(we=new Ve(we,Ue,null,l,Ee),Se.push({event:we,listeners:ze}))}}if((s&7)===0){e:{if(we=r==="mouseover"||r==="pointerover",Ve=r==="mouseout"||r==="pointerout",we&&l!==Ae&&(Ue=l.relatedTarget||l.fromElement)&&(Ls(Ue)||Ue[ui]))break e;if((Ve||we)&&(we=Ee.window===Ee?Ee:(we=Ee.ownerDocument)?we.defaultView||we.parentWindow:window,Ve?(Ue=l.relatedTarget||l.toElement,Ve=ie,Ue=Ue?Ls(Ue):null,Ue!==null&&(Ht=yr(Ue),Ue!==Ht||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Ve=null,Ue=ie),Ve!==Ue)){if(ze=Io,Pe="onMouseLeave",Z="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(ze=P,Pe="onPointerLeave",Z="onPointerEnter",W="pointer"),Ht=Ve==null?we:Do(Ve),ee=Ue==null?we:Do(Ue),we=new ze(Pe,W+"leave",Ve,l,Ee),we.target=Ht,we.relatedTarget=ee,Pe=null,Ls(Ee)===ie&&(ze=new ze(Z,W+"enter",Ue,l,Ee),ze.target=ee,ze.relatedTarget=Ht,Pe=ze),Ht=Pe,Ve&&Ue)t:{for(ze=Ve,Z=Ue,W=0,ee=ze;ee;ee=Oo(ee))W++;for(ee=0,Pe=Z;Pe;Pe=Oo(Pe))ee++;for(;0<W-ee;)ze=Oo(ze),W--;for(;0<ee-W;)Z=Oo(Z),ee--;for(;W--;){if(ze===Z||Z!==null&&ze===Z.alternate)break t;ze=Oo(ze),Z=Oo(Z)}ze=null}else ze=null;Ve!==null&&tg(Se,we,Ve,ze,!1),Ue!==null&&Ht!==null&&tg(Se,Ht,Ue,ze,!0)}}e:{if(we=ie?Do(ie):window,Ve=we.nodeName&&we.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&we.type==="file")var $e=kT;else if(Dm(we))if(Vm)$e=NT;else{$e=bT;var Ke=xT}else(Ve=we.nodeName)&&Ve.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&($e=OT);if($e&&($e=$e(r,ie))){Lm(Se,$e,l,Ee);break e}Ke&&Ke(r,we,ie),r==="focusout"&&(Ke=we._wrapperState)&&Ke.controlled&&we.type==="number"&&Tt(we,"number",we.value)}switch(Ke=ie?Do(ie):window,r){case"focusin":(Dm(Ke)||Ke.contentEditable==="true")&&(xo=Ke,Yh=ie,Ya=null);break;case"focusout":Ya=Yh=xo=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Wm(Se,l,Ee);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":Wm(Se,l,Ee)}var Qe;if(Kt)e:{switch(r){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else ko?Om(r,l)&&(tt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(tt="onCompositionStart");tt&&(Ds&&l.locale!=="ko"&&(ko||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&ko&&(Qe=Ba()):(Kn=Ee,wo="value"in Kn?Kn.value:Kn.textContent,ko=!0)),Ke=xu(ie,tt),0<Ke.length&&(tt=new qa(tt,r,null,l,Ee),Se.push({event:tt,listeners:Ke}),Qe?tt.data=Qe:(Qe=Nm(l),Qe!==null&&(tt.data=Qe)))),(Qe=Qn?CT(r,l):PT(r,l))&&(ie=xu(ie,"onBeforeInput"),0<ie.length&&(Ee=new qa("onBeforeInput","beforeinput",null,l,Ee),Se.push({event:Ee,listeners:ie}),Ee.data=Qe))}Zm(Se,s)})}function Za(r,s,l){return{instance:r,listener:s,currentTarget:l}}function xu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=Ut(r,l),y!=null&&h.unshift(Za(r,y,f)),y=Ut(r,s),y!=null&&h.push(Za(r,y,f))),r=r.return}return h}function Oo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function tg(r,s,l,h,f){for(var y=s._reactName,E=[];l!==null&&l!==h;){var M=l,B=M.alternate,ie=M.stateNode;if(B!==null&&B===h)break;M.tag===5&&ie!==null&&(M=ie,f?(B=Ut(l,y),B!=null&&E.unshift(Za(l,B,M))):f||(B=Ut(l,y),B!=null&&E.push(Za(l,B,M)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var UT=/\r\n?/g,zT=/\u0000|\uFFFD/g;function ng(r){return(typeof r=="string"?r:""+r).replace(UT,`
`).replace(zT,"")}function bu(r,s,l){if(s=ng(s),ng(r)!==s&&l)throw Error(t(425))}function Ou(){}var rd=null,id=null;function sd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(r){return rg.resolve(null).then(r).catch(WT)}:od;function WT(r){setTimeout(function(){throw r})}function ad(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Tr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Tr(s)}function zi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ig(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var No=Math.random().toString(36).slice(2),qr="__reactFiber$"+No,el="__reactProps$"+No,ui="__reactContainer$"+No,ld="__reactEvents$"+No,HT="__reactListeners$"+No,qT="__reactHandles$"+No;function Ls(r){var s=r[qr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[ui]||l[qr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ig(r);r!==null;){if(l=r[qr])return l;r=ig(r)}return s}r=l,l=r.parentNode}return null}function tl(r){return r=r[qr]||r[ui],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Do(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Nu(r){return r[el]||null}var ud=[],Lo=-1;function $i(r){return{current:r}}function Ot(r){0>Lo||(r.current=ud[Lo],ud[Lo]=null,Lo--)}function xt(r,s){Lo++,ud[Lo]=r.current,r.current=s}var Bi={},_n=$i(Bi),Dn=$i(!1),Vs=Bi;function Vo(r,s){var l=r.type.contextTypes;if(!l)return Bi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in l)f[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Ln(r){return r=r.childContextTypes,r!=null}function Du(){Ot(Dn),Ot(_n)}function sg(r,s,l){if(_n.current!==Bi)throw Error(t(168));xt(_n,s),xt(Dn,l)}function og(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,De(r)||"Unknown",f));return U({},l,h)}function Lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Bi,Vs=_n.current,xt(_n,r),xt(Dn,Dn.current),!0}function ag(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=og(r,s,Vs),h.__reactInternalMemoizedMergedChildContext=r,Ot(Dn),Ot(_n),xt(_n,r)):Ot(Dn),xt(Dn,l)}var ci=null,Vu=!1,cd=!1;function lg(r){ci===null?ci=[r]:ci.push(r)}function GT(r){Vu=!0,lg(r)}function Wi(){if(!cd&&ci!==null){cd=!0;var r=0,s=dt;try{var l=ci;for(dt=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}ci=null,Vu=!1}catch(f){throw ci!==null&&(ci=ci.slice(r+1)),mo(As,Wi),f}finally{dt=s,cd=!1}}return null}var Mo=[],Fo=0,Mu=null,Fu=0,sr=[],or=0,Ms=null,hi=1,di="";function Fs(r,s){Mo[Fo++]=Fu,Mo[Fo++]=Mu,Mu=r,Fu=s}function ug(r,s,l){sr[or++]=hi,sr[or++]=di,sr[or++]=Ms,Ms=r;var h=hi;r=di;var f=32-An(h)-1;h&=~(1<<f),l+=1;var y=32-An(s)+f;if(30<y){var E=f-f%5;y=(h&(1<<E)-1).toString(32),h>>=E,f-=E,hi=1<<32-An(s)+f|l<<f|h,di=y+r}else hi=1<<y|l<<f|h,di=r}function hd(r){r.return!==null&&(Fs(r,1),ug(r,1,0))}function dd(r){for(;r===Mu;)Mu=Mo[--Fo],Mo[Fo]=null,Fu=Mo[--Fo],Mo[Fo]=null;for(;r===Ms;)Ms=sr[--or],sr[or]=null,di=sr[--or],sr[or]=null,hi=sr[--or],sr[or]=null}var Yn=null,Xn=null,Lt=!1,Cr=null;function cg(r,s){var l=cr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function hg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Yn=r,Xn=zi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Yn=r,Xn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ms!==null?{id:hi,overflow:di}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=cr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Yn=r,Xn=null,!0):!1;default:return!1}}function fd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function pd(r){if(Lt){var s=Xn;if(s){var l=s;if(!hg(r,s)){if(fd(r))throw Error(t(418));s=zi(l.nextSibling);var h=Yn;s&&hg(r,s)?cg(h,l):(r.flags=r.flags&-4097|2,Lt=!1,Yn=r)}}else{if(fd(r))throw Error(t(418));r.flags=r.flags&-4097|2,Lt=!1,Yn=r}}}function dg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Yn=r}function ju(r){if(r!==Yn)return!1;if(!Lt)return dg(r),Lt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sd(r.type,r.memoizedProps)),s&&(s=Xn)){if(fd(r))throw fg(),Error(t(418));for(;s;)cg(r,s),s=zi(s.nextSibling)}if(dg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Xn=zi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Xn=null}}else Xn=Yn?zi(r.stateNode.nextSibling):null;return!0}function fg(){for(var r=Xn;r;)r=zi(r.nextSibling)}function jo(){Xn=Yn=null,Lt=!1}function md(r){Cr===null?Cr=[r]:Cr.push(r)}var KT=$.ReactCurrentBatchConfig;function Pr(r,s){if(r&&r.defaultProps){s=U({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}var Uu=$i(null),zu=null,Uo=null,gd=null;function yd(){gd=Uo=zu=null}function vd(r){var s=Uu.current;Ot(Uu),r._currentValue=s}function _d(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function zo(r,s){zu=r,gd=Uo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Vn=!0),r.firstContext=null)}function ar(r){var s=r._currentValue;if(gd!==r)if(r={context:r,memoizedValue:s,next:null},Uo===null){if(zu===null)throw Error(t(308));Uo=r,zu.dependencies={lanes:0,firstContext:r}}else Uo=Uo.next=r;return s}var js=null;function wd(r){js===null?js=[r]:js.push(r)}function pg(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,wd(s)):(l.next=f.next,f.next=l),s.interleaved=l,fi(r,h)}function fi(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Hi=!1;function Ed(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function pi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function qi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,fi(r,l)}return f=h.interleaved,f===null?(s.next=s,wd(h)):(s.next=f.next,f.next=s),h.interleaved=s,fi(r,l)}function $u(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Li(r,l)}}function gg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?f=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?f=y=s:y=y.next=s}else f=y=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Bu(r,s,l,h){var f=r.updateQueue;Hi=!1;var y=f.firstBaseUpdate,E=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var B=M,ie=B.next;B.next=null,E===null?y=ie:E.next=ie,E=B;var Ee=r.alternate;Ee!==null&&(Ee=Ee.updateQueue,M=Ee.lastBaseUpdate,M!==E&&(M===null?Ee.firstBaseUpdate=ie:M.next=ie,Ee.lastBaseUpdate=B))}if(y!==null){var Se=f.baseState;E=0,Ee=ie=B=null,M=y;do{var we=M.lane,Ve=M.eventTime;if((h&we)===we){Ee!==null&&(Ee=Ee.next={eventTime:Ve,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ue=r,ze=M;switch(we=s,Ve=l,ze.tag){case 1:if(Ue=ze.payload,typeof Ue=="function"){Se=Ue.call(Ve,Se,we);break e}Se=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=ze.payload,we=typeof Ue=="function"?Ue.call(Ve,Se,we):Ue,we==null)break e;Se=U({},Se,we);break e;case 2:Hi=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,we=f.effects,we===null?f.effects=[M]:we.push(M))}else Ve={eventTime:Ve,lane:we,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Ee===null?(ie=Ee=Ve,B=Se):Ee=Ee.next=Ve,E|=we;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;we=M,M=we.next,we.next=null,f.lastBaseUpdate=we,f.shared.pending=null}}while(!0);if(Ee===null&&(B=Se),f.baseState=B,f.firstBaseUpdate=ie,f.lastBaseUpdate=Ee,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else y===null&&(f.shared.lanes=0);$s|=E,r.lanes=E,r.memoizedState=Se}}function yg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var vg=new n.Component().refs;function Td(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:U({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Wu={isMounted:function(r){return(r=r._reactInternals)?yr(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=xn(),f=Yi(r),y=pi(h,f);y.payload=s,l!=null&&(y.callback=l),s=qi(r,y,f),s!==null&&(kr(s,r,f,h),$u(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=xn(),f=Yi(r),y=pi(h,f);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=qi(r,y,f),s!==null&&(kr(s,r,f,h),$u(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=xn(),h=Yi(r),f=pi(l,h);f.tag=2,s!=null&&(f.callback=s),s=qi(r,f,h),s!==null&&(kr(s,r,h,l),$u(s,r,h))}};function _g(r,s,l,h,f,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Qa(l,h)||!Qa(f,y):!0}function wg(r,s,l){var h=!1,f=Bi,y=s.contextType;return typeof y=="object"&&y!==null?y=ar(y):(f=Ln(s)?Vs:_n.current,h=s.contextTypes,y=(h=h!=null)?Vo(r,f):Bi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Wu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=y),s}function Eg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Wu.enqueueReplaceState(s,s.state,null)}function Sd(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs=vg,Ed(r);var y=s.contextType;typeof y=="object"&&y!==null?f.context=ar(y):(y=Ln(s)?Vs:_n.current,f.context=Vo(r,y)),f.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Td(r,s,y,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Wu.enqueueReplaceState(f,f.state,null),Bu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function nl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var M=f.refs;M===vg&&(M=f.refs={}),E===null?delete M[y]:M[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Hu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Tg(r){var s=r._init;return s(r._payload)}function Sg(r){function s(Z,W){if(r){var ee=Z.deletions;ee===null?(Z.deletions=[W],Z.flags|=16):ee.push(W)}}function l(Z,W){if(!r)return null;for(;W!==null;)s(Z,W),W=W.sibling;return null}function h(Z,W){for(Z=new Map;W!==null;)W.key!==null?Z.set(W.key,W):Z.set(W.index,W),W=W.sibling;return Z}function f(Z,W){return Z=Ji(Z,W),Z.index=0,Z.sibling=null,Z}function y(Z,W,ee){return Z.index=ee,r?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<W?(Z.flags|=2,W):ee):(Z.flags|=2,W)):(Z.flags|=1048576,W)}function E(Z){return r&&Z.alternate===null&&(Z.flags|=2),Z}function M(Z,W,ee,Pe){return W===null||W.tag!==6?(W=af(ee,Z.mode,Pe),W.return=Z,W):(W=f(W,ee),W.return=Z,W)}function B(Z,W,ee,Pe){var $e=ee.type;return $e===x?Ee(Z,W,ee.props.children,Pe,ee.key):W!==null&&(W.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===je&&Tg($e)===W.type)?(Pe=f(W,ee.props),Pe.ref=nl(Z,W,ee),Pe.return=Z,Pe):(Pe=cc(ee.type,ee.key,ee.props,null,Z.mode,Pe),Pe.ref=nl(Z,W,ee),Pe.return=Z,Pe)}function ie(Z,W,ee,Pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=lf(ee,Z.mode,Pe),W.return=Z,W):(W=f(W,ee.children||[]),W.return=Z,W)}function Ee(Z,W,ee,Pe,$e){return W===null||W.tag!==7?(W=qs(ee,Z.mode,Pe,$e),W.return=Z,W):(W=f(W,ee),W.return=Z,W)}function Se(Z,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number")return W=af(""+W,Z.mode,ee),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case L:return ee=cc(W.type,W.key,W.props,null,Z.mode,ee),ee.ref=nl(Z,null,W),ee.return=Z,ee;case G:return W=lf(W,Z.mode,ee),W.return=Z,W;case je:var Pe=W._init;return Se(Z,Pe(W._payload),ee)}if(st(W)||Oe(W))return W=qs(W,Z.mode,ee,null),W.return=Z,W;Hu(Z,W)}return null}function we(Z,W,ee,Pe){var $e=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return $e!==null?null:M(Z,W,""+ee,Pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return ee.key===$e?B(Z,W,ee,Pe):null;case G:return ee.key===$e?ie(Z,W,ee,Pe):null;case je:return $e=ee._init,we(Z,W,$e(ee._payload),Pe)}if(st(ee)||Oe(ee))return $e!==null?null:Ee(Z,W,ee,Pe,null);Hu(Z,ee)}return null}function Ve(Z,W,ee,Pe,$e){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Z=Z.get(ee)||null,M(W,Z,""+Pe,$e);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case L:return Z=Z.get(Pe.key===null?ee:Pe.key)||null,B(W,Z,Pe,$e);case G:return Z=Z.get(Pe.key===null?ee:Pe.key)||null,ie(W,Z,Pe,$e);case je:var Ke=Pe._init;return Ve(Z,W,ee,Ke(Pe._payload),$e)}if(st(Pe)||Oe(Pe))return Z=Z.get(ee)||null,Ee(W,Z,Pe,$e,null);Hu(W,Pe)}return null}function Ue(Z,W,ee,Pe){for(var $e=null,Ke=null,Qe=W,tt=W=0,an=null;Qe!==null&&tt<ee.length;tt++){Qe.index>tt?(an=Qe,Qe=null):an=Qe.sibling;var wt=we(Z,Qe,ee[tt],Pe);if(wt===null){Qe===null&&(Qe=an);break}r&&Qe&&wt.alternate===null&&s(Z,Qe),W=y(wt,W,tt),Ke===null?$e=wt:Ke.sibling=wt,Ke=wt,Qe=an}if(tt===ee.length)return l(Z,Qe),Lt&&Fs(Z,tt),$e;if(Qe===null){for(;tt<ee.length;tt++)Qe=Se(Z,ee[tt],Pe),Qe!==null&&(W=y(Qe,W,tt),Ke===null?$e=Qe:Ke.sibling=Qe,Ke=Qe);return Lt&&Fs(Z,tt),$e}for(Qe=h(Z,Qe);tt<ee.length;tt++)an=Ve(Qe,Z,tt,ee[tt],Pe),an!==null&&(r&&an.alternate!==null&&Qe.delete(an.key===null?tt:an.key),W=y(an,W,tt),Ke===null?$e=an:Ke.sibling=an,Ke=an);return r&&Qe.forEach(function(Zi){return s(Z,Zi)}),Lt&&Fs(Z,tt),$e}function ze(Z,W,ee,Pe){var $e=Oe(ee);if(typeof $e!="function")throw Error(t(150));if(ee=$e.call(ee),ee==null)throw Error(t(151));for(var Ke=$e=null,Qe=W,tt=W=0,an=null,wt=ee.next();Qe!==null&&!wt.done;tt++,wt=ee.next()){Qe.index>tt?(an=Qe,Qe=null):an=Qe.sibling;var Zi=we(Z,Qe,wt.value,Pe);if(Zi===null){Qe===null&&(Qe=an);break}r&&Qe&&Zi.alternate===null&&s(Z,Qe),W=y(Zi,W,tt),Ke===null?$e=Zi:Ke.sibling=Zi,Ke=Zi,Qe=an}if(wt.done)return l(Z,Qe),Lt&&Fs(Z,tt),$e;if(Qe===null){for(;!wt.done;tt++,wt=ee.next())wt=Se(Z,wt.value,Pe),wt!==null&&(W=y(wt,W,tt),Ke===null?$e=wt:Ke.sibling=wt,Ke=wt);return Lt&&Fs(Z,tt),$e}for(Qe=h(Z,Qe);!wt.done;tt++,wt=ee.next())wt=Ve(Qe,Z,tt,wt.value,Pe),wt!==null&&(r&&wt.alternate!==null&&Qe.delete(wt.key===null?tt:wt.key),W=y(wt,W,tt),Ke===null?$e=wt:Ke.sibling=wt,Ke=wt);return r&&Qe.forEach(function(AS){return s(Z,AS)}),Lt&&Fs(Z,tt),$e}function Ht(Z,W,ee,Pe){if(typeof ee=="object"&&ee!==null&&ee.type===x&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:e:{for(var $e=ee.key,Ke=W;Ke!==null;){if(Ke.key===$e){if($e=ee.type,$e===x){if(Ke.tag===7){l(Z,Ke.sibling),W=f(Ke,ee.props.children),W.return=Z,Z=W;break e}}else if(Ke.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===je&&Tg($e)===Ke.type){l(Z,Ke.sibling),W=f(Ke,ee.props),W.ref=nl(Z,Ke,ee),W.return=Z,Z=W;break e}l(Z,Ke);break}else s(Z,Ke);Ke=Ke.sibling}ee.type===x?(W=qs(ee.props.children,Z.mode,Pe,ee.key),W.return=Z,Z=W):(Pe=cc(ee.type,ee.key,ee.props,null,Z.mode,Pe),Pe.ref=nl(Z,W,ee),Pe.return=Z,Z=Pe)}return E(Z);case G:e:{for(Ke=ee.key;W!==null;){if(W.key===Ke)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){l(Z,W.sibling),W=f(W,ee.children||[]),W.return=Z,Z=W;break e}else{l(Z,W);break}else s(Z,W);W=W.sibling}W=lf(ee,Z.mode,Pe),W.return=Z,Z=W}return E(Z);case je:return Ke=ee._init,Ht(Z,W,Ke(ee._payload),Pe)}if(st(ee))return Ue(Z,W,ee,Pe);if(Oe(ee))return ze(Z,W,ee,Pe);Hu(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,W!==null&&W.tag===6?(l(Z,W.sibling),W=f(W,ee),W.return=Z,Z=W):(l(Z,W),W=af(ee,Z.mode,Pe),W.return=Z,Z=W),E(Z)):l(Z,W)}return Ht}var $o=Sg(!0),Ig=Sg(!1),rl={},Gr=$i(rl),il=$i(rl),sl=$i(rl);function Us(r){if(r===rl)throw Error(t(174));return r}function Id(r,s){switch(xt(sl,s),xt(il,r),xt(Gr,rl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:D(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=D(s,r)}Ot(Gr),xt(Gr,s)}function Bo(){Ot(Gr),Ot(il),Ot(sl)}function Cg(r){Us(sl.current);var s=Us(Gr.current),l=D(s,r.type);s!==l&&(xt(il,r),xt(Gr,l))}function Cd(r){il.current===r&&(Ot(Gr),Ot(il))}var zt=$i(0);function qu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pd=[];function Ad(){for(var r=0;r<Pd.length;r++)Pd[r]._workInProgressVersionPrimary=null;Pd.length=0}var Gu=$.ReactCurrentDispatcher,Rd=$.ReactCurrentBatchConfig,zs=0,$t=null,Zt=null,sn=null,Ku=!1,ol=!1,al=0,QT=0;function wn(){throw Error(t(321))}function kd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Ir(r[l],s[l]))return!1;return!0}function xd(r,s,l,h,f,y){if(zs=y,$t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gu.current=r===null||r.memoizedState===null?ZT:eS,r=l(h,f),ol){y=0;do{if(ol=!1,al=0,25<=y)throw Error(t(301));y+=1,sn=Zt=null,s.updateQueue=null,Gu.current=tS,r=l(h,f)}while(ol)}if(Gu.current=Xu,s=Zt!==null&&Zt.next!==null,zs=0,sn=Zt=$t=null,Ku=!1,s)throw Error(t(300));return r}function bd(){var r=al!==0;return al=0,r}function Kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?$t.memoizedState=sn=r:sn=sn.next=r,sn}function lr(){if(Zt===null){var r=$t.alternate;r=r!==null?r.memoizedState:null}else r=Zt.next;var s=sn===null?$t.memoizedState:sn.next;if(s!==null)sn=s,Zt=r;else{if(r===null)throw Error(t(310));Zt=r,r={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},sn===null?$t.memoizedState=sn=r:sn=sn.next=r}return sn}function ll(r,s){return typeof s=="function"?s(r):s}function Od(r){var s=lr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Zt,f=h.baseQueue,y=l.pending;if(y!==null){if(f!==null){var E=f.next;f.next=y.next,y.next=E}h.baseQueue=f=y,l.pending=null}if(f!==null){y=f.next,h=h.baseState;var M=E=null,B=null,ie=y;do{var Ee=ie.lane;if((zs&Ee)===Ee)B!==null&&(B=B.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),h=ie.hasEagerState?ie.eagerState:r(h,ie.action);else{var Se={lane:Ee,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};B===null?(M=B=Se,E=h):B=B.next=Se,$t.lanes|=Ee,$s|=Ee}ie=ie.next}while(ie!==null&&ie!==y);B===null?E=h:B.next=M,Ir(h,s.memoizedState)||(Vn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=B,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do y=f.lane,$t.lanes|=y,$s|=y,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Nd(r){var s=lr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,y=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do y=r(y,E.action),E=E.next;while(E!==f);Ir(y,s.memoizedState)||(Vn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Pg(){}function Ag(r,s){var l=$t,h=lr(),f=s(),y=!Ir(h.memoizedState,f);if(y&&(h.memoizedState=f,Vn=!0),h=h.queue,Dd(xg.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||sn!==null&&sn.memoizedState.tag&1){if(l.flags|=2048,ul(9,kg.bind(null,l,h,f,s),void 0,null),on===null)throw Error(t(349));(zs&30)!==0||Rg(l,s,f)}return f}function Rg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=$t.updateQueue,s===null?(s={lastEffect:null,stores:null},$t.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function kg(r,s,l,h){s.value=l,s.getSnapshot=h,bg(s)&&Og(r)}function xg(r,s,l){return l(function(){bg(s)&&Og(r)})}function bg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Ir(r,l)}catch{return!0}}function Og(r){var s=fi(r,1);s!==null&&kr(s,r,1,-1)}function Ng(r){var s=Kr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:r},s.queue=r,r=r.dispatch=JT.bind(null,$t,r),[s.memoizedState,r]}function ul(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=$t.updateQueue,s===null?(s={lastEffect:null,stores:null},$t.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Dg(){return lr().memoizedState}function Qu(r,s,l,h){var f=Kr();$t.flags|=r,f.memoizedState=ul(1|s,l,void 0,h===void 0?null:h)}function Yu(r,s,l,h){var f=lr();h=h===void 0?null:h;var y=void 0;if(Zt!==null){var E=Zt.memoizedState;if(y=E.destroy,h!==null&&kd(h,E.deps)){f.memoizedState=ul(s,l,y,h);return}}$t.flags|=r,f.memoizedState=ul(1|s,l,y,h)}function Lg(r,s){return Qu(8390656,8,r,s)}function Dd(r,s){return Yu(2048,8,r,s)}function Vg(r,s){return Yu(4,2,r,s)}function Mg(r,s){return Yu(4,4,r,s)}function Fg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function jg(r,s,l){return l=l!=null?l.concat([r]):null,Yu(4,4,Fg.bind(null,s,r),l)}function Ld(){}function Ug(r,s){var l=lr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function zg(r,s){var l=lr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function $g(r,s,l){return(zs&21)===0?(r.baseState&&(r.baseState=!1,Vn=!0),r.memoizedState=l):(Ir(l,s)||(l=xs(),$t.lanes|=l,$s|=l,r.baseState=!0),s)}function YT(r,s){var l=dt;dt=l!==0&&4>l?l:4,r(!0);var h=Rd.transition;Rd.transition={};try{r(!1),s()}finally{dt=l,Rd.transition=h}}function Bg(){return lr().memoizedState}function XT(r,s,l){var h=Yi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Wg(r))Hg(s,l);else if(l=pg(r,s,l,h),l!==null){var f=xn();kr(l,r,h,f),qg(l,s,h)}}function JT(r,s,l){var h=Yi(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wg(r))Hg(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,M=y(E,l);if(f.hasEagerState=!0,f.eagerState=M,Ir(M,E)){var B=s.interleaved;B===null?(f.next=f,wd(s)):(f.next=B.next,B.next=f),s.interleaved=f;return}}catch{}finally{}l=pg(r,s,f,h),l!==null&&(f=xn(),kr(l,r,h,f),qg(l,s,h))}}function Wg(r){var s=r.alternate;return r===$t||s!==null&&s===$t}function Hg(r,s){ol=Ku=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function qg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Li(r,l)}}var Xu={readContext:ar,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},ZT={readContext:ar,useCallback:function(r,s){return Kr().memoizedState=[r,s===void 0?null:s],r},useContext:ar,useEffect:Lg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Qu(4194308,4,Fg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Qu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Qu(4,2,r,s)},useMemo:function(r,s){var l=Kr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Kr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=XT.bind(null,$t,r),[h.memoizedState,r]},useRef:function(r){var s=Kr();return r={current:r},s.memoizedState=r},useState:Ng,useDebugValue:Ld,useDeferredValue:function(r){return Kr().memoizedState=r},useTransition:function(){var r=Ng(!1),s=r[0];return r=YT.bind(null,r[1]),Kr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=$t,f=Kr();if(Lt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),on===null)throw Error(t(349));(zs&30)!==0||Rg(h,s,l)}f.memoizedState=l;var y={value:l,getSnapshot:s};return f.queue=y,Lg(xg.bind(null,h,y,r),[r]),h.flags|=2048,ul(9,kg.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=Kr(),s=on.identifierPrefix;if(Lt){var l=di,h=hi;l=(h&~(1<<32-An(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=al++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=QT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},eS={readContext:ar,useCallback:Ug,useContext:ar,useEffect:Dd,useImperativeHandle:jg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:zg,useReducer:Od,useRef:Dg,useState:function(){return Od(ll)},useDebugValue:Ld,useDeferredValue:function(r){var s=lr();return $g(s,Zt.memoizedState,r)},useTransition:function(){var r=Od(ll)[0],s=lr().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:Ag,useId:Bg,unstable_isNewReconciler:!1},tS={readContext:ar,useCallback:Ug,useContext:ar,useEffect:Dd,useImperativeHandle:jg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:zg,useReducer:Nd,useRef:Dg,useState:function(){return Nd(ll)},useDebugValue:Ld,useDeferredValue:function(r){var s=lr();return Zt===null?s.memoizedState=r:$g(s,Zt.memoizedState,r)},useTransition:function(){var r=Nd(ll)[0],s=lr().memoizedState;return[r,s]},useMutableSource:Pg,useSyncExternalStore:Ag,useId:Bg,unstable_isNewReconciler:!1};function Wo(r,s){try{var l="",h=s;do l+=me(h),h=h.return;while(h);var f=l}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:f,digest:null}}function Vd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Md(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var nS=typeof WeakMap=="function"?WeakMap:Map;function Gg(r,s,l){l=pi(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){ic||(ic=!0,Jd=h),Md(r,s)},l}function Kg(r,s,l){l=pi(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){Md(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Md(r,s),typeof h!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Qg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new nS;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=gS.bind(null,r,s,l),s.then(r,r))}function Yg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Xg(r,s,l,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=pi(-1,1),s.tag=2,qi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var rS=$.ReactCurrentOwner,Vn=!1;function kn(r,s,l,h){s.child=r===null?Ig(s,null,l,h):$o(s,r.child,l,h)}function Jg(r,s,l,h,f){l=l.render;var y=s.ref;return zo(s,f),h=xd(r,s,l,h,y,f),l=bd(),r!==null&&!Vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,mi(r,s,f)):(Lt&&l&&hd(s),s.flags|=1,kn(r,s,h,f),s.child)}function Zg(r,s,l,h,f){if(r===null){var y=l.type;return typeof y=="function"&&!of(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,ey(r,s,y,h,f)):(r=cc(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&f)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(E,h)&&r.ref===s.ref)return mi(r,s,f)}return s.flags|=1,r=Ji(y,h),r.ref=s.ref,r.return=s,s.child=r}function ey(r,s,l,h,f){if(r!==null){var y=r.memoizedProps;if(Qa(y,h)&&r.ref===s.ref)if(Vn=!1,s.pendingProps=h=y,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Vn=!0);else return s.lanes=r.lanes,mi(r,s,f)}return Fd(r,s,l,h,f)}function ty(r,s,l){var h=s.pendingProps,f=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(qo,Jn),Jn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,xt(qo,Jn),Jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,xt(qo,Jn),Jn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,xt(qo,Jn),Jn|=h;return kn(r,s,f,l),s.child}function ny(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Fd(r,s,l,h,f){var y=Ln(l)?Vs:_n.current;return y=Vo(s,y),zo(s,f),l=xd(r,s,l,h,y,f),h=bd(),r!==null&&!Vn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,mi(r,s,f)):(Lt&&h&&hd(s),s.flags|=1,kn(r,s,l,f),s.child)}function ry(r,s,l,h,f){if(Ln(l)){var y=!0;Lu(s)}else y=!1;if(zo(s,f),s.stateNode===null)Zu(r,s),wg(s,l,h),Sd(s,l,h,f),h=!0;else if(r===null){var E=s.stateNode,M=s.memoizedProps;E.props=M;var B=E.context,ie=l.contextType;typeof ie=="object"&&ie!==null?ie=ar(ie):(ie=Ln(l)?Vs:_n.current,ie=Vo(s,ie));var Ee=l.getDerivedStateFromProps,Se=typeof Ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";Se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==h||B!==ie)&&Eg(s,E,h,ie),Hi=!1;var we=s.memoizedState;E.state=we,Bu(s,h,E,f),B=s.memoizedState,M!==h||we!==B||Dn.current||Hi?(typeof Ee=="function"&&(Td(s,l,Ee,h),B=s.memoizedState),(M=Hi||_g(s,l,M,h,we,B,ie))?(Se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=B),E.props=h,E.state=B,E.context=ie,h=M):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,mg(r,s),M=s.memoizedProps,ie=s.type===s.elementType?M:Pr(s.type,M),E.props=ie,Se=s.pendingProps,we=E.context,B=l.contextType,typeof B=="object"&&B!==null?B=ar(B):(B=Ln(l)?Vs:_n.current,B=Vo(s,B));var Ve=l.getDerivedStateFromProps;(Ee=typeof Ve=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==Se||we!==B)&&Eg(s,E,h,B),Hi=!1,we=s.memoizedState,E.state=we,Bu(s,h,E,f);var Ue=s.memoizedState;M!==Se||we!==Ue||Dn.current||Hi?(typeof Ve=="function"&&(Td(s,l,Ve,h),Ue=s.memoizedState),(ie=Hi||_g(s,l,ie,h,we,Ue,B)||!1)?(Ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,Ue,B),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,Ue,B)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||M===r.memoizedProps&&we===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&we===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Ue),E.props=h,E.state=Ue,E.context=B,h=ie):(typeof E.componentDidUpdate!="function"||M===r.memoizedProps&&we===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&we===r.memoizedState||(s.flags|=1024),h=!1)}return jd(r,s,l,h,y,f)}function jd(r,s,l,h,f,y){ny(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&ag(s,l,!1),mi(r,s,y);h=s.stateNode,rS.current=s;var M=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=$o(s,r.child,null,y),s.child=$o(s,null,M,y)):kn(r,s,M,y),s.memoizedState=h.state,f&&ag(s,l,!0),s.child}function iy(r){var s=r.stateNode;s.pendingContext?sg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&sg(r,s.context,!1),Id(r,s.containerInfo)}function sy(r,s,l,h,f){return jo(),md(f),s.flags|=256,kn(r,s,l,h),s.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function zd(r){return{baseLanes:r,cachePool:null,transitions:null}}function oy(r,s,l){var h=s.pendingProps,f=zt.current,y=!1,E=(s.flags&128)!==0,M;if((M=E)||(M=r!==null&&r.memoizedState===null?!1:(f&2)!==0),M?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),xt(zt,f&1),r===null)return pd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=hc(E,h,0,null),r=qs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=zd(l),s.memoizedState=Ud,r):$d(s,E));if(f=r.memoizedState,f!==null&&(M=f.dehydrated,M!==null))return iS(r,s,E,h,M,f,l);if(y){y=h.fallback,E=s.mode,f=r.child,M=f.sibling;var B={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=B,s.deletions=null):(h=Ji(f,B),h.subtreeFlags=f.subtreeFlags&14680064),M!==null?y=Ji(M,y):(y=qs(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?zd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Ud,h}return y=r.child,r=y.sibling,h=Ji(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function $d(r,s){return s=hc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ju(r,s,l,h){return h!==null&&md(h),$o(s,r.child,null,l),r=$d(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function iS(r,s,l,h,f,y,E){if(l)return s.flags&256?(s.flags&=-257,h=Vd(Error(t(422))),Ju(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,f=s.mode,h=hc({mode:"visible",children:h.children},f,0,null),y=qs(y,f,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&$o(s,r.child,null,E),s.child.memoizedState=zd(E),s.memoizedState=Ud,y);if((s.mode&1)===0)return Ju(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var M=h.dgst;return h=M,y=Error(t(419)),h=Vd(y,h,void 0),Ju(r,s,E,h)}if(M=(E&r.childLanes)!==0,Vn||M){if(h=on,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,fi(r,f),kr(h,r,f,-1))}return sf(),h=Vd(Error(t(421))),Ju(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=yS.bind(null,r),f._reactRetry=s,null):(r=y.treeContext,Xn=zi(f.nextSibling),Yn=s,Lt=!0,Cr=null,r!==null&&(sr[or++]=hi,sr[or++]=di,sr[or++]=Ms,hi=r.id,di=r.overflow,Ms=s),s=$d(s,h.children),s.flags|=4096,s)}function ay(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),_d(r.return,s,l)}function Bd(r,s,l,h,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=f)}function ly(r,s,l){var h=s.pendingProps,f=h.revealOrder,y=h.tail;if(kn(r,s,h.children,l),h=zt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ay(r,l,s);else if(r.tag===19)ay(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(xt(zt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&qu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Bd(s,!1,f,l,y);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&qu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Bd(s,!0,l,null,y);break;case"together":Bd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function mi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),$s|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ji(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ji(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function sS(r,s,l){switch(s.tag){case 3:iy(s),jo();break;case 5:Cg(s);break;case 1:Ln(s.type)&&Lu(s);break;case 4:Id(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;xt(Uu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(xt(zt,zt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?oy(r,s,l):(xt(zt,zt.current&1),r=mi(r,s,l),r!==null?r.sibling:null);xt(zt,zt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return ly(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),xt(zt,zt.current),h)break;return null;case 22:case 23:return s.lanes=0,ty(r,s,l)}return mi(r,s,l)}var uy,Wd,cy,hy;uy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Wd=function(){},cy=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Us(Gr.current);var y=null;switch(l){case"input":f=Et(r,f),h=Et(r,h),y=[];break;case"select":f=U({},f,{value:void 0}),h=U({},h,{value:void 0}),y=[];break;case"textarea":f=vn(r,f),h=vn(r,h),y=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Ou)}le(l,h);var E;l=null;for(ie in f)if(!h.hasOwnProperty(ie)&&f.hasOwnProperty(ie)&&f[ie]!=null)if(ie==="style"){var M=f[ie];for(E in M)M.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(o.hasOwnProperty(ie)?y||(y=[]):(y=y||[]).push(ie,null));for(ie in h){var B=h[ie];if(M=f!=null?f[ie]:void 0,h.hasOwnProperty(ie)&&B!==M&&(B!=null||M!=null))if(ie==="style")if(M){for(E in M)!M.hasOwnProperty(E)||B&&B.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in B)B.hasOwnProperty(E)&&M[E]!==B[E]&&(l||(l={}),l[E]=B[E])}else l||(y||(y=[]),y.push(ie,l)),l=B;else ie==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,M=M?M.__html:void 0,B!=null&&M!==B&&(y=y||[]).push(ie,B)):ie==="children"?typeof B!="string"&&typeof B!="number"||(y=y||[]).push(ie,""+B):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(o.hasOwnProperty(ie)?(B!=null&&ie==="onScroll"&&bt("scroll",r),y||M===B||(y=[])):(y=y||[]).push(ie,B))}l&&(y=y||[]).push("style",l);var ie=y;(s.updateQueue=ie)&&(s.flags|=4)}},hy=function(r,s,l,h){l!==h&&(s.flags|=4)};function cl(r,s){if(!Lt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function En(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function oS(r,s,l){var h=s.pendingProps;switch(dd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(s),null;case 1:return Ln(s.type)&&Du(),En(s),null;case 3:return h=s.stateNode,Bo(),Ot(Dn),Ot(_n),Ad(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ju(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cr!==null&&(tf(Cr),Cr=null))),Wd(r,s),En(s),null;case 5:Cd(s);var f=Us(sl.current);if(l=s.type,r!==null&&s.stateNode!=null)cy(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return En(s),null}if(r=Us(Gr.current),ju(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[qr]=s,h[el]=y,r=(s.mode&1)!==0,l){case"dialog":bt("cancel",h),bt("close",h);break;case"iframe":case"object":case"embed":bt("load",h);break;case"video":case"audio":for(f=0;f<Xa.length;f++)bt(Xa[f],h);break;case"source":bt("error",h);break;case"img":case"image":case"link":bt("error",h),bt("load",h);break;case"details":bt("toggle",h);break;case"input":Xe(h,y),bt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},bt("invalid",h);break;case"textarea":jt(h,y),bt("invalid",h)}le(l,y),f=null;for(var E in y)if(y.hasOwnProperty(E)){var M=y[E];E==="children"?typeof M=="string"?h.textContent!==M&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,M,r),f=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,M,r),f=["children",""+M]):o.hasOwnProperty(E)&&M!=null&&E==="onScroll"&&bt("scroll",h)}switch(l){case"input":Ye(h),Pt(h,y,!0);break;case"textarea":Ye(h),lt(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Ou)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[qr]=s,r[el]=h,uy(r,s,!1,!1),s.stateNode=r;e:{switch(E=ue(l,h),l){case"dialog":bt("cancel",r),bt("close",r),f=h;break;case"iframe":case"object":case"embed":bt("load",r),f=h;break;case"video":case"audio":for(f=0;f<Xa.length;f++)bt(Xa[f],r);f=h;break;case"source":bt("error",r),f=h;break;case"img":case"image":case"link":bt("error",r),bt("load",r),f=h;break;case"details":bt("toggle",r),f=h;break;case"input":Xe(r,h),f=Et(r,h),bt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=U({},h,{value:void 0}),bt("invalid",r);break;case"textarea":jt(r,h),f=vn(r,h),bt("invalid",r);break;default:f=h}le(l,f),M=f;for(y in M)if(M.hasOwnProperty(y)){var B=M[y];y==="style"?ye(r,B):y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&ae(r,B)):y==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&re(r,B):typeof B=="number"&&re(r,""+B):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?B!=null&&y==="onScroll"&&bt("scroll",r):B!=null&&O(r,y,B,E))}switch(l){case"input":Ye(r),Pt(r,h,!1);break;case"textarea":Ye(r),lt(r);break;case"option":h.value!=null&&r.setAttribute("value",""+oe(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Ft(r,!!h.multiple,y,!1):h.defaultValue!=null&&Ft(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Ou)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return En(s),null;case 6:if(r&&s.stateNode!=null)hy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Us(sl.current),Us(Gr.current),ju(s)){if(h=s.stateNode,l=s.memoizedProps,h[qr]=s,(y=h.nodeValue!==l)&&(r=Yn,r!==null))switch(r.tag){case 3:bu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&bu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[qr]=s,s.stateNode=h}return En(s),null;case 13:if(Ot(zt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Lt&&Xn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)fg(),jo(),s.flags|=98560,y=!1;else if(y=ju(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[qr]=s}else jo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;En(s),y=!1}else Cr!==null&&(tf(Cr),Cr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(zt.current&1)!==0?en===0&&(en=3):sf())),s.updateQueue!==null&&(s.flags|=4),En(s),null);case 4:return Bo(),Wd(r,s),r===null&&Ja(s.stateNode.containerInfo),En(s),null;case 10:return vd(s.type._context),En(s),null;case 17:return Ln(s.type)&&Du(),En(s),null;case 19:if(Ot(zt),y=s.memoizedState,y===null)return En(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)cl(y,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=qu(r),E!==null){for(s.flags|=128,cl(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return xt(zt,zt.current&1|2),s.child}r=r.sibling}y.tail!==null&&kt()>Go&&(s.flags|=128,h=!0,cl(y,!1),s.lanes=4194304)}else{if(!h)if(r=qu(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),cl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Lt)return En(s),null}else 2*kt()-y.renderingStartTime>Go&&l!==1073741824&&(s.flags|=128,h=!0,cl(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=kt(),s.sibling=null,l=zt.current,xt(zt,h?l&1|2:l&1),s):(En(s),null);case 22:case 23:return rf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Jn&1073741824)!==0&&(En(s),s.subtreeFlags&6&&(s.flags|=8192)):En(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function aS(r,s){switch(dd(s),s.tag){case 1:return Ln(s.type)&&Du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Bo(),Ot(Dn),Ot(_n),Ad(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Cd(s),null;case 13:if(Ot(zt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));jo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ot(zt),null;case 4:return Bo(),null;case 10:return vd(s.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var ec=!1,Tn=!1,lS=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Ho(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Wt(r,s,h)}else l.current=null}function Hd(r,s,l){try{l()}catch(h){Wt(r,s,h)}}var dy=!1;function uS(r,s){if(rd=Fi,r=Bm(),Qh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,M=-1,B=-1,ie=0,Ee=0,Se=r,we=null;t:for(;;){for(var Ve;Se!==l||f!==0&&Se.nodeType!==3||(M=E+f),Se!==y||h!==0&&Se.nodeType!==3||(B=E+h),Se.nodeType===3&&(E+=Se.nodeValue.length),(Ve=Se.firstChild)!==null;)we=Se,Se=Ve;for(;;){if(Se===r)break t;if(we===l&&++ie===f&&(M=E),we===y&&++Ee===h&&(B=E),(Ve=Se.nextSibling)!==null)break;Se=we,we=Se.parentNode}Se=Ve}l=M===-1||B===-1?null:{start:M,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(id={focusedElem:r,selectionRange:l},Fi=!1,Fe=s;Fe!==null;)if(s=Fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Fe=r;else for(;Fe!==null;){s=Fe;try{var Ue=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var ze=Ue.memoizedProps,Ht=Ue.memoizedState,Z=s.stateNode,W=Z.getSnapshotBeforeUpdate(s.elementType===s.type?ze:Pr(s.type,ze),Ht);Z.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var ee=s.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Pe){Wt(s,s.return,Pe)}if(r=s.sibling,r!==null){r.return=s.return,Fe=r;break}Fe=s.return}return Ue=dy,dy=!1,Ue}function hl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var y=f.destroy;f.destroy=void 0,y!==void 0&&Hd(s,l,y)}f=f.next}while(f!==h)}}function tc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function qd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function fy(r){var s=r.alternate;s!==null&&(r.alternate=null,fy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[qr],delete s[el],delete s[ld],delete s[HT],delete s[qT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function py(r){return r.tag===5||r.tag===3||r.tag===4}function my(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||py(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ou));else if(h!==4&&(r=r.child,r!==null))for(Gd(r,s,l),r=r.sibling;r!==null;)Gd(r,s,l),r=r.sibling}function Kd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Kd(r,s,l),r=r.sibling;r!==null;)Kd(r,s,l),r=r.sibling}var pn=null,Ar=!1;function Gi(r,s,l){for(l=l.child;l!==null;)gy(r,s,l),l=l.sibling}function gy(r,s,l){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(Rs,l)}catch{}switch(l.tag){case 5:Tn||Ho(l,s);case 6:var h=pn,f=Ar;pn=null,Gi(r,s,l),pn=h,Ar=f,pn!==null&&(Ar?(r=pn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):pn.removeChild(l.stateNode));break;case 18:pn!==null&&(Ar?(r=pn,l=l.stateNode,r.nodeType===8?ad(r.parentNode,l):r.nodeType===1&&ad(r,l),Tr(r)):ad(pn,l.stateNode));break;case 4:h=pn,f=Ar,pn=l.stateNode.containerInfo,Ar=!0,Gi(r,s,l),pn=h,Ar=f;break;case 0:case 11:case 14:case 15:if(!Tn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var y=f,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Hd(l,s,E),f=f.next}while(f!==h)}Gi(r,s,l);break;case 1:if(!Tn&&(Ho(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(M){Wt(l,s,M)}Gi(r,s,l);break;case 21:Gi(r,s,l);break;case 22:l.mode&1?(Tn=(h=Tn)||l.memoizedState!==null,Gi(r,s,l),Tn=h):Gi(r,s,l);break;default:Gi(r,s,l)}}function yy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new lS),s.forEach(function(h){var f=vS.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function Rr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var y=r,E=s,M=E;e:for(;M!==null;){switch(M.tag){case 5:pn=M.stateNode,Ar=!1;break e;case 3:pn=M.stateNode.containerInfo,Ar=!0;break e;case 4:pn=M.stateNode.containerInfo,Ar=!0;break e}M=M.return}if(pn===null)throw Error(t(160));gy(y,E,f),pn=null,Ar=!1;var B=f.alternate;B!==null&&(B.return=null),f.return=null}catch(ie){Wt(f,s,ie)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)vy(s,r),s=s.sibling}function vy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rr(s,r),Qr(r),h&4){try{hl(3,r,r.return),tc(3,r)}catch(ze){Wt(r,r.return,ze)}try{hl(5,r,r.return)}catch(ze){Wt(r,r.return,ze)}}break;case 1:Rr(s,r),Qr(r),h&512&&l!==null&&Ho(l,l.return);break;case 5:if(Rr(s,r),Qr(r),h&512&&l!==null&&Ho(l,l.return),r.flags&32){var f=r.stateNode;try{re(f,"")}catch(ze){Wt(r,r.return,ze)}}if(h&4&&(f=r.stateNode,f!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,M=r.type,B=r.updateQueue;if(r.updateQueue=null,B!==null)try{M==="input"&&y.type==="radio"&&y.name!=null&&ft(f,y),ue(M,E);var ie=ue(M,y);for(E=0;E<B.length;E+=2){var Ee=B[E],Se=B[E+1];Ee==="style"?ye(f,Se):Ee==="dangerouslySetInnerHTML"?ae(f,Se):Ee==="children"?re(f,Se):O(f,Ee,Se,ie)}switch(M){case"input":nt(f,y);break;case"textarea":He(f,y);break;case"select":var we=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var Ve=y.value;Ve!=null?Ft(f,!!y.multiple,Ve,!1):we!==!!y.multiple&&(y.defaultValue!=null?Ft(f,!!y.multiple,y.defaultValue,!0):Ft(f,!!y.multiple,y.multiple?[]:"",!1))}f[el]=y}catch(ze){Wt(r,r.return,ze)}}break;case 6:if(Rr(s,r),Qr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,y=r.memoizedProps;try{f.nodeValue=y}catch(ze){Wt(r,r.return,ze)}}break;case 3:if(Rr(s,r),Qr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Tr(s.containerInfo)}catch(ze){Wt(r,r.return,ze)}break;case 4:Rr(s,r),Qr(r);break;case 13:Rr(s,r),Qr(r),f=r.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Xd=kt())),h&4&&yy(r);break;case 22:if(Ee=l!==null&&l.memoizedState!==null,r.mode&1?(Tn=(ie=Tn)||Ee,Rr(s,r),Tn=ie):Rr(s,r),Qr(r),h&8192){if(ie=r.memoizedState!==null,(r.stateNode.isHidden=ie)&&!Ee&&(r.mode&1)!==0)for(Fe=r,Ee=r.child;Ee!==null;){for(Se=Fe=Ee;Fe!==null;){switch(we=Fe,Ve=we.child,we.tag){case 0:case 11:case 14:case 15:hl(4,we,we.return);break;case 1:Ho(we,we.return);var Ue=we.stateNode;if(typeof Ue.componentWillUnmount=="function"){h=we,l=we.return;try{s=h,Ue.props=s.memoizedProps,Ue.state=s.memoizedState,Ue.componentWillUnmount()}catch(ze){Wt(h,l,ze)}}break;case 5:Ho(we,we.return);break;case 22:if(we.memoizedState!==null){Ey(Se);continue}}Ve!==null?(Ve.return=we,Fe=Ve):Ey(Se)}Ee=Ee.sibling}e:for(Ee=null,Se=r;;){if(Se.tag===5){if(Ee===null){Ee=Se;try{f=Se.stateNode,ie?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(M=Se.stateNode,B=Se.memoizedProps.style,E=B!=null&&B.hasOwnProperty("display")?B.display:null,M.style.display=Ne("display",E))}catch(ze){Wt(r,r.return,ze)}}}else if(Se.tag===6){if(Ee===null)try{Se.stateNode.nodeValue=ie?"":Se.memoizedProps}catch(ze){Wt(r,r.return,ze)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===r)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===r)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===r)break e;Ee===Se&&(Ee=null),Se=Se.return}Ee===Se&&(Ee=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Rr(s,r),Qr(r),h&4&&yy(r);break;case 21:break;default:Rr(s,r),Qr(r)}}function Qr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(py(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(re(f,""),h.flags&=-33);var y=my(r);Kd(r,y,f);break;case 3:case 4:var E=h.stateNode.containerInfo,M=my(r);Gd(r,M,E);break;default:throw Error(t(161))}}catch(B){Wt(r,r.return,B)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function cS(r,s,l){Fe=r,_y(r)}function _y(r,s,l){for(var h=(r.mode&1)!==0;Fe!==null;){var f=Fe,y=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||ec;if(!E){var M=f.alternate,B=M!==null&&M.memoizedState!==null||Tn;M=ec;var ie=Tn;if(ec=E,(Tn=B)&&!ie)for(Fe=f;Fe!==null;)E=Fe,B=E.child,E.tag===22&&E.memoizedState!==null?Ty(f):B!==null?(B.return=E,Fe=B):Ty(f);for(;y!==null;)Fe=y,_y(y),y=y.sibling;Fe=f,ec=M,Tn=ie}wy(r)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,Fe=y):wy(r)}}function wy(r){for(;Fe!==null;){var s=Fe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Tn||tc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Tn)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Pr(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&yg(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}yg(s,E,l)}break;case 5:var M=s.stateNode;if(l===null&&s.flags&4){l=M;var B=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ie=s.alternate;if(ie!==null){var Ee=ie.memoizedState;if(Ee!==null){var Se=Ee.dehydrated;Se!==null&&Tr(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Tn||s.flags&512&&qd(s)}catch(we){Wt(s,s.return,we)}}if(s===r){Fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,Fe=l;break}Fe=s.return}}function Ey(r){for(;Fe!==null;){var s=Fe;if(s===r){Fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Fe=l;break}Fe=s.return}}function Ty(r){for(;Fe!==null;){var s=Fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{tc(4,s)}catch(B){Wt(s,l,B)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(B){Wt(s,f,B)}}var y=s.return;try{qd(s)}catch(B){Wt(s,y,B)}break;case 5:var E=s.return;try{qd(s)}catch(B){Wt(s,E,B)}}}catch(B){Wt(s,s.return,B)}if(s===r){Fe=null;break}var M=s.sibling;if(M!==null){M.return=s.return,Fe=M;break}Fe=s.return}}var hS=Math.ceil,nc=$.ReactCurrentDispatcher,Qd=$.ReactCurrentOwner,ur=$.ReactCurrentBatchConfig,vt=0,on=null,Qt=null,mn=0,Jn=0,qo=$i(0),en=0,dl=null,$s=0,rc=0,Yd=0,fl=null,Mn=null,Xd=0,Go=1/0,gi=null,ic=!1,Jd=null,Ki=null,sc=!1,Qi=null,oc=0,pl=0,Zd=null,ac=-1,lc=0;function xn(){return(vt&6)!==0?kt():ac!==-1?ac:ac=kt()}function Yi(r){return(r.mode&1)===0?1:(vt&2)!==0&&mn!==0?mn&-mn:KT.transition!==null?(lc===0&&(lc=xs()),lc):(r=dt,r!==0||(r=window.event,r=r===void 0?16:$a(r.type)),r)}function kr(r,s,l,h){if(50<pl)throw pl=0,Zd=null,Error(t(185));Di(r,l,h),((vt&2)===0||r!==on)&&(r===on&&((vt&2)===0&&(rc|=l),en===4&&Xi(r,mn)),Fn(r,h),l===1&&vt===0&&(s.mode&1)===0&&(Go=kt()+500,Vu&&Wi()))}function Fn(r,s){var l=r.callbackNode;ii(r,s);var h=ks(r,r===on?mn:0);if(h===0)l!==null&&Ma(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Ma(l),s===1)r.tag===0?GT(Iy.bind(null,r)):lg(Iy.bind(null,r)),BT(function(){(vt&6)===0&&Wi()}),l=null;else{switch(Vi(h)){case 1:l=As;break;case 4:l=bi;break;case 16:l=nr;break;case 536870912:l=lu;break;default:l=nr}l=Oy(l,Sy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Sy(r,s){if(ac=-1,lc=0,(vt&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Ko()&&r.callbackNode!==l)return null;var h=ks(r,r===on?mn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=uc(r,h);else{s=h;var f=vt;vt|=2;var y=Py();(on!==r||mn!==s)&&(gi=null,Go=kt()+500,Ws(r,s));do try{pS();break}catch(M){Cy(r,M)}while(!0);yd(),nc.current=y,vt=f,Qt!==null?s=0:(on=null,mn=0,s=en)}if(s!==0){if(s===2&&(f=Gn(r),f!==0&&(h=f,s=ef(r,f))),s===1)throw l=dl,Ws(r,0),Xi(r,h),Fn(r,kt()),l;if(s===6)Xi(r,h);else{if(f=r.current.alternate,(h&30)===0&&!dS(f)&&(s=uc(r,h),s===2&&(y=Gn(r),y!==0&&(h=y,s=ef(r,y))),s===1))throw l=dl,Ws(r,0),Xi(r,h),Fn(r,kt()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Hs(r,Mn,gi);break;case 3:if(Xi(r,h),(h&130023424)===h&&(s=Xd+500-kt(),10<s)){if(ks(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){xn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=od(Hs.bind(null,r,Mn,gi),s);break}Hs(r,Mn,gi);break;case 4:if(Xi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-An(h);y=1<<E,E=s[E],E>f&&(f=E),h&=~y}if(h=f,h=kt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*hS(h/1960))-h,10<h){r.timeoutHandle=od(Hs.bind(null,r,Mn,gi),h);break}Hs(r,Mn,gi);break;case 5:Hs(r,Mn,gi);break;default:throw Error(t(329))}}}return Fn(r,kt()),r.callbackNode===l?Sy.bind(null,r):null}function ef(r,s){var l=fl;return r.current.memoizedState.isDehydrated&&(Ws(r,s).flags|=256),r=uc(r,s),r!==2&&(s=Mn,Mn=l,s!==null&&tf(s)),r}function tf(r){Mn===null?Mn=r:Mn.push.apply(Mn,r)}function dS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],y=f.getSnapshot;f=f.value;try{if(!Ir(y(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xi(r,s){for(s&=~Yd,s&=~rc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-An(s),h=1<<l;r[l]=-1,s&=~h}}function Iy(r){if((vt&6)!==0)throw Error(t(327));Ko();var s=ks(r,0);if((s&1)===0)return Fn(r,kt()),null;var l=uc(r,s);if(r.tag!==0&&l===2){var h=Gn(r);h!==0&&(s=h,l=ef(r,h))}if(l===1)throw l=dl,Ws(r,0),Xi(r,s),Fn(r,kt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Hs(r,Mn,gi),Fn(r,kt()),null}function nf(r,s){var l=vt;vt|=1;try{return r(s)}finally{vt=l,vt===0&&(Go=kt()+500,Vu&&Wi())}}function Bs(r){Qi!==null&&Qi.tag===0&&(vt&6)===0&&Ko();var s=vt;vt|=1;var l=ur.transition,h=dt;try{if(ur.transition=null,dt=1,r)return r()}finally{dt=h,ur.transition=l,vt=s,(vt&6)===0&&Wi()}}function rf(){Jn=qo.current,Ot(qo)}function Ws(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,$T(l)),Qt!==null)for(l=Qt.return;l!==null;){var h=l;switch(dd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Du();break;case 3:Bo(),Ot(Dn),Ot(_n),Ad();break;case 5:Cd(h);break;case 4:Bo();break;case 13:Ot(zt);break;case 19:Ot(zt);break;case 10:vd(h.type._context);break;case 22:case 23:rf()}l=l.return}if(on=r,Qt=r=Ji(r.current,null),mn=Jn=s,en=0,dl=null,Yd=rc=$s=0,Mn=fl=null,js!==null){for(s=0;s<js.length;s++)if(l=js[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=f,h.next=E}l.pending=h}js=null}return r}function Cy(r,s){do{var l=Qt;try{if(yd(),Gu.current=Xu,Ku){for(var h=$t.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Ku=!1}if(zs=0,sn=Zt=$t=null,ol=!1,al=0,Qd.current=null,l===null||l.return===null){en=1,dl=s,Qt=null;break}e:{var y=r,E=l.return,M=l,B=s;if(s=mn,M.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=B,Ee=M,Se=Ee.tag;if((Ee.mode&1)===0&&(Se===0||Se===11||Se===15)){var we=Ee.alternate;we?(Ee.updateQueue=we.updateQueue,Ee.memoizedState=we.memoizedState,Ee.lanes=we.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var Ve=Yg(E);if(Ve!==null){Ve.flags&=-257,Xg(Ve,E,M,y,s),Ve.mode&1&&Qg(y,ie,s),s=Ve,B=ie;var Ue=s.updateQueue;if(Ue===null){var ze=new Set;ze.add(B),s.updateQueue=ze}else Ue.add(B);break e}else{if((s&1)===0){Qg(y,ie,s),sf();break e}B=Error(t(426))}}else if(Lt&&M.mode&1){var Ht=Yg(E);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),Xg(Ht,E,M,y,s),md(Wo(B,M));break e}}y=B=Wo(B,M),en!==4&&(en=2),fl===null?fl=[y]:fl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var Z=Gg(y,B,s);gg(y,Z);break e;case 1:M=B;var W=y.type,ee=y.stateNode;if((y.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ki===null||!Ki.has(ee)))){y.flags|=65536,s&=-s,y.lanes|=s;var Pe=Kg(y,M,s);gg(y,Pe);break e}}y=y.return}while(y!==null)}Ry(l)}catch($e){s=$e,Qt===l&&l!==null&&(Qt=l=l.return);continue}break}while(!0)}function Py(){var r=nc.current;return nc.current=Xu,r===null?Xu:r}function sf(){(en===0||en===3||en===2)&&(en=4),on===null||($s&268435455)===0&&(rc&268435455)===0||Xi(on,mn)}function uc(r,s){var l=vt;vt|=2;var h=Py();(on!==r||mn!==s)&&(gi=null,Ws(r,s));do try{fS();break}catch(f){Cy(r,f)}while(!0);if(yd(),vt=l,nc.current=h,Qt!==null)throw Error(t(261));return on=null,mn=0,en}function fS(){for(;Qt!==null;)Ay(Qt)}function pS(){for(;Qt!==null&&!ou();)Ay(Qt)}function Ay(r){var s=by(r.alternate,r,Jn);r.memoizedProps=r.pendingProps,s===null?Ry(r):Qt=s,Qd.current=null}function Ry(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=oS(l,s,Jn),l!==null){Qt=l;return}}else{if(l=aS(l,s),l!==null){l.flags&=32767,Qt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{en=6,Qt=null;return}}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=r}while(s!==null);en===0&&(en=5)}function Hs(r,s,l){var h=dt,f=ur.transition;try{ur.transition=null,dt=1,mS(r,s,l,h)}finally{ur.transition=f,dt=h}return null}function mS(r,s,l,h){do Ko();while(Qi!==null);if((vt&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Rt(r,y),r===on&&(Qt=on=null,mn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||sc||(sc=!0,Oy(nr,function(){return Ko(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=ur.transition,ur.transition=null;var E=dt;dt=1;var M=vt;vt|=4,Qd.current=null,uS(r,l),vy(l,r),LT(id),Fi=!!rd,id=rd=null,r.current=l,cS(l),zh(),vt=M,dt=E,ur.transition=y}else r.current=l;if(sc&&(sc=!1,Qi=r,oc=f),y=r.pendingLanes,y===0&&(Ki=null),uu(l.stateNode),Fn(r,kt()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(ic)throw ic=!1,r=Jd,Jd=null,r;return(oc&1)!==0&&r.tag!==0&&Ko(),y=r.pendingLanes,(y&1)!==0?r===Zd?pl++:(pl=0,Zd=r):pl=0,Wi(),null}function Ko(){if(Qi!==null){var r=Vi(oc),s=ur.transition,l=dt;try{if(ur.transition=null,dt=16>r?16:r,Qi===null)var h=!1;else{if(r=Qi,Qi=null,oc=0,(vt&6)!==0)throw Error(t(331));var f=vt;for(vt|=4,Fe=r.current;Fe!==null;){var y=Fe,E=y.child;if((Fe.flags&16)!==0){var M=y.deletions;if(M!==null){for(var B=0;B<M.length;B++){var ie=M[B];for(Fe=ie;Fe!==null;){var Ee=Fe;switch(Ee.tag){case 0:case 11:case 15:hl(8,Ee,y)}var Se=Ee.child;if(Se!==null)Se.return=Ee,Fe=Se;else for(;Fe!==null;){Ee=Fe;var we=Ee.sibling,Ve=Ee.return;if(fy(Ee),Ee===ie){Fe=null;break}if(we!==null){we.return=Ve,Fe=we;break}Fe=Ve}}}var Ue=y.alternate;if(Ue!==null){var ze=Ue.child;if(ze!==null){Ue.child=null;do{var Ht=ze.sibling;ze.sibling=null,ze=Ht}while(ze!==null)}}Fe=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,Fe=E;else e:for(;Fe!==null;){if(y=Fe,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:hl(9,y,y.return)}var Z=y.sibling;if(Z!==null){Z.return=y.return,Fe=Z;break e}Fe=y.return}}var W=r.current;for(Fe=W;Fe!==null;){E=Fe;var ee=E.child;if((E.subtreeFlags&2064)!==0&&ee!==null)ee.return=E,Fe=ee;else e:for(E=W;Fe!==null;){if(M=Fe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:tc(9,M)}}catch($e){Wt(M,M.return,$e)}if(M===E){Fe=null;break e}var Pe=M.sibling;if(Pe!==null){Pe.return=M.return,Fe=Pe;break e}Fe=M.return}}if(vt=f,Wi(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(Rs,r)}catch{}h=!0}return h}finally{dt=l,ur.transition=s}}return!1}function ky(r,s,l){s=Wo(l,s),s=Gg(r,s,1),r=qi(r,s,1),s=xn(),r!==null&&(Di(r,1,s),Fn(r,s))}function Wt(r,s,l){if(r.tag===3)ky(r,r,l);else for(;s!==null;){if(s.tag===3){ky(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ki===null||!Ki.has(h))){r=Wo(l,r),r=Kg(s,r,1),s=qi(s,r,1),r=xn(),s!==null&&(Di(s,1,r),Fn(s,r));break}}s=s.return}}function gS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=xn(),r.pingedLanes|=r.suspendedLanes&l,on===r&&(mn&l)===l&&(en===4||en===3&&(mn&130023424)===mn&&500>kt()-Xd?Ws(r,0):Yd|=l),Fn(r,s)}function xy(r,s){s===0&&((r.mode&1)===0?s=1:(s=yo,yo<<=1,(yo&130023424)===0&&(yo=4194304)));var l=xn();r=fi(r,s),r!==null&&(Di(r,s,l),Fn(r,l))}function yS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),xy(r,l)}function vS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),xy(r,l)}var by;by=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Dn.current)Vn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Vn=!1,sS(r,s,l);Vn=(r.flags&131072)!==0}else Vn=!1,Lt&&(s.flags&1048576)!==0&&ug(s,Fu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Zu(r,s),r=s.pendingProps;var f=Vo(s,_n.current);zo(s,l),f=xd(null,s,h,r,f,l);var y=bd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ln(h)?(y=!0,Lu(s)):y=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ed(s),f.updater=Wu,s.stateNode=f,f._reactInternals=s,Sd(s,h,r,l),s=jd(null,s,h,!0,y,l)):(s.tag=0,Lt&&y&&hd(s),kn(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Zu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=wS(h),r=Pr(h,r),f){case 0:s=Fd(null,s,h,r,l);break e;case 1:s=ry(null,s,h,r,l);break e;case 11:s=Jg(null,s,h,r,l);break e;case 14:s=Zg(null,s,h,Pr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),Fd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),ry(r,s,h,f,l);case 3:e:{if(iy(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,f=y.element,mg(r,s),Bu(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){f=Wo(Error(t(423)),s),s=sy(r,s,h,l,f);break e}else if(h!==f){f=Wo(Error(t(424)),s),s=sy(r,s,h,l,f);break e}else for(Xn=zi(s.stateNode.containerInfo.firstChild),Yn=s,Lt=!0,Cr=null,l=Ig(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jo(),h===f){s=mi(r,s,l);break e}kn(r,s,h,l)}s=s.child}return s;case 5:return Cg(s),r===null&&pd(s),h=s.type,f=s.pendingProps,y=r!==null?r.memoizedProps:null,E=f.children,sd(h,f)?E=null:y!==null&&sd(h,y)&&(s.flags|=32),ny(r,s),kn(r,s,E,l),s.child;case 6:return r===null&&pd(s),null;case 13:return oy(r,s,l);case 4:return Id(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=$o(s,null,h,l):kn(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),Jg(r,s,h,f,l);case 7:return kn(r,s,s.pendingProps,l),s.child;case 8:return kn(r,s,s.pendingProps.children,l),s.child;case 12:return kn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,y=s.memoizedProps,E=f.value,xt(Uu,h._currentValue),h._currentValue=E,y!==null)if(Ir(y.value,E)){if(y.children===f.children&&!Dn.current){s=mi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var M=y.dependencies;if(M!==null){E=y.child;for(var B=M.firstContext;B!==null;){if(B.context===h){if(y.tag===1){B=pi(-1,l&-l),B.tag=2;var ie=y.updateQueue;if(ie!==null){ie=ie.shared;var Ee=ie.pending;Ee===null?B.next=B:(B.next=Ee.next,Ee.next=B),ie.pending=B}}y.lanes|=l,B=y.alternate,B!==null&&(B.lanes|=l),_d(y.return,l,s),M.lanes|=l;break}B=B.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,M=E.alternate,M!==null&&(M.lanes|=l),_d(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}kn(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,zo(s,l),f=ar(f),h=h(f),s.flags|=1,kn(r,s,h,l),s.child;case 14:return h=s.type,f=Pr(h,s.pendingProps),f=Pr(h.type,f),Zg(r,s,h,f,l);case 15:return ey(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Pr(h,f),Zu(r,s),s.tag=1,Ln(h)?(r=!0,Lu(s)):r=!1,zo(s,l),wg(s,h,f),Sd(s,h,f,l),jd(null,s,h,!0,r,l);case 19:return ly(r,s,l);case 22:return ty(r,s,l)}throw Error(t(156,s.tag))};function Oy(r,s){return mo(r,s)}function _S(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(r,s,l,h){return new _S(r,s,l,h)}function of(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wS(r){if(typeof r=="function")return of(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===be)return 14}return 2}function Ji(r,s){var l=r.alternate;return l===null?(l=cr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function cc(r,s,l,h,f,y){var E=2;if(h=r,typeof r=="function")of(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case x:return qs(l.children,f,y,s);case C:E=8,f|=8;break;case I:return r=cr(12,l,s,f|2),r.elementType=I,r.lanes=y,r;case b:return r=cr(13,l,s,f),r.elementType=b,r.lanes=y,r;case Ce:return r=cr(19,l,s,f),r.elementType=Ce,r.lanes=y,r;case xe:return hc(l,f,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:E=10;break e;case V:E=9;break e;case j:E=11;break e;case be:E=14;break e;case je:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=cr(E,l,s,f),s.elementType=r,s.type=h,s.lanes=y,s}function qs(r,s,l,h){return r=cr(7,r,h,s),r.lanes=l,r}function hc(r,s,l,h){return r=cr(22,r,h,s),r.elementType=xe,r.lanes=l,r.stateNode={isHidden:!1},r}function af(r,s,l){return r=cr(6,r,null,s),r.lanes=l,r}function lf(r,s,l){return s=cr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function ES(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function uf(r,s,l,h,f,y,E,M,B){return r=new ES(r,s,l,M,B),s===1?(s=1,y===!0&&(s|=8)):s=0,y=cr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(y),r}function TS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Ny(r){if(!r)return Bi;r=r._reactInternals;e:{if(yr(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Ln(l))return og(r,l,s)}return s}function Dy(r,s,l,h,f,y,E,M,B){return r=uf(l,h,!0,r,f,y,E,M,B),r.context=Ny(null),l=r.current,h=xn(),f=Yi(l),y=pi(h,f),y.callback=s??null,qi(l,y,f),r.current.lanes=f,Di(r,f,h),Fn(r,h),r}function dc(r,s,l,h){var f=s.current,y=xn(),E=Yi(f);return l=Ny(l),s.context===null?s.context=l:s.pendingContext=l,s=pi(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=qi(f,s,E),r!==null&&(kr(r,f,E,y),$u(r,f,E)),E}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Ly(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function cf(r,s){Ly(r,s),(r=r.alternate)&&Ly(r,s)}function SS(){return null}var Vy=typeof reportError=="function"?reportError:function(r){console.error(r)};function hf(r){this._internalRoot=r}pc.prototype.render=hf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));dc(r,s,null,null)},pc.prototype.unmount=hf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Bs(function(){dc(null,r,null,null)}),s[ui]=null}};function pc(r){this._internalRoot=r}pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=pu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<$r.length&&s!==0&&s<$r[l].priority;l++);$r.splice(l,0,r),l===0&&yu(r)}};function df(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function My(){}function IS(r,s,l,h,f){if(f){if(typeof h=="function"){var y=h;h=function(){var ie=fc(E);y.call(ie)}}var E=Dy(s,h,r,0,null,!1,!1,"",My);return r._reactRootContainer=E,r[ui]=E.current,Ja(r.nodeType===8?r.parentNode:r),Bs(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var M=h;h=function(){var ie=fc(B);M.call(ie)}}var B=uf(r,0,!1,null,null,!1,!1,"",My);return r._reactRootContainer=B,r[ui]=B.current,Ja(r.nodeType===8?r.parentNode:r),Bs(function(){dc(s,B,l,h)}),B}function gc(r,s,l,h,f){var y=l._reactRootContainer;if(y){var E=y;if(typeof f=="function"){var M=f;f=function(){var B=fc(E);M.call(B)}}dc(s,E,r,f)}else E=IS(l,s,r,f,h);return fc(E)}du=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Oi(s.pendingLanes);l!==0&&(Li(s,l|1),Fn(s,kt()),(vt&6)===0&&(Go=kt()+500,Wi()))}break;case 13:Bs(function(){var h=fi(r,1);if(h!==null){var f=xn();kr(h,r,1,f)}}),cf(r,1)}},vo=function(r){if(r.tag===13){var s=fi(r,134217728);if(s!==null){var l=xn();kr(s,r,134217728,l)}cf(r,134217728)}},fu=function(r){if(r.tag===13){var s=Yi(r),l=fi(r,s);if(l!==null){var h=xn();kr(l,r,s,h)}cf(r,s)}},pu=function(){return dt},mu=function(r,s){var l=dt;try{return dt=r,s()}finally{dt=l}},ce=function(r,s,l){switch(s){case"input":if(nt(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=Nu(h);if(!f)throw Error(t(90));Le(h),nt(h,f)}}}break;case"textarea":He(r,l);break;case"select":s=l.value,s!=null&&Ft(r,!!l.multiple,s,!1)}},_t=nf,Wn=Bs;var CS={usingClientEntryPoint:!1,Events:[tl,Do,Nu,Je,mt,nf]},ml={findFiberByHostInstance:Ls,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},PS={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Va(r),r===null?null:r.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||SS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Rs=yc.inject(PS),qn=yc}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CS,jn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(s))throw Error(t(200));return TS(r,s,null,l)},jn.createRoot=function(r,s){if(!df(r))throw Error(t(299));var l=!1,h="",f=Vy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=uf(r,1,!1,null,null,l,!1,h,f),r[ui]=s.current,Ja(r.nodeType===8?r.parentNode:r),new hf(s)},jn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Va(s),r=r===null?null:r.stateNode,r},jn.flushSync=function(r){return Bs(r)},jn.hydrate=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!0,l)},jn.hydrateRoot=function(r,s,l){if(!df(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,y="",E=Vy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Dy(s,null,r,1,l??null,f,!1,y,E),r[ui]=s.current,Ja(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new pc(s)},jn.render=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!1,l)},jn.unmountComponentAtNode=function(r){if(!mc(r))throw Error(t(40));return r._reactRootContainer?(Bs(function(){gc(null,null,r,!1,function(){r._reactRootContainer=null,r[ui]=null})}),!0):!1},jn.unstable_batchedUpdates=nf,jn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!mc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return gc(r,s,l,!1,h)},jn.version="18.2.0-next-9e3b772b8-20220608",jn}var Hy;function DS(){if(Hy)return mf.exports;Hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mf.exports=NS(),mf.exports}var qy;function LS(){if(qy)return vc;qy=1;var n=DS();return vc.createRoot=n.createRoot,vc.hydrateRoot=n.hydrateRoot,vc}var VS=LS(),yl={},Gy;function MS(){if(Gy)return yl;Gy=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=c,yl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,N){const k=new a,A=S.length;if(A<2)return k;const T=(N==null?void 0:N.decode)||_;let F=0;do{const z=S.indexOf("=",F);if(z===-1)break;const O=S.indexOf(";",F),$=O===-1?A:O;if(z>$){F=S.lastIndexOf(";",z-1)+1;continue}const L=d(S,F,z),G=p(S,z,L),x=S.slice(L,G);if(k[x]===void 0){let C=d(S,z+1,$),I=p(S,$,C);const R=T(S.slice(C,I));k[x]=R}F=$+1}while(F<A);return k}function d(S,N,k){do{const A=S.charCodeAt(N);if(A!==32&&A!==9)return N}while(++N<k);return k}function p(S,N,k){for(;N>k;){const A=S.charCodeAt(--N);if(A!==32&&A!==9)return N+1}return k}function m(S,N,k){const A=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const T=A(N);if(!e.test(T))throw new TypeError(`argument val is invalid: ${N}`);let F=S+"="+T;if(!k)return F;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);F+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);F+="; Domain="+k.domain}if(k.path){if(!i.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);F+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);F+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(F+="; HttpOnly"),k.secure&&(F+="; Secure"),k.partitioned&&(F+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return F}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return yl}MS();var Ky="popstate";function FS(n={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return Wf("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Dl(o)}return US(e,t,null,n)}function Mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function Qy(n,e){return{usr:n.state,key:n.key,idx:e}}function Wf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||i||jS()}}function Dl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ea(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function US(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",p=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function w(){d="POP";let T=_(),F=T==null?null:T-m;m=T,p&&p({action:d,location:A.location,delta:F})}function S(T,F){d="PUSH";let z=Wf(A.location,T,F);m=_()+1;let O=Qy(z,m),$=A.createHref(z);try{c.pushState(O,"",$)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign($)}a&&p&&p({action:d,location:A.location,delta:1})}function N(T,F){d="REPLACE";let z=Wf(A.location,T,F);m=_();let O=Qy(z,m),$=A.createHref(z);c.replaceState(O,"",$),a&&p&&p({action:d,location:A.location,delta:0})}function k(T){return zS(T)}let A={get action(){return d},get location(){return n(o,c)},listen(T){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ky,w),p=T,()=>{o.removeEventListener(Ky,w),p=null}},createHref(T){return e(o,T)},createURL:k,encodeLocation(T){let F=k(T);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:N,go(T){return c.go(T)}};return A}function zS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Dl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function a0(n,e,t="/"){return $S(n,e,t,!1)}function $S(n,e,t,i){let o=typeof e=="string"?Ea(e):e,a=Si(o.pathname||"/",t);if(a==null)return null;let c=l0(n);BS(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=eI(a);d=JS(c[p],m,i)}return d}function l0(n,e=[],t=[],i=""){let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(Mt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=wi([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(Mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),l0(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:YS(m,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of u0(a.path))o(a,c,p)}),e}function u0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=u0(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function BS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var WS=/^:[\w-]+$/,HS=3,qS=2,GS=1,KS=10,QS=-2,Yy=n=>n==="*";function YS(n,e){let t=n.split("/"),i=t.length;return t.some(Yy)&&(i+=QS),e&&(i+=qS),t.filter(o=>!Yy(o)).reduce((o,a)=>o+(WS.test(a)?HS:a===""?GS:KS),i)}function XS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function JS(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),S=p.route;if(!w&&m&&t&&!i[i.length-1].route.index&&(w=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:wi([a,w.pathname]),pathnameBase:iI(wi([a,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(a=wi([a,w.pathnameBase]))}return c}function Uc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=ZS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:_,isOptional:w},S)=>{if(_==="*"){let k=d[S]||"";c=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const N=d[S];return w&&!N?m[_]=void 0:m[_]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function ZS(n,e=!1,t=!0){Lr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function eI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Si(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function tI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ea(n):n;return{pathname:t?t.startsWith("/")?t:nI(t,e):e,search:sI(i),hash:oI(o)}}function nI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function vf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cp(n){let e=rI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Pp(n,e,t,i=!1){let o;typeof n=="string"?o=Ea(n):(o={...n},Mt(!o.pathname||!o.pathname.includes("?"),vf("?","pathname","search",o)),Mt(!o.pathname||!o.pathname.includes("#"),vf("#","pathname","hash",o)),Mt(!o.search||!o.search.includes("#"),vf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}d=w>=0?e[w]:"/"}let p=tI(o,d),m=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var wi=n=>n.join("/").replace(/\/\/+/g,"/"),iI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function aI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var c0=["POST","PUT","PATCH","DELETE"];new Set(c0);var lI=["GET",...c0];new Set(lI);var Ta=Q.createContext(null);Ta.displayName="DataRouter";var uh=Q.createContext(null);uh.displayName="DataRouterState";var h0=Q.createContext({isTransitioning:!1});h0.displayName="ViewTransition";var uI=Q.createContext(new Map);uI.displayName="Fetchers";var cI=Q.createContext(null);cI.displayName="Await";var Fr=Q.createContext(null);Fr.displayName="Navigation";var zl=Q.createContext(null);zl.displayName="Location";var jr=Q.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var Ap=Q.createContext(null);Ap.displayName="RouteError";function hI(n,{relative:e}={}){Mt(Sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Q.useContext(Fr),{hash:o,pathname:a,search:c}=Bl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:wi([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Sa(){return Q.useContext(zl)!=null}function ws(){return Mt(Sa(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(zl).location}var d0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function f0(n){Q.useContext(Fr).static||Q.useLayoutEffect(n)}function $l(){let{isDataRoute:n}=Q.useContext(jr);return n?II():dI()}function dI(){Mt(Sa(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(Ta),{basename:e,navigator:t}=Q.useContext(Fr),{matches:i}=Q.useContext(jr),{pathname:o}=ws(),a=JSON.stringify(Cp(i)),c=Q.useRef(!1);return f0(()=>{c.current=!0}),Q.useCallback((p,m={})=>{if(Lr(c.current,d0),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Pp(p,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:wi([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}Q.createContext(null);function p0(){let{matches:n}=Q.useContext(jr),e=n[n.length-1];return e?e.params:{}}function Bl(n,{relative:e}={}){let{matches:t}=Q.useContext(jr),{pathname:i}=ws(),o=JSON.stringify(Cp(t));return Q.useMemo(()=>Pp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function fI(n,e){return m0(n,e)}function m0(n,e,t,i){var z;Mt(Sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=Q.useContext(Fr),{matches:c}=Q.useContext(jr),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",w=d&&d.route;{let O=w&&w.path||"";g0(m,!w||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let S=ws(),N;if(e){let O=typeof e=="string"?Ea(e):e;Mt(_==="/"||((z=O.pathname)==null?void 0:z.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${O.pathname}" was given in the \`location\` prop.`),N=O}else N=S;let k=N.pathname||"/",A=k;if(_!=="/"){let O=_.replace(/^\//,"").split("/");A="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let T=!a&&t&&t.matches&&t.matches.length>0?t.matches:a0(n,{pathname:A});Lr(w||T!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Lr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=vI(T&&T.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:wi([_,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?_:wi([_,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),c,t,i);return e&&F?Q.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function pI(){let n=SI(),e=aI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:a},"ErrorBoundary")," or"," ",Q.createElement("code",{style:a},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,c)}var mI=Q.createElement(pI,null),gI=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(jr.Provider,{value:this.props.routeContext},Q.createElement(Ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yI({routeContext:n,match:e,children:t}){let i=Q.useContext(Ta);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(jr.Provider,{value:n},t)}function vI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:w}=t,S=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,_)=>{let w,S=!1,N=null,k=null;t&&(w=a&&m.route.id?a[m.route.id]:void 0,N=m.route.errorElement||mI,c&&(d<0&&_===0?(g0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):d===_&&(S=!0,k=m.route.hydrateFallbackElement||null)));let A=e.concat(o.slice(0,_+1)),T=()=>{let F;return w?F=N:S?F=k:m.route.Component?F=Q.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=p,Q.createElement(yI,{match:m,routeContext:{outlet:p,matches:A,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?Q.createElement(gI,{location:t.location,revalidation:t.revalidation,component:N,error:w,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function Rp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _I(n){let e=Q.useContext(Ta);return Mt(e,Rp(n)),e}function wI(n){let e=Q.useContext(uh);return Mt(e,Rp(n)),e}function EI(n){let e=Q.useContext(jr);return Mt(e,Rp(n)),e}function kp(n){let e=EI(n),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function TI(){return kp("useRouteId")}function SI(){var i;let n=Q.useContext(Ap),e=wI("useRouteError"),t=kp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function II(){let{router:n}=_I("useNavigate"),e=kp("useNavigate"),t=Q.useRef(!1);return f0(()=>{t.current=!0}),Q.useCallback(async(o,a={})=>{Lr(t.current,d0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Xy={};function g0(n,e,t){!e&&!Xy[n]&&(Xy[n]=!0,Lr(!1,t))}Q.memo(CI);function CI({routes:n,future:e,state:t}){return m0(n,void 0,t,e)}function Hf({to:n,replace:e,state:t,relative:i}){Mt(Sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Fr);Lr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Q.useContext(jr),{pathname:c}=ws(),d=$l(),p=Pp(n,Cp(a),c,i==="path"),m=JSON.stringify(p);return Q.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function Qs(n){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Mt(!Sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Ea(t));let{pathname:p="/",search:m="",hash:_="",state:w=null,key:S="default"}=t,N=Q.useMemo(()=>{let k=Si(p,c);return k==null?null:{location:{pathname:k,search:m,hash:_,state:w,key:S},navigationType:i}},[c,p,m,_,w,S,i]);return Lr(N!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Q.createElement(Fr.Provider,{value:d},Q.createElement(zl.Provider,{children:e,value:N}))}function y0({children:n,location:e}){return fI(qf(n),e)}function qf(n,e=[]){let t=[];return Q.Children.forEach(n,(i,o)=>{if(!Q.isValidElement(i))return;let a=[...e,o];if(i.type===Q.Fragment){t.push.apply(t,qf(i.props.children,a));return}Mt(i.type===Qs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=qf(i.props.children,a)),t.push(c)}),t}var Rc="get",kc="application/x-www-form-urlencoded";function ch(n){return n!=null&&typeof n.tagName=="string"}function AI(n){return ch(n)&&n.tagName.toLowerCase()==="button"}function RI(n){return ch(n)&&n.tagName.toLowerCase()==="form"}function kI(n){return ch(n)&&n.tagName.toLowerCase()==="input"}function xI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bI(n,e){return n.button===0&&(!e||e==="_self")&&!xI(n)}var _c=null;function OI(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var NI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _f(n){return n!=null&&!NI.has(n)?(Lr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):n}function DI(n,e){let t,i,o,a,c;if(RI(n)){let d=n.getAttribute("action");i=d?Si(d,e):null,t=n.getAttribute("method")||Rc,o=_f(n.getAttribute("enctype"))||kc,a=new FormData(n)}else if(AI(n)||kI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Si(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Rc,o=_f(n.getAttribute("formenctype"))||_f(d.getAttribute("enctype"))||kc,a=new FormData(d,n),!OI()){let{name:m,type:_,value:w}=n;if(_==="image"){let S=m?`${m}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else m&&a.append(m,w)}}else{if(ch(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rc,i=null,o=kc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function xp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function LI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function MI(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await LI(a,t);return c.links?c.links():[]}return[]}));return zI(i.flat(1).filter(VI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jy(n,e,t,i,o,a){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>{var _;return t[m].pathname!==p.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):a==="data"?e.filter((p,m)=>{var w;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function FI(n,e,{includeHydrateFallback:t}={}){return jI(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function jI(n){return[...new Set(n)]}function UI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function zI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(UI(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $I=new Set([100,101,204,205]);function BI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Si(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function v0(){let n=Q.useContext(Ta);return xp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WI(){let n=Q.useContext(uh);return xp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bp=Q.createContext(void 0);bp.displayName="FrameworkContext";function _0(){let n=Q.useContext(bp);return xp(n,"You must render this element inside a <HydratedRouter> element"),n}function HI(n,e){let t=Q.useContext(bp),[i,o]=Q.useState(!1),[a,c]=Q.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:w}=e,S=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=F=>{F.forEach(z=>{c(z.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return S.current&&T.observe(S.current),()=>{T.disconnect()}}},[n]),Q.useEffect(()=>{if(i){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[i]);let N=()=>{o(!0)},k=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:vl(d,N),onBlur:vl(p,k),onMouseEnter:vl(m,N),onMouseLeave:vl(_,k),onTouchStart:vl(w,N)}]:[!1,S,{}]}function vl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function qI({page:n,...e}){let{router:t}=v0(),i=Q.useMemo(()=>a0(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Q.createElement(KI,{page:n,matches:i,...e}):null}function GI(n){let{manifest:e,routeModules:t}=_0(),[i,o]=Q.useState([]);return Q.useEffect(()=>{let a=!1;return MI(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function KI({page:n,matches:e,...t}){let i=ws(),{manifest:o,routeModules:a}=_0(),{basename:c}=v0(),{loaderData:d,matches:p}=WI(),m=Q.useMemo(()=>Jy(n,e,p,o,i,"data"),[n,e,p,o,i]),_=Q.useMemo(()=>Jy(n,e,p,o,i,"assets"),[n,e,p,o,i]),w=Q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let k=new Set,A=!1;if(e.forEach(F=>{var O;let z=o.routes[F.route.id];!z||!z.hasLoader||(!m.some($=>$.route.id===F.route.id)&&F.route.id in d&&((O=a[F.route.id])!=null&&O.shouldRevalidate)||z.hasClientLoader?A=!0:k.add(F.route.id))}),k.size===0)return[];let T=BI(n,c);return A&&k.size>0&&T.searchParams.set("_routes",e.filter(F=>k.has(F.route.id)).map(F=>F.route.id).join(",")),[T.pathname+T.search]},[c,d,i,o,m,e,n,a]),S=Q.useMemo(()=>FI(_,o),[_,o]),N=GI(_);return Q.createElement(Q.Fragment,null,w.map(k=>Q.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),S.map(k=>Q.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),N.map(({key:k,link:A})=>Q.createElement("link",{key:k,...A})))}function QI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.6.0")}catch{}function YI({basename:n,children:e,window:t}){let i=Q.useRef();i.current==null&&(i.current=FS({window:t,v5Compat:!0}));let o=i.current,[a,c]=Q.useState({action:o.action,location:o.location}),d=Q.useCallback(p=>{Q.startTransition(()=>c(p))},[c]);return Q.useLayoutEffect(()=>o.listen(d),[o,d]),Q.createElement(PI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T0=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:p,to:m,preventScrollReset:_,viewTransition:w,...S},N){let{basename:k}=Q.useContext(Fr),A=typeof m=="string"&&E0.test(m),T,F=!1;if(typeof m=="string"&&A&&(T=m,w0))try{let I=new URL(window.location.href),R=m.startsWith("//")?new URL(I.protocol+m):new URL(m),V=Si(R.pathname,k);R.origin===I.origin&&V!=null?m=V+R.search+R.hash:F=!0}catch{Lr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=hI(m,{relative:o}),[O,$,L]=HI(i,S),G=eC(m,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:w});function x(I){e&&e(I),I.defaultPrevented||G(I)}let C=Q.createElement("a",{...S,...L,href:T||z,onClick:F||a?e:x,ref:QI(N,$),target:p,"data-discover":!A&&t==="render"?"true":void 0});return O&&!A?Q.createElement(Q.Fragment,null,C,Q.createElement(qI,{page:z})):C});T0.displayName="Link";var XI=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p,...m},_){let w=Bl(c,{relative:m.relative}),S=ws(),N=Q.useContext(uh),{navigator:k,basename:A}=Q.useContext(Fr),T=N!=null&&sC(w)&&d===!0,F=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,z=S.pathname,O=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(z=z.toLowerCase(),O=O?O.toLowerCase():null,F=F.toLowerCase()),O&&A&&(O=Si(O,A)||O);const $=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let L=z===F||!o&&z.startsWith(F)&&z.charAt($)==="/",G=O!=null&&(O===F||!o&&O.startsWith(F)&&O.charAt(F.length)==="/"),x={isActive:L,isPending:G,isTransitioning:T},C=L?e:void 0,I;typeof i=="function"?I=i(x):I=[i,L?"active":null,G?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(x):a;return Q.createElement(T0,{...m,"aria-current":C,className:I,ref:_,style:R,to:c,viewTransition:d},typeof p=="function"?p(x):p)});XI.displayName="NavLink";var JI=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Rc,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:w,...S},N)=>{let k=rC(),A=iC(d,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&E0.test(d),z=O=>{if(p&&p(O),O.defaultPrevented)return;O.preventDefault();let $=O.nativeEvent.submitter,L=($==null?void 0:$.getAttribute("formmethod"))||c;k($||O.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:w})};return Q.createElement("form",{ref:N,method:T,action:A,onSubmit:i?p:z,...S,"data-discover":!F&&n==="render"?"true":void 0})});JI.displayName="Form";function ZI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S0(n){let e=Q.useContext(Ta);return Mt(e,ZI(n)),e}function eC(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=$l(),p=ws(),m=Bl(n,{relative:a});return Q.useCallback(_=>{if(bI(_,e)){_.preventDefault();let w=t!==void 0?t:Dl(p)===Dl(m);d(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,d,m,t,i,e,n,o,a,c])}var tC=0,nC=()=>`__${String(++tC)}__`;function rC(){let{router:n}=S0("useSubmit"),{basename:e}=Q.useContext(Fr),t=TI();return Q.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:p,body:m}=DI(i,e);if(o.navigate===!1){let _=o.fetcherKey||nC();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function iC(n,{relative:e}={}){let{basename:t}=Q.useContext(Fr),i=Q.useContext(jr);Mt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Bl(n||".",{relative:e})},c=ws();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:wi([t,a.pathname])),Dl(a)}function sC(n,e={}){let t=Q.useContext(h0);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=S0("useViewTransitionState"),o=Bl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Si(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Si(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Uc(o.pathname,c)!=null||Uc(o.pathname,a)!=null}[...$I];const oC=()=>{};var Zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let S=(d&15)<<2|m>>6,N=m&63;p||(N=64,c||(S=64)),i.push(t[_],t[w],t[S],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(I0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new lC;const S=a<<2|d>>4;if(i.push(S),m!==64){const N=d<<4&240|m>>2;if(i.push(N),w!==64){const k=m<<6&192|w;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uC=function(n){const e=I0(n);return C0.encodeByteArray(e,!0)},zc=function(n){return uC(n).replace(/\./g,"")},P0=function(n){try{return C0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=()=>cC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof Zy>"u")return;const n=Zy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&P0(n[1]);return e&&JSON.parse(e)},hh=()=>{try{return oC()||hC()||dC()||fC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},A0=n=>{var e,t;return(t=(e=hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pC=n=>{const e=A0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},R0=()=>{var n;return(n=hh())===null||n===void 0?void 0:n.config},k0=n=>{var e;return(e=hh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zc(JSON.stringify(t)),zc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function vC(){var n;const e=(n=hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TC(){const n=Pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SC(){return!vC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IC(){try{return typeof indexedDB=="object"}catch{return!1}}function CC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="FirebaseError";class ki extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=PC,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?AC(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ki(o,d,i)}}function AC(n,e){return n.replace(RC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const RC=/\{\$([^}]+)}/g;function kC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ii(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(ev(a)&&ev(c)){if(!Ii(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ev(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function El(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Tl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xC(n,e){const t=new bC(n,e);return t.subscribe.bind(t)}class bC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");OC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=wf),o.error===void 0&&(o.error=wf),o.complete===void 0&&(o.complete=wf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){return n.endsWith(".cloudworkstations.dev")}async function x0(n){return(await fetch(n,{credentials:"include"})).ok}class Xs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new mC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LC(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(n){return n===Ks?void 0:n}function LC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const MC={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},FC=ct.INFO,jC={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},UC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=jC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=FC,this._logHandler=UC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const zC=(n,e)=>e.some(t=>n instanceof t);let tv,nv;function $C(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BC(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b0=new WeakMap,Gf=new WeakMap,O0=new WeakMap,Ef=new WeakMap,Np=new WeakMap;function WC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(os(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&b0.set(t,n)}).catch(()=>{}),Np.set(e,n),e}function HC(n){if(Gf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Gf.set(n,e)}let Kf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||O0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qC(n){Kf=n(Kf)}function GC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Tf(this),e,...t);return O0.set(i,e.sort?e.sort():[e]),os(i)}:BC().includes(n)?function(...e){return n.apply(Tf(this),e),os(b0.get(this))}:function(...e){return os(n.apply(Tf(this),e))}}function KC(n){return typeof n=="function"?GC(n):(n instanceof IDBTransaction&&HC(n),zC(n,$C())?new Proxy(n,Kf):n)}function os(n){if(n instanceof IDBRequest)return WC(n);if(Ef.has(n))return Ef.get(n);const e=KC(n);return e!==n&&(Ef.set(n,e),Np.set(e,n)),e}const Tf=n=>Np.get(n);function QC(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=os(c);return i&&c.addEventListener("upgradeneeded",p=>{i(os(c.result),p.oldVersion,p.newVersion,os(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const YC=["get","getKey","getAll","getAllKeys","count"],XC=["put","add","delete","clear"],Sf=new Map;function rv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=XC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||YC.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&p.done]))[0]};return Sf.set(e,a),a}qC(n=>({...n,get:(e,t,i)=>rv(e,t)||n.get(e,t,i),has:(e,t)=>!!rv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ZC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qf="@firebase/app",iv="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new Op("@firebase/app"),e1="@firebase/app-compat",t1="@firebase/analytics-compat",n1="@firebase/analytics",r1="@firebase/app-check-compat",i1="@firebase/app-check",s1="@firebase/auth",o1="@firebase/auth-compat",a1="@firebase/database",l1="@firebase/data-connect",u1="@firebase/database-compat",c1="@firebase/functions",h1="@firebase/functions-compat",d1="@firebase/installations",f1="@firebase/installations-compat",p1="@firebase/messaging",m1="@firebase/messaging-compat",g1="@firebase/performance",y1="@firebase/performance-compat",v1="@firebase/remote-config",_1="@firebase/remote-config-compat",w1="@firebase/storage",E1="@firebase/storage-compat",T1="@firebase/firestore",S1="@firebase/vertexai",I1="@firebase/firestore-compat",C1="firebase",P1="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",A1={[Qf]:"fire-core",[e1]:"fire-core-compat",[n1]:"fire-analytics",[t1]:"fire-analytics-compat",[i1]:"fire-app-check",[r1]:"fire-app-check-compat",[s1]:"fire-auth",[o1]:"fire-auth-compat",[a1]:"fire-rtdb",[l1]:"fire-data-connect",[u1]:"fire-rtdb-compat",[c1]:"fire-fn",[h1]:"fire-fn-compat",[d1]:"fire-iid",[f1]:"fire-iid-compat",[p1]:"fire-fcm",[m1]:"fire-fcm-compat",[g1]:"fire-perf",[y1]:"fire-perf-compat",[v1]:"fire-rc",[_1]:"fire-rc-compat",[w1]:"fire-gcs",[E1]:"fire-gcs-compat",[T1]:"fire-fst",[I1]:"fire-fst-compat",[S1]:"fire-vertex","fire-js":"fire-js",[C1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,R1=new Map,Xf=new Map;function sv(n,e){try{n.container.addComponent(e)}catch(t){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function la(n){const e=n.name;if(Xf.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,n);for(const t of $c.values())sv(t,n);for(const t of R1.values())sv(t,n);return!0}function Dp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Or(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Wl("app","Firebase",k1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=P1;function N0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Yf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=R0()),!t)throw as.create("no-options");const a=$c.get(o);if(a){if(Ii(t,a.options)&&Ii(i,a.config))return a;throw as.create("duplicate-app",{appName:o})}const c=new VC(o);for(const p of Xf.values())c.addComponent(p);const d=new x1(t,i,c);return $c.set(o,d),d}function D0(n=Yf){const e=$c.get(n);if(!e&&n===Yf&&R0())return N0();if(!e)throw as.create("no-app",{appName:n});return e}function ls(n,e,t){var i;let o=(i=A1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(d.join(" "));return}la(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebase-heartbeat-database",O1=1,Ll="firebase-heartbeat-store";let If=null;function L0(){return If||(If=QC(b1,O1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ll)}catch(t){console.warn(t)}}}}).catch(n=>{throw as.create("idb-open",{originalErrorMessage:n.message})})),If}async function N1(n){try{const t=(await L0()).transaction(Ll),i=await t.objectStore(Ll).get(V0(n));return await t.done,i}catch(e){if(e instanceof ki)Ci.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(t.message)}}}async function ov(n,e){try{const i=(await L0()).transaction(Ll,"readwrite");await i.objectStore(Ll).put(e,V0(n)),await i.done}catch(t){if(t instanceof ki)Ci.warn(t.message);else{const i=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ci.warn(i.message)}}}function V0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1024,L1=30;class V1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new F1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=av();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>L1){const c=j1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ci.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=av(),{heartbeatsToSend:i,unsentEntries:o}=M1(this._heartbeatsCache.heartbeats),a=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ci.warn(t),""}}}function av(){return new Date().toISOString().substring(0,10)}function M1(n,e=D1){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),lv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),lv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class F1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IC()?CC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await N1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return ov(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return ov(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function lv(n){return zc(JSON.stringify({version:2,heartbeats:n})).length}function j1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n){la(new Xs("platform-logger",e=>new JC(e),"PRIVATE")),la(new Xs("heartbeat",e=>new V1(e),"PRIVATE")),ls(Qf,iv,n),ls(Qf,iv,"esm2017"),ls("fire-js","")}U1("");var z1="firebase",$1="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(z1,$1,"app");function Lp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function M0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B1=M0,F0=new Wl("auth","Firebase",M0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Op("@firebase/auth");function W1(n,...e){Bc.logLevel<=ct.WARN&&Bc.warn(`Auth (${Ia}): ${n}`,...e)}function xc(n,...e){Bc.logLevel<=ct.ERROR&&Bc.error(`Auth (${Ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(n,...e){throw Vp(n,...e)}function Jr(n,...e){return Vp(n,...e)}function j0(n,e,t){const i=Object.assign(Object.assign({},B1()),{[e]:t});return new Wl("auth","Firebase",i).create(e,{appName:n.name})}function us(n){return j0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return F0.create(n,...e)}function Ze(n,e,...t){if(!n)throw Vp(e,...t)}function vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xc(e),new Error(e)}function Pi(n,e){n||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function H1(){return uv()==="http:"||uv()==="https:"}function uv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H1()||wC()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile=yC()||EC()}get(){return q1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n,e){Pi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y1=new ql(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function xi(n,e,t,i,o={}){return z0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=Hl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},a);return _C()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&dh(n.emulatorConfig.host)&&(m.credentials="include"),U0.fetch()(await $0(n,n.config.apiHost,t,d),m)})}async function z0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},K1),e);try{const o=new J1(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw wc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw wc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw j0(n,_,m);Vr(n,_)}}catch(o){if(o instanceof ki)throw o;Vr(n,"network-request-failed",{message:String(o)})}}async function fh(n,e,t,i,o={}){const a=await xi(n,e,t,i,o);return"mfaPendingCredential"in a&&Vr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function $0(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?Mp(n.config,o):`${n.config.apiScheme}://${o}`;return Q1.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function X1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Jr(this.auth,"network-request-failed")),Y1.get())})}}function wc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Jr(n,e,i);return o.customData._tokenResponse=t,o}function cv(n){return n!==void 0&&n.enterprise!==void 0}class Z1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return X1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eP(n,e){return xi(n,"GET","/v2/recaptchaConfig",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(n,e){return xi(n,"POST","/v1/accounts:delete",e)}async function Wc(n,e){return xi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nP(n,e=!1){const t=cn(n),i=await t.getIdToken(e),o=Fp(i);Ze(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Al(Cf(o.auth_time)),issuedAtTime:Al(Cf(o.iat)),expirationTime:Al(Cf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cf(n){return Number(n)*1e3}function Fp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=P0(t);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function hv(n){const e=Fp(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ki&&rP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function rP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ua(n,Wc(t,{idToken:i}));Ze(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?B0(a.providerUserInfo):[],d=oP(n.providerData,c),p=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Zf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function sP(n){const e=cn(n);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function B0(n){return n.map(e=>{var{providerId:t}=e,i=Lp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e){const t=await z0(n,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await $0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",U0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lP(n,e){return xi(n,"POST","/v2/accounts:revokeToken",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=hv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await aP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new ia;return i&&(Ze(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ze(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ze(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ia,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Zf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ua(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nP(this,e)}reload(){return sP(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await ua(this,tP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,m,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,N=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(c=t.photoURL)!==null&&c!==void 0?c:void 0,A=(d=t.tenantId)!==null&&d!==void 0?d:void 0,T=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,F=(m=t.createdAt)!==null&&m!==void 0?m:void 0,z=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:O,emailVerified:$,isAnonymous:L,providerData:G,stsTokenManager:x}=t;Ze(O&&x,e,"internal-error");const C=ia.fromJSON(this.name,x);Ze(typeof O=="string",e,"internal-error"),es(w,e.name),es(S,e.name),Ze(typeof $=="boolean",e,"internal-error"),Ze(typeof L=="boolean",e,"internal-error"),es(N,e.name),es(k,e.name),es(A,e.name),es(T,e.name),es(F,e.name),es(z,e.name);const I=new Nr({uid:O,auth:e,email:S,emailVerified:$,displayName:w,isAnonymous:L,photoURL:k,phoneNumber:N,tenantId:A,stsTokenManager:C,createdAt:F,lastLoginAt:z});return G&&Array.isArray(G)&&(I.providerData=G.map(R=>Object.assign({},R))),T&&(I._redirectEventId=T),I}static async _fromIdTokenResponse(e,t,i=!1){const o=new ia;o.updateFromServerResponse(t);const a=new Nr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Hc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ze(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?B0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new ia;d.updateFromIdToken(i);const p=new Nr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Zf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map;function _i(n){Pi(n instanceof Function,"Expected a class definition");let e=dv.get(n);return e?(Pi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}W0.type="NONE";const fv=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class sa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Wc(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new sa(_i(fv),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||_i(fv);const c=bc(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){let w;if(typeof _=="string"){const S=await Wc(e,{idToken:_}).catch(()=>{});if(!S)break;w=await Nr._fromGetAccountInfoResponse(e,S,_)}else w=Nr._fromJSON(e,_);m!==a&&(d=w),a=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new sa(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new sa(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y0(e))return"Blackberry";if(X0(e))return"Webos";if(q0(e))return"Safari";if((e.includes("chrome/")||G0(e))&&!e.includes("edge/"))return"Chrome";if(Q0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function H0(n=Pn()){return/firefox\//i.test(n)}function q0(n=Pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G0(n=Pn()){return/crios\//i.test(n)}function K0(n=Pn()){return/iemobile/i.test(n)}function Q0(n=Pn()){return/android/i.test(n)}function Y0(n=Pn()){return/blackberry/i.test(n)}function X0(n=Pn()){return/webos/i.test(n)}function jp(n=Pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uP(n=Pn()){var e;return jp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cP(){return TC()&&document.documentMode===10}function J0(n=Pn()){return jp(n)||Q0(n)||X0(n)||Y0(n)||/windows phone/i.test(n)||K0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n,e=[]){let t;switch(n){case"Browser":t=pv(Pn());break;case"Worker":t=`${pv(Pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e={}){return xi(n,"GET","/v2/passwordPolicy",oo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=6;class pP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:fP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new hP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_i(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Wc(this,{idToken:e}),i=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Or(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(us(this));const t=e?cn(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dP(this),t=new pP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await lP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_i(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[_i(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&W1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ca(n){return cn(n)}class mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=xC(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gP(n){ph=n}function ew(n){return ph.loadJS(n)}function yP(){return ph.recaptchaEnterpriseScript}function vP(){return ph.gapiScript}function _P(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wP{constructor(){this.enterprise=new EP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class EP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const TP="recaptcha-enterprise",tw="NO_RECAPTCHA";class SP{constructor(e){this.type=TP,this.auth=Ca(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{eP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new Z1(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;cv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(tw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wP().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&cv(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=yP();p.length!==0&&(p+=d),ew(p).then(()=>{o(d,a,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function gv(n,e,t,i=!1,o=!1){const a=new SP(n);let c;if(o)c=tw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function yv(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await gv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await gv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n,e){const t=Dp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ii(a,e??{}))return o;Vr(o,"already-initialized")}return t.initialize({options:e})}function CP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(_i);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function PP(n,e,t){const i=Ca(n);Ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=nw(e),{host:c,port:d}=AP(e),p=d===null?"":`:${d}`,m={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ze(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ze(Ii(m,i.config.emulator)&&Ii(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,RP(),dh(c)&&x0(`${a}//${c}${p}`)}function nw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AP(n){const e=nw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:vv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:vv(c)}}}function vv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,t){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function kP(n,e){return xi(n,"POST","/v1/accounts:update",e)}async function xP(n,e){return xi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e){return fh(n,"POST","/v1/accounts:signInWithPassword",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,e){return fh(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}async function NP(n,e){return fh(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Up{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Vl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Vl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yv(e,t,"signInWithPassword",bP);case"emailLink":return OP(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yv(e,i,"signUpPassword",xP);case"emailLink":return NP(e,{idToken:t,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n,e){return fh(n,"POST","/v1/accounts:signInWithIdp",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="http://localhost";class Js extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Lp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Js(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return oa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,oa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oa(e,t)}buildRequest(){const e={requestUri:DP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VP(n){const e=El(Tl(n)).link,t=e?El(Tl(e)).deep_link_id:null,i=El(Tl(n)).deep_link_id;return(i?El(Tl(i)).link:null)||i||t||e||n}class zp{constructor(e){var t,i,o,a,c,d;const p=El(Tl(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,w=LP((o=p.mode)!==null&&o!==void 0?o:null);Ze(m&&_&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=VP(e);try{return new zp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,t){return Vl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=zp.parseLink(t);return Ze(i,"argument-error"),Vl._fromEmailAndCode(e,i.code,i.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends rw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Gl{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Js._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ns.credential(t,i)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Gl{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Gl{constructor(){super("twitter.com")}static credential(e,t){return Js._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return is.credential(t,i)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Nr._fromIdTokenResponse(e,i,o),c=_v(i);return new ca({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=_v(i);return new ca({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function _v(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends ki{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new qc(e,t,i,o)}}function iw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(n,a,e,i):a})}async function MP(n,e,t=!1){const i=await ua(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ca._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(n,e,t=!1){const{auth:i}=n;if(Or(i.app))return Promise.reject(us(i));const o="reauthenticate";try{const a=await ua(n,iw(i,o,e,n),t);Ze(a.idToken,i,"internal-error");const c=Fp(a.idToken);Ze(c,i,"internal-error");const{sub:d}=c;return Ze(n.uid===d,i,"user-mismatch"),ca._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Vr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(n,e,t=!1){if(Or(n.app))return Promise.reject(us(n));const i="signIn",o=await iw(n,i,e),a=await ca._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function jP(n,e){return sw(Ca(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n){const e=Ca(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zP(n,e,t){return Or(n.app)?Promise.reject(us(n)):jP(cn(n),Pa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&UP(n),i})}function $P(n,e){return BP(cn(n),null,e)}async function BP(n,e,t){const{auth:i}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const c=await ua(n,kP(i,a));await n._updateTokensIfNecessary(c,!0)}function WP(n,e,t,i){return cn(n).onIdTokenChanged(e,t,i)}function HP(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function qP(n,e,t,i){return cn(n).onAuthStateChanged(e,t,i)}function GP(n){return cn(n).signOut()}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=1e3,QP=10;class aw extends ow{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);cP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}aw.type="LOCAL";const YP=aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends ow{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lw.type="SESSION";const uw=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new mh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async m=>m(t.origin,a)),p=await XP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const m=$p("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(S.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function ZP(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function eA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nA(){return cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebaseLocalStorageDb",rA=1,Kc="firebaseLocalStorage",dw="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gh(n,e){return n.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function iA(){const n=indexedDB.deleteDatabase(hw);return new Kl(n).toPromise()}function ep(){const n=indexedDB.open(hw,rA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Kc,{keyPath:dw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Kc)?e(i):(i.close(),await iA(),e(await ep()))})})}async function wv(n,e,t){const i=gh(n,!0).put({[dw]:e,value:t});return new Kl(i).toPromise()}async function sA(n,e){const t=gh(n,!1).get(e),i=await new Kl(t).toPromise();return i===void 0?null:i.value}function Ev(n,e){const t=gh(n,!0).delete(e);return new Kl(t).toPromise()}const oA=800,aA=3;class fw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>aA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(nA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eA(),!this.activeServiceWorker)return;this.sender=new JP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await wv(e,Gc,"1"),await Ev(e,Gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>sA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ev(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=gh(o,!1).getAll();return new Kl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fw.type="LOCAL";const lA=fw;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n,e){return e?_i(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cA(n){return sw(n.auth,new Bp(n),n.bypassAuthState)}function hA(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),FP(t,new Bp(n),n.bypassAuthState)}async function dA(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),MP(t,new Bp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cA;case"linkViaPopup":case"linkViaRedirect":return dA;case"reauthViaPopup":case"reauthViaRedirect":return hA;default:Vr(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new ql(2e3,1e4);class ta extends pw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fA.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="pendingRedirect",Oc=new Map;class mA extends pw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const i=await gA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gA(n,e){const t=_A(e),i=vA(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function yA(n,e){Oc.set(n._key(),e)}function vA(n){return _i(n._redirectPersistence)}function _A(n){return bc(pA,n.config.apiKey,n.name)}async function wA(n,e,t=!1){if(Or(n.app))return Promise.reject(us(n));const i=Ca(n),o=uA(i,e),c=await new mA(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=10*60*1e3;class TA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!mw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Jr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(e))}saveEventToCache(e){this.cachedEventUids.add(Tv(e)),this.lastProcessedEventTime=Date.now()}}function Tv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(n,e={}){return xi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PA=/^https?/;async function AA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await IA(n);for(const t of e)try{if(RA(t))return}catch{}Vr(n,"unauthorized-domain")}function RA(n){const e=Jf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!PA.test(t))return!1;if(CA.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new ql(3e4,6e4);function Sv(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xA(n){return new Promise((e,t)=>{var i,o,a;function c(){Sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sv(),t(Jr(n,"network-request-failed"))},timeout:kA.get()})}if(!((o=(i=Zr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Zr().gapi)===null||a===void 0)&&a.load)c();else{const d=_P("iframefcb");return Zr()[d]=()=>{gapi.load?c():t(Jr(n,"network-request-failed"))},ew(`${vP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Nc=null,e})}let Nc=null;function bA(n){return Nc=Nc||xA(n),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new ql(5e3,15e3),NA="__/auth/iframe",DA="emulator/auth/iframe",LA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MA(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Mp(e,DA):`https://${n.config.authDomain}/${NA}`,i={apiKey:e.apiKey,appName:n.name,v:Ia},o=VA.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Hl(i).slice(1)}`}async function FA(n){const e=await bA(n),t=Zr().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:MA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LA,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Jr(n,"network-request-failed"),d=Zr().setTimeout(()=>{a(c)},OA.get());function p(){Zr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UA=500,zA=600,$A="_blank",BA="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WA(n,e,t,i=UA,o=zA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},jA),{width:i.toString(),height:o.toString(),top:a,left:c}),m=Pn().toLowerCase();t&&(d=G0(m)?$A:t),H0(m)&&(e=e||BA,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[N,k])=>`${S}${N}=${k},`,"");if(uP(m)&&d!=="_self")return HA(e||"",d),new Iv(null);const w=window.open(e||"",d,_);Ze(w,n,"popup-blocked");try{w.focus()}catch{}return new Iv(w)}function HA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="__/auth/handler",GA="emulator/auth/handler",KA=encodeURIComponent("fac");async function Cv(n,e,t,i,o,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ia,eventId:o};if(e instanceof rw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",kC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof Gl){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),m=p?`#${KA}=${encodeURIComponent(p)}`:"";return`${QA(n)}?${Hl(d).slice(1)}${m}`}function QA({config:n}){return n.emulator?Mp(n,GA):`https://${n.authDomain}/${qA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class YA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uw,this._completeRedirectFn=wA,this._overrideRedirectResult=yA}async _openPopup(e,t,i,o){var a;Pi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Cv(e,t,i,Jf(),o);return WA(e,c,$p())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Cv(e,t,i,Jf(),o);return ZP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Pi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await FA(e),i=new TA(e);return t.register("authEvent",o=>(Ze(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pf,{type:Pf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Pf];c!==void 0&&t(!!c),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return J0()||q0()||jp()}}const XA=YA;var Pv="@firebase/auth",Av="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eR(n){la(new Xs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ze(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z0(n)},m=new mP(i,o,a,p);return CP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),la(new Xs("auth-internal",e=>{const t=Ca(e.getProvider("auth").getImmediate());return(i=>new JA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(Pv,Av,ZA(n)),ls(Pv,Av,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=5*60,nR=k0("authIdTokenMaxAge")||tR;let Rv=null;const rR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nR)return;const o=t==null?void 0:t.token;Rv!==o&&(Rv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iR(n=D0()){const e=Dp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IP(n,{popupRedirectResolver:XA,persistence:[lA,YP,uw]}),i=k0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=rR(a.toString());HP(t,c,()=>c(t.currentUser)),WP(t,d=>c(d))}}const o=A0("auth");return o&&PP(t,`http://${o}`),t}function sR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}gP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Jr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",sR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eR("Browser");var kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,gw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function I(){}I.prototype=C.prototype,x.D=C.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(R,V,j){for(var b=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)b[Ce-2]=arguments[Ce];return C.prototype[V].apply(R,b)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)R[V]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(V=0;16>V;++V)R[V]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=x.g[0],I=x.g[1],V=x.g[2];var j=x.g[3],b=C+(j^I&(V^j))+R[0]+3614090360&4294967295;C=I+(b<<7&4294967295|b>>>25),b=j+(V^C&(I^V))+R[1]+3905402710&4294967295,j=C+(b<<12&4294967295|b>>>20),b=V+(I^j&(C^I))+R[2]+606105819&4294967295,V=j+(b<<17&4294967295|b>>>15),b=I+(C^V&(j^C))+R[3]+3250441966&4294967295,I=V+(b<<22&4294967295|b>>>10),b=C+(j^I&(V^j))+R[4]+4118548399&4294967295,C=I+(b<<7&4294967295|b>>>25),b=j+(V^C&(I^V))+R[5]+1200080426&4294967295,j=C+(b<<12&4294967295|b>>>20),b=V+(I^j&(C^I))+R[6]+2821735955&4294967295,V=j+(b<<17&4294967295|b>>>15),b=I+(C^V&(j^C))+R[7]+4249261313&4294967295,I=V+(b<<22&4294967295|b>>>10),b=C+(j^I&(V^j))+R[8]+1770035416&4294967295,C=I+(b<<7&4294967295|b>>>25),b=j+(V^C&(I^V))+R[9]+2336552879&4294967295,j=C+(b<<12&4294967295|b>>>20),b=V+(I^j&(C^I))+R[10]+4294925233&4294967295,V=j+(b<<17&4294967295|b>>>15),b=I+(C^V&(j^C))+R[11]+2304563134&4294967295,I=V+(b<<22&4294967295|b>>>10),b=C+(j^I&(V^j))+R[12]+1804603682&4294967295,C=I+(b<<7&4294967295|b>>>25),b=j+(V^C&(I^V))+R[13]+4254626195&4294967295,j=C+(b<<12&4294967295|b>>>20),b=V+(I^j&(C^I))+R[14]+2792965006&4294967295,V=j+(b<<17&4294967295|b>>>15),b=I+(C^V&(j^C))+R[15]+1236535329&4294967295,I=V+(b<<22&4294967295|b>>>10),b=C+(V^j&(I^V))+R[1]+4129170786&4294967295,C=I+(b<<5&4294967295|b>>>27),b=j+(I^V&(C^I))+R[6]+3225465664&4294967295,j=C+(b<<9&4294967295|b>>>23),b=V+(C^I&(j^C))+R[11]+643717713&4294967295,V=j+(b<<14&4294967295|b>>>18),b=I+(j^C&(V^j))+R[0]+3921069994&4294967295,I=V+(b<<20&4294967295|b>>>12),b=C+(V^j&(I^V))+R[5]+3593408605&4294967295,C=I+(b<<5&4294967295|b>>>27),b=j+(I^V&(C^I))+R[10]+38016083&4294967295,j=C+(b<<9&4294967295|b>>>23),b=V+(C^I&(j^C))+R[15]+3634488961&4294967295,V=j+(b<<14&4294967295|b>>>18),b=I+(j^C&(V^j))+R[4]+3889429448&4294967295,I=V+(b<<20&4294967295|b>>>12),b=C+(V^j&(I^V))+R[9]+568446438&4294967295,C=I+(b<<5&4294967295|b>>>27),b=j+(I^V&(C^I))+R[14]+3275163606&4294967295,j=C+(b<<9&4294967295|b>>>23),b=V+(C^I&(j^C))+R[3]+4107603335&4294967295,V=j+(b<<14&4294967295|b>>>18),b=I+(j^C&(V^j))+R[8]+1163531501&4294967295,I=V+(b<<20&4294967295|b>>>12),b=C+(V^j&(I^V))+R[13]+2850285829&4294967295,C=I+(b<<5&4294967295|b>>>27),b=j+(I^V&(C^I))+R[2]+4243563512&4294967295,j=C+(b<<9&4294967295|b>>>23),b=V+(C^I&(j^C))+R[7]+1735328473&4294967295,V=j+(b<<14&4294967295|b>>>18),b=I+(j^C&(V^j))+R[12]+2368359562&4294967295,I=V+(b<<20&4294967295|b>>>12),b=C+(I^V^j)+R[5]+4294588738&4294967295,C=I+(b<<4&4294967295|b>>>28),b=j+(C^I^V)+R[8]+2272392833&4294967295,j=C+(b<<11&4294967295|b>>>21),b=V+(j^C^I)+R[11]+1839030562&4294967295,V=j+(b<<16&4294967295|b>>>16),b=I+(V^j^C)+R[14]+4259657740&4294967295,I=V+(b<<23&4294967295|b>>>9),b=C+(I^V^j)+R[1]+2763975236&4294967295,C=I+(b<<4&4294967295|b>>>28),b=j+(C^I^V)+R[4]+1272893353&4294967295,j=C+(b<<11&4294967295|b>>>21),b=V+(j^C^I)+R[7]+4139469664&4294967295,V=j+(b<<16&4294967295|b>>>16),b=I+(V^j^C)+R[10]+3200236656&4294967295,I=V+(b<<23&4294967295|b>>>9),b=C+(I^V^j)+R[13]+681279174&4294967295,C=I+(b<<4&4294967295|b>>>28),b=j+(C^I^V)+R[0]+3936430074&4294967295,j=C+(b<<11&4294967295|b>>>21),b=V+(j^C^I)+R[3]+3572445317&4294967295,V=j+(b<<16&4294967295|b>>>16),b=I+(V^j^C)+R[6]+76029189&4294967295,I=V+(b<<23&4294967295|b>>>9),b=C+(I^V^j)+R[9]+3654602809&4294967295,C=I+(b<<4&4294967295|b>>>28),b=j+(C^I^V)+R[12]+3873151461&4294967295,j=C+(b<<11&4294967295|b>>>21),b=V+(j^C^I)+R[15]+530742520&4294967295,V=j+(b<<16&4294967295|b>>>16),b=I+(V^j^C)+R[2]+3299628645&4294967295,I=V+(b<<23&4294967295|b>>>9),b=C+(V^(I|~j))+R[0]+4096336452&4294967295,C=I+(b<<6&4294967295|b>>>26),b=j+(I^(C|~V))+R[7]+1126891415&4294967295,j=C+(b<<10&4294967295|b>>>22),b=V+(C^(j|~I))+R[14]+2878612391&4294967295,V=j+(b<<15&4294967295|b>>>17),b=I+(j^(V|~C))+R[5]+4237533241&4294967295,I=V+(b<<21&4294967295|b>>>11),b=C+(V^(I|~j))+R[12]+1700485571&4294967295,C=I+(b<<6&4294967295|b>>>26),b=j+(I^(C|~V))+R[3]+2399980690&4294967295,j=C+(b<<10&4294967295|b>>>22),b=V+(C^(j|~I))+R[10]+4293915773&4294967295,V=j+(b<<15&4294967295|b>>>17),b=I+(j^(V|~C))+R[1]+2240044497&4294967295,I=V+(b<<21&4294967295|b>>>11),b=C+(V^(I|~j))+R[8]+1873313359&4294967295,C=I+(b<<6&4294967295|b>>>26),b=j+(I^(C|~V))+R[15]+4264355552&4294967295,j=C+(b<<10&4294967295|b>>>22),b=V+(C^(j|~I))+R[6]+2734768916&4294967295,V=j+(b<<15&4294967295|b>>>17),b=I+(j^(V|~C))+R[13]+1309151649&4294967295,I=V+(b<<21&4294967295|b>>>11),b=C+(V^(I|~j))+R[4]+4149444226&4294967295,C=I+(b<<6&4294967295|b>>>26),b=j+(I^(C|~V))+R[11]+3174756917&4294967295,j=C+(b<<10&4294967295|b>>>22),b=V+(C^(j|~I))+R[2]+718787259&4294967295,V=j+(b<<15&4294967295|b>>>17),b=I+(j^(V|~C))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(V+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+j&4294967295}i.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var I=C-this.blockSize,R=this.B,V=this.h,j=0;j<C;){if(V==0)for(;j<=I;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<C;)if(R[V++]=x.charCodeAt(j++),V==this.blockSize){o(this,R),V=0;break}}else for(;j<C;)if(R[V++]=x[j++],V==this.blockSize){o(this,R),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var I=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=I&255,I/=256;for(this.u(x),x=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)x[I++]=this.g[C]>>>R&255;return x};function a(x,C){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=C(x)}function c(x,C){this.h=C;for(var I=[],R=!0,V=x.length-1;0<=V;V--){var j=x[V]|0;R&&j==C||(I[V]=j,R=!1)}this.g=I}var d={};function p(x){return-128<=x&&128>x?a(x,function(C){return new c([C|0],0>C?-1:0)}):new c([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return T(m(-x));for(var C=[],I=1,R=0;x>=I;R++)C[R]=x/I|0,I*=4294967296;return new c(C,0)}function _(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return T(_(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(C,8)),R=w,V=0;V<x.length;V+=8){var j=Math.min(8,x.length-V),b=parseInt(x.substring(V,V+j),C);8>j?(j=m(Math.pow(C,j)),R=R.j(j).add(m(b))):(R=R.j(I),R=R.add(m(b)))}return R}var w=p(0),S=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(A(this))return-T(this).m();for(var x=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);x+=(0<=R?R:4294967296+R)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(A(this))return"-"+T(this).toString(x);for(var C=m(Math.pow(x,6)),I=this,R="";;){var V=$(I,C).g;I=F(I,V.j(C));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,k(I))return j+R;for(;6>j.length;)j="0"+j;R=j+R}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function A(x){return x.h==-1}n.l=function(x){return x=F(this,x),A(x)?-1:k(x)?0:1};function T(x){for(var C=x.g.length,I=[],R=0;R<C;R++)I[R]=~x.g[R];return new c(I,~x.h).add(S)}n.abs=function(){return A(this)?T(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],R=0,V=0;V<=C;V++){var j=R+(this.i(V)&65535)+(x.i(V)&65535),b=(j>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);R=b>>>16,j&=65535,b&=65535,I[V]=b<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(x,C){return x.add(T(C))}n.j=function(x){if(k(this)||k(x))return w;if(A(this))return A(x)?T(this).j(T(x)):T(T(this).j(x));if(A(x))return T(this.j(T(x)));if(0>this.l(N)&&0>x.l(N))return m(this.m()*x.m());for(var C=this.g.length+x.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var V=0;V<x.g.length;V++){var j=this.i(R)>>>16,b=this.i(R)&65535,Ce=x.i(V)>>>16,be=x.i(V)&65535;I[2*R+2*V]+=b*be,z(I,2*R+2*V),I[2*R+2*V+1]+=j*be,z(I,2*R+2*V+1),I[2*R+2*V+1]+=b*Ce,z(I,2*R+2*V+1),I[2*R+2*V+2]+=j*Ce,z(I,2*R+2*V+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new c(I,0)};function z(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function O(x,C){this.g=x,this.h=C}function $(x,C){if(k(C))throw Error("division by zero");if(k(x))return new O(w,w);if(A(x))return C=$(T(x),C),new O(T(C.g),T(C.h));if(A(C))return C=$(x,T(C)),new O(T(C.g),C.h);if(30<x.g.length){if(A(x)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var I=S,R=C;0>=R.l(x);)I=L(I),R=L(R);var V=G(I,1),j=G(R,1);for(R=G(R,2),I=G(I,2);!k(R);){var b=j.add(R);0>=b.l(x)&&(V=V.add(I),j=b),R=G(R,1),I=G(I,1)}return C=F(x,V.j(C)),new O(V,C)}for(V=w;0<=x.l(C);){for(I=Math.max(1,Math.floor(x.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),j=m(I),b=j.j(C);A(b)||0<b.l(x);)I-=R,j=m(I),b=j.j(C);k(j)&&(j=S),V=V.add(j),x=F(x,b)}return new O(V,x)}n.A=function(x){return $(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&x.i(R);return new c(I,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|x.i(R);return new c(I,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^x.i(R);return new c(I,this.h^x.h)};function L(x){for(var C=x.g.length+1,I=[],R=0;R<C;R++)I[R]=x.i(R)<<1|x.i(R-1)>>>31;return new c(I,x.h)}function G(x,C){var I=C>>5;C%=32;for(var R=x.g.length-I,V=[],j=0;j<R;j++)V[j]=0<C?x.i(j+I)>>>C|x.i(j+I+1)<<32-C:x.i(j+I);return new c(V,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,cs=c}).apply(typeof kv<"u"?kv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,Sl,vw,Dc,tp,_w,ww,Ew;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var v=i;u=u.split(".");for(var P=0;P<u.length-1;P++){var X=u[P];if(!(X in v))break e;v=v[X]}u=u[u.length-1],P=v[u],g=g(P),g!=P&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var v=0,P=!1,X={next:function(){if(!P&&v<u.length){var se=v++;return{value:g(se,u[se]),done:!1}}return P=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function _(u,g,v){return u.call.apply(u.bind,arguments)}function w(u,g,v){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,P),u.apply(g,X)}}return function(){return u.apply(g,arguments)}}function S(u,g,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,S.apply(null,arguments)}function N(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var P=v.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function k(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(P,X,se){for(var ke=Array(arguments.length-2),At=2;At<arguments.length;At++)ke[At-2]=arguments[At];return g.prototype[X].apply(P,ke)}}function A(u){const g=u.length;if(0<g){const v=Array(g);for(let P=0;P<g;P++)v[P]=u[P];return v}return[]}function T(u,g){for(let v=1;v<arguments.length;v++){const P=arguments[v];if(p(P)){const X=u.length||0,se=P.length||0;u.length=X+se;for(let ke=0;ke<se;ke++)u[X+ke]=P[ke]}else u.push(P)}}class F{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function z(u){return/^[\s\xa0]*$/.test(u)}function O(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function $(u){return $[" "](u),u}$[" "]=function(){};var L=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function G(u,g,v){for(const P in u)g.call(v,u[P],P,u)}function x(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function C(u){const g={};for(const v in u)g[v]=u[v];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,g){let v,P;for(let X=1;X<arguments.length;X++){P=arguments[X];for(v in P)u[v]=P[v];for(let se=0;se<I.length;se++)v=I[se],Object.prototype.hasOwnProperty.call(P,v)&&(u[v]=P[v])}}function V(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function j(u){d.setTimeout(()=>{throw u},0)}function b(){var u=Oe;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Ce{constructor(){this.h=this.g=null}add(g,v){const P=be.get();P.set(g,v),this.h?this.h.next=P:this.g=P,this.h=P}}var be=new F(()=>new je,u=>u.reset());class je{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,de=!1,Oe=new Ce,U=()=>{const u=d.Promise.resolve(void 0);xe=()=>{u.then(J)}};var J=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(v){j(v)}var g=be;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}de=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,g),d.removeEventListener("test",v,g)}catch{}return u}();function me(u,g){if(K.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(L){e:{try{$(g.nodeName);var X=!0;break e}catch{}X=!1}X||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:q[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&me.aa.h.call(this)}}k(me,K);var q={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),oe=0;function We(u,g,v,P,X){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!P,this.ha=X,this.key=++oe,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,v,P,X){var se=u.toString();u=this.g[se],u||(u=this.g[se]=[],this.h++);var ke=ot(u,g,P,X);return-1<ke?(g=u[ke],v||(g.fa=!1)):(g=new We(g,this.src,se,!!P,X),g.fa=v,u.push(g)),g};function Le(u,g){var v=g.type;if(v in u.g){var P=u.g[v],X=Array.prototype.indexOf.call(P,g,void 0),se;(se=0<=X)&&Array.prototype.splice.call(P,X,1),se&&(ge(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ot(u,g,v,P){for(var X=0;X<u.length;++X){var se=u[X];if(!se.da&&se.listener==g&&se.capture==!!v&&se.ha==P)return X}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),Xe={};function ft(u,g,v,P,X){if(Array.isArray(g)){for(var se=0;se<g.length;se++)ft(u,g[se],v,P,X);return null}return v=lt(v),u&&u[De]?u.K(g,v,m(P)?!!P.capture:!1,X):nt(u,g,v,!1,P,X)}function nt(u,g,v,P,X,se){if(!g)throw Error("Invalid event type");var ke=m(X)?!!X.capture:!!X,At=jt(u);if(At||(u[Et]=At=new Ye(u)),v=At.add(g,v,P,ke,se),v.proxy)return v;if(P=Pt(),v.proxy=P,P.src=u,P.listener=v,u.addEventListener)te||(X=ke),X===void 0&&(X=!1),u.addEventListener(g.toString(),P,X);else if(u.attachEvent)u.attachEvent(Ft(g.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pt(){function u(v){return g.call(u.src,u.listener,v)}const g=vn;return u}function Tt(u,g,v,P,X){if(Array.isArray(g))for(var se=0;se<g.length;se++)Tt(u,g[se],v,P,X);else P=m(P)?!!P.capture:!!P,v=lt(v),u&&u[De]?(u=u.i,g=String(g).toString(),g in u.g&&(se=u.g[g],v=ot(se,v,P,X),-1<v&&(ge(se[v]),Array.prototype.splice.call(se,v,1),se.length==0&&(delete u.g[g],u.h--)))):u&&(u=jt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ot(g,v,P,X)),(v=-1<u?g[u]:null)&&st(v))}function st(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[De])Le(g.i,u);else{var v=u.type,P=u.proxy;g.removeEventListener?g.removeEventListener(v,P,u.capture):g.detachEvent?g.detachEvent(Ft(v),P):g.addListener&&g.removeListener&&g.removeListener(P),(v=jt(g))?(Le(v,u),v.h==0&&(v.src=null,g[Et]=null)):ge(u)}}}function Ft(u){return u in Xe?Xe[u]:Xe[u]="on"+u}function vn(u,g){if(u.da)u=!0;else{g=new me(g,this);var v=u.listener,P=u.ha||u.src;u.fa&&st(u),u=v.call(P,g)}return u}function jt(u){return u=u[Et],u instanceof Ye?u:null}var He="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(u){return typeof u=="function"?u:(u[He]||(u[He]=function(g){return u.handleEvent(g)}),u[He])}function pt(){Y.call(this),this.i=new Ye(this),this.M=this,this.F=null}k(pt,Y),pt.prototype[De]=!0,pt.prototype.removeEventListener=function(u,g,v,P){Tt(this,u,g,v,P)};function D(u,g){var v,P=u.F;if(P)for(v=[];P;P=P.F)v.push(P);if(u=u.M,P=g.type||g,typeof g=="string")g=new K(g,u);else if(g instanceof K)g.target=g.target||u;else{var X=g;g=new K(P,u),R(g,X)}if(X=!0,v)for(var se=v.length-1;0<=se;se--){var ke=g.g=v[se];X=H(ke,P,!0,g)&&X}if(ke=g.g=u,X=H(ke,P,!0,g)&&X,X=H(ke,P,!1,g)&&X,v)for(se=0;se<v.length;se++)ke=g.g=v[se],X=H(ke,P,!1,g)&&X}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],P=0;P<v.length;P++)ge(v[P]);delete u.g[g],u.h--}}this.F=null},pt.prototype.K=function(u,g,v,P){return this.i.add(String(u),g,!1,v,P)},pt.prototype.L=function(u,g,v,P){return this.i.add(String(u),g,!0,v,P)};function H(u,g,v,P){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var X=!0,se=0;se<g.length;++se){var ke=g[se];if(ke&&!ke.da&&ke.capture==v){var At=ke.listener,Jt=ke.ha||ke.src;ke.fa&&Le(u.i,ke),X=At.call(Jt,P)!==!1&&X}}return X&&!P.defaultPrevented}function ae(u,g,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(u,g||0)}function re(u){u.g=ae(()=>{u.g=null,u.i&&(u.i=!1,re(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class _e extends Y{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ie(u){Y.call(this),this.h=u,this.g={}}k(Ie,Y);var Ne=[];function ye(u){G(u.g,function(g,v){this.g.hasOwnProperty(v)&&st(g)},u),u.g={}}Ie.prototype.N=function(){Ie.aa.N.call(this),ye(this)},Ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=d.JSON.stringify,le=d.JSON.parse,ue=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ae(){}Ae.prototype.h=null;function ne(u){return u.h||(u.h=u.i())}function ce(){}var pe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Re(){K.call(this,"d")}k(Re,K);function qe(){K.call(this,"c")}k(qe,K);var Je={},mt=null;function _t(){return mt=mt||new pt}Je.La="serverreachability";function Wn(u){K.call(this,Je.La,u)}k(Wn,K);function Gt(u){const g=_t();D(g,new Wn(g))}Je.STAT_EVENT="statevent";function Hn(u,g){K.call(this,Je.STAT_EVENT,u),this.stat=g}k(Hn,K);function Ut(u){const g=_t();D(g,new Hn(g,u))}Je.Ma="timingevent";function co(u,g){K.call(this,Je.Ma,u),this.size=g}k(co,K);function mr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function Cs(u,g,v,P,X,se){u.info(function(){if(u.g)if(se)for(var ke="",At=se.split("&"),Jt=0;Jt<At.length;Jt++){var gt=At[Jt].split("=");if(1<gt.length){var rn=gt[0];gt=gt[1];var Kt=rn.split("_");ke=2<=Kt.length&&Kt[1]=="type"?ke+(rn+"="+gt+"&"):ke+(rn+"=redacted&")}}else ke=null;else ke=se;return"XMLHTTP REQ ("+P+") [attempt "+X+"]: "+g+`
`+v+`
`+ke})}function ho(u,g,v,P,X,se,ke){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+X+"]: "+g+`
`+v+`
`+se+" "+ke})}function gr(u,g,v,P){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Uh(u,v)+(P?" "+P:"")})}function La(u,g){u.info(function(){return"TIMEOUT: "+g})}Is.prototype.info=function(){};function Uh(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var P=v[u];if(!(2>P.length)){var X=P[1];if(Array.isArray(X)&&!(1>X.length)){var se=X[0];if(se!="noop"&&se!="stop"&&se!="close")for(var ke=1;ke<X.length;ke++)X[ke]=""}}}}return ve(v)}catch{return g}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function Ps(){}k(Ps,Ae),Ps.prototype.g=function(){return new XMLHttpRequest},Ps.prototype.i=function(){return{}},yr=new Ps;function vr(u,g,v,P){this.j=u,this.i=g,this.l=v,this.R=P||1,this.U=new Ie(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var Va={},po={};function mo(u,g,v){u.L=1,u.v=Li(Gn(g)),u.m=v,u.P=!0,Ma(u,null)}function Ma(u,g){u.F=Date.now(),kt(u),u.A=Gn(u.v);var v=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),Mi(v.i,"t",P),u.C=0,v=u.j.J,u.h=new su,u.g=Su(u.j,v?g:null,!u.m),0<u.O&&(u.M=new _e(S(u.Y,u,u.g),u.O)),g=u.U,v=u.g,P=u.ca;var X="readystatechange";Array.isArray(X)||(X&&(Ne[0]=X.toString()),X=Ne);for(var se=0;se<X.length;se++){var ke=ft(v,X[se],P||g.handleEvent,!1,g.h||g);if(!ke)break;g.g[ke.key]=ke}g=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Gt(),Cs(u.i,u.u,u.A,u.l,u.R,u.m)}vr.prototype.ca=function(u){u=u.target;const g=this.M;g&&Nn(u)==3?g.j():this.Y(u)},vr.prototype.Y=function(u){try{if(u==this.g)e:{const Kt=Nn(this.g);var g=this.g.Ba();const ir=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Ba(this.g)))){this.J||Kt!=4||g==7||(g==8||0>=ir?Gt(3):Gt(2)),As(this);var v=this.g.Z();this.X=v;t:if(ou(this)){var P=Ba(this.g);u="";var X=P.length,se=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),bi(this);var ke="";break t}this.h.i=new d.TextDecoder}for(g=0;g<X;g++)this.h.h=!0,u+=this.h.i.decode(P[g],{stream:!(se&&g==X-1)});P.length=0,this.h.g+=u,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=v==200,ho(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Jt=this.g;if((At=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(At)){var gt=At;break t}}gt=null}if(v=gt)gr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,v);else{this.o=!1,this.s=3,Ut(12),nr(this),bi(this);break e}}if(this.P){v=!0;let Qn;for(;!this.J&&this.C<ke.length;)if(Qn=zh(this,ke),Qn==po){Kt==4&&(this.s=4,Ut(14),v=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==Va){this.s=4,Ut(15),gr(this.i,this.l,ke,"[Invalid Chunk]"),v=!1;break}else gr(this.i,this.l,Qn,null),Fa(this,Qn);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||ke.length!=0||this.h.h||(this.s=1,Ut(16),v=!1),this.o=this.o&&v,!v)gr(this.i,this.l,ke,"[Invalid Chunked Response]"),nr(this),bi(this);else if(0<ke.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),Ha(rn),rn.M=!0,Ut(11))}}else gr(this.i,this.l,ke,null),Fa(this,ke);Kt==4&&nr(this),this.o&&!this.J&&(Kt==4?Po(this.j,this):(this.o=!1,kt(this)))}else Eo(this.g),v==400&&0<ke.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),nr(this),bi(this)}}}catch{}finally{}};function ou(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zh(u,g){var v=u.C,P=g.indexOf(`
`,v);return P==-1?po:(v=Number(g.substring(v,P)),isNaN(v)?Va:(P+=1,P+v>g.length?po:(g=g.slice(P,P+v),u.C=P+v,g)))}vr.prototype.cancel=function(){this.J=!0,nr(this)};function kt(u){u.S=Date.now()+u.I,au(u,u.I)}function au(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=mr(S(u.ba,u),g)}function As(u){u.B&&(d.clearTimeout(u.B),u.B=null)}vr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(La(this.i,this.A),this.L!=2&&(Gt(),Ut(17)),nr(this),this.s=2,bi(this)):au(this,this.S-u)};function bi(u){u.j.G==0||u.J||Po(u.j,u)}function nr(u){As(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ye(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Fa(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||An(v.h,u))){if(!u.K&&An(v.h,u)&&v.G==3){try{var P=v.Da.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var X=P;if(X[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Co(v),Sr(v);else break e;Io(v),Ut(18)}}else v.za=X[1],0<v.za-v.T&&37500>X[2]&&v.F&&v.v==0&&!v.C&&(v.C=mr(S(v.Za,v),6e3));if(1>=uu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else li(v,11)}else if((u.K||v.g==u)&&Co(v),!z(g))for(X=v.Da.g.parse(g),g=0;g<X.length;g++){let gt=X[g];if(v.T=gt[0],gt=gt[1],v.G==2)if(gt[0]=="c"){v.K=gt[1],v.ia=gt[2];const rn=gt[3];rn!=null&&(v.la=rn,v.j.info("VER="+v.la));const Kt=gt[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const ir=gt[5];ir!=null&&typeof ir=="number"&&0<ir&&(P=1.5*ir,v.L=P,v.j.info("backChannelRequestTimeoutMs_="+P)),P=v;const Qn=u.g;if(Qn){const Ds=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var se=P.h;se.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ja(se,se.h),se.h=null))}if(P.D){const Ro=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(P.ya=Ro,Rt(P.I,P.D,Ro))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),P=v;var ke=u;if(P.qa=Tu(P,P.J?P.ia:null,P.W),ke.K){cu(P.h,ke);var At=ke,Jt=P.L;Jt&&(At.I=Jt),At.B&&(As(At),kt(At)),P.g=ke}else Ns(P);0<v.i.length&&Wr(v)}else gt[0]!="stop"&&gt[0]!="close"||li(v,7);else v.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?li(v,7):fn(v):gt[0]!="noop"&&v.l&&v.l.ta(gt),v.v=0)}}Gt(4)}catch{}}var lu=class{constructor(u,g){this.g=u,this.map=g}};function Rs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function uu(u){return u.h?1:u.g?u.g.size:0}function An(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ja(u,g){u.g?u.g.add(g):u.h=g}function cu(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Rs.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function hu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return A(u.i)}function go(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,P=0;P<v;P++)g.push(u[P]);return g}g=[],v=0;for(P in u)g[v++]=u[P];return g}function yo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const P in u)g[v++]=P;return g}}}function Oi(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=yo(u),P=go(u),X=P.length,se=0;se<X;se++)g.call(void 0,P[se],v&&v[se],u)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var P=u[v].indexOf("="),X=null;if(0<=P){var se=u[v].substring(0,P);X=u[v].substring(P+1)}else se=u[v];g(se,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ii(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ii){this.h=u.h,xs(this,u.j),this.o=u.o,this.g=u.g,Ni(this,u.s),this.l=u.l;var g=u.i,v=new zr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Di(this,v),this.m=u.m}else u&&(g=String(u).match(ks))?(this.h=!1,xs(this,g[1]||"",!0),this.o=dt(g[2]||""),this.g=dt(g[3]||"",!0),Ni(this,g[4]),this.l=dt(g[5]||"",!0),Di(this,g[6]||"",!0),this.m=dt(g[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}ii.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Vi(g,vo,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Vi(g,vo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vi(v,v.charAt(0)=="/"?pu:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vi(v,Ua)),u.join("")};function Gn(u){return new ii(u)}function xs(u,g,v){u.j=v?dt(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ni(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Di(u,g,v){g instanceof zr?(u.i=g,$r(u.i,u.h)):(v||(g=Vi(g,mu)),u.i=new zr(g,u.h))}function Rt(u,g,v){u.i.set(g,v)}function Li(u){return Rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dt(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vi(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,du),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function du(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vo=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,Ua=/#/g;function zr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&$h(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=zr.prototype,n.add=function(u,g){dn(this),this.i=null,u=rr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function _r(u,g){dn(u),g=rr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function wr(u,g){return dn(u),g=rr(u,g),u.g.has(g)}n.forEach=function(u,g){dn(this),this.g.forEach(function(v,P){v.forEach(function(X){u.call(g,X,P,this)},this)},this)},n.na=function(){dn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let P=0;P<g.length;P++){const X=u[P];for(let se=0;se<X.length;se++)v.push(g[P])}return v},n.V=function(u){dn(this);let g=[];if(typeof u=="string")wr(this,u)&&(g=g.concat(this.g.get(rr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},n.set=function(u,g){return dn(this),this.i=null,u=rr(this,u),wr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Mi(u,g,v){_r(u,g),0<v.length&&(u.i=null,u.g.set(rr(u,g),A(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var P=g[v];const se=encodeURIComponent(String(P)),ke=this.V(P);for(P=0;P<ke.length;P++){var X=se;ke[P]!==""&&(X+="="+encodeURIComponent(String(ke[P]))),u.push(X)}}return this.i=u.join("&")};function rr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function $r(u,g){g&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,P){var X=P.toLowerCase();P!=X&&(_r(this,P),Mi(this,X,v))},u)),u.j=g}function Bh(u,g){const v=new Is;if(d.Image){const P=new Image;P.onload=N(On,v,"TestLoadImage: loaded",!0,g,P),P.onerror=N(On,v,"TestLoadImage: error",!1,g,P),P.onabort=N(On,v,"TestLoadImage: abort",!1,g,P),P.ontimeout=N(On,v,"TestLoadImage: timeout",!1,g,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else g(!1)}function gu(u,g){const v=new Is,P=new AbortController,X=setTimeout(()=>{P.abort(),On(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:P.signal}).then(se=>{clearTimeout(X),se.ok?On(v,"TestPingServer: ok",!0,g):On(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(X),On(v,"TestPingServer: error",!1,g)})}function On(u,g,v,P,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),P(v)}catch{}}function Wh(){this.g=new ue}function yu(u,g,v){const P=v||"";try{Oi(u,function(X,se){let ke=X;m(X)&&(ke=ve(X)),g.push(P+se+"="+encodeURIComponent(ke))})}catch(X){throw g.push(P+"type="+encodeURIComponent("_badmap")),X}}function si(u){this.l=u.Ub||null,this.j=u.eb||!1}k(si,Ae),si.prototype.g=function(){return new bs(this.l,this.j)},si.prototype.i=function(u){return function(){return u}}({});function bs(u,g){pt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(bs,pt),n=bs.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Er(this):Tr(this),this.readyState==3&&vu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Er(this))},n.Qa=function(u){this.g&&(this.response=u,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Tr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oi(u){let g="";return G(u,function(v,P){g+=P,g+=":",g+=v,g+=`\r
`}),g}function Fi(u,g,v){e:{for(P in v){var P=!1;break e}P=!0}P||(v=oi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Rt(u,g,v))}function Dt(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Dt,pt);var Hh=/^https?$/i,za=["POST","PUT"];n=Dt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,v,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?ne(this.o):ne(yr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(se){Os(this,se);return}if(u=v||"",v=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var X in P)v.set(X,P[X]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const se of P.keys())v.set(se,P.get(se));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(v.keys()).find(se=>se.toLowerCase()=="content-type"),X=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(za,g,void 0))||P||X||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ke]of v)this.g.setRequestHeader(se,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(u),this.u=!1}catch(se){Os(this,se)}};function Os(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,_o(u),Kn(u)}function _o(u){u.A||(u.A=!0,D(u,"complete"),D(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,D(this,"complete"),D(this,"abort"),Kn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Nn(u)!=4||u.Z()!=2)){if(u.u&&Nn(u)==4)ae(u.Ea,0,u);else if(D(u,"readystatechange"),Nn(u)==4){u.h=!1;try{const ke=u.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var P;if(P=ke===0){var X=String(u.D).match(ks)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),P=!Hh.test(X?X.toLowerCase():"")}v=P}if(v)D(u,"complete"),D(u,"success");else{u.m=6;try{var se=2<Nn(u)?u.g.statusText:""}catch{se=""}u.l=se+" ["+u.Z()+"]",_o(u)}}finally{Kn(u)}}}}function Kn(u,g){if(u.g){wo(u);const v=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||D(u,"ready");try{v.onreadystatechange=P}catch{}}}function wo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Nn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),le(g)}};function Ba(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(u){const g={};u=(u.g&&2<=Nn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(z(u[P]))continue;var v=V(u[P]);const X=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const se=g[X]||[];g[X]=se,se.push(v)}x(g,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Wa(u){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Br("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Br("baseRetryDelayMs",5e3,u),this.cb=Br("retryDelaySeedMs",1e4,u),this.Wa=Br("forwardChannelMaxRetries",2,u),this.wa=Br("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Rs(u&&u.concurrentRequestLimit),this.Da=new Wh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(u,g,v,P){Ut(0),this.W=u,this.H=g||{},v&&P!==void 0&&(this.H.OSID=v,this.H.OAID=P),this.F=this.X,this.I=Tu(this,null,this.W),Wr(this)};function fn(u){if(To(u),u.G==3){var g=u.U++,v=Gn(u.I);if(Rt(v,"SID",u.K),Rt(v,"RID",g),Rt(v,"TYPE","terminate"),ai(u,v),g=new vr(u,u.j,g),g.L=2,g.v=Li(Gn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=g.v,v=!0),v||(g.g=Su(g.j,null),g.g.ea(g.v)),g.F=Date.now(),kt(g)}Eu(u)}function Sr(u){u.g&&(Ha(u),u.g.cancel(),u.g=null)}function To(u){Sr(u),u.u&&(d.clearTimeout(u.u),u.u=null),Co(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Wr(u){if(!qn(u.h)&&!u.s){u.s=!0;var g=u.Ga;xe||U(),de||(xe(),de=!0),Oe.add(g,u),u.B=0}}function qh(u,g){return uu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=mr(S(u.Ga,u,g),wu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const X=new vr(this,this.j,u);let se=this.o;if(this.S&&(se?(se=C(se),R(se,this.S)):se=this.S),this.m!==null||this.O||(X.H=se,se=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var P=this.i[v];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=ji(this,X,g),v=Gn(this.I),Rt(v,"RID",u),Rt(v,"CVER",22),this.D&&Rt(v,"X-HTTP-Session-Id",this.D),ai(this,v),se&&(this.O?g="headers="+encodeURIComponent(String(oi(se)))+"&"+g:this.m&&Fi(v,this.m,se)),ja(this.h,X),this.Ua&&Rt(v,"TYPE","init"),this.P?(Rt(v,"$req",g),Rt(v,"SID","null"),X.T=!0,mo(X,v,null)):mo(X,v,g),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||qn(this.h)||So(this))};function So(u,g){var v;g?v=g.l:v=u.U++;const P=Gn(u.I);Rt(P,"SID",u.K),Rt(P,"RID",v),Rt(P,"AID",u.T),ai(u,P),u.m&&u.o&&Fi(P,u.m,u.o),v=new vr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ji(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ja(u.h,v),mo(v,P,g)}function ai(u,g){u.H&&G(u.H,function(v,P){Rt(g,P,v)}),u.l&&Oi({},function(v,P){Rt(g,P,v)})}function ji(u,g,v){v=Math.min(u.i.length,v);var P=u.l?S(u.l.Na,u.l,u):null;e:{var X=u.i;let se=-1;for(;;){const ke=["count="+v];se==-1?0<v?(se=X[0].g,ke.push("ofs="+se)):se=0:ke.push("ofs="+se);let At=!0;for(let Jt=0;Jt<v;Jt++){let gt=X[Jt].g;const rn=X[Jt].map;if(gt-=se,0>gt)se=Math.max(0,X[Jt].g-100),At=!1;else try{yu(rn,ke,"req"+gt+"_")}catch{P&&P(rn)}}if(At){P=ke.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,P}function Ns(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;xe||U(),de||(xe(),de=!0),Oe.add(g,u),u.v=0}}function Io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=mr(S(u.Fa,u),wu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=mr(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Sr(this),_u(this))};function Ha(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function _u(u){u.g=new vr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Gn(u.qa);Rt(g,"RID","rpc"),Rt(g,"SID",u.K),Rt(g,"AID",u.T),Rt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Rt(g,"TO",u.ja),Rt(g,"TYPE","xmlhttp"),ai(u,g),u.m&&u.o&&Fi(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Li(Gn(g)),v.m=null,v.P=!0,Ma(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Sr(this),Io(this),Ut(19))};function Co(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Po(u,g){var v=null;if(u.g==g){Co(u),Ha(u),u.g=null;var P=2}else if(An(u.h,g))v=g.D,cu(u.h,g),P=1;else return;if(u.G!=0){if(g.o)if(P==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var X=u.B;P=_t(),D(P,new co(P,v)),Wr(u)}else Ns(u);else if(X=g.s,X==3||X==0&&0<g.X||!(P==1&&qh(u,g)||P==2&&Io(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),X){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function wu(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function li(u,g){if(u.j.info("Error code "+g),g==2){var v=S(u.fb,u),P=u.Xa;const X=!P;P=new ii(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xs(P,"https"),Li(P),X?Bh(P.toString(),v):gu(P.toString(),v)}else Ut(2);u.G=0,u.l&&u.l.sa(g),Eu(u),To(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const g=hu(u.h);(g.length!=0||u.i.length!=0)&&(T(u.ka,g),T(u.ka,u.i),u.h.i.length=0,A(u.i),u.i.length=0),u.l.ra()}}function Tu(u,g,v){var P=v instanceof ii?Gn(v):new ii(v);if(P.g!="")g&&(P.g=g+"."+P.g),Ni(P,P.s);else{var X=d.location;P=X.protocol,g=g?g+"."+X.hostname:X.hostname,X=+X.port;var se=new ii(null);P&&xs(se,P),g&&(se.g=g),X&&Ni(se,X),v&&(se.l=v),P=se}return v=u.D,g=u.ya,v&&g&&Rt(P,v,g),Rt(P,"VER",u.la),ai(u,P),P}function Su(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Dt(new si({eb:v})):new Dt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ao(){}Ao.prototype.g=function(u,g){return new Rn(u,g)};function Rn(u,g){pt.call(this),this.g=new Wa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!z(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!z(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Hr(this)}k(Rn,pt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){fn(this.g)},Rn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ve(u),u=v);g.i.push(new lu(g.Ya++,u)),g.G==3&&Wr(g)},Rn.prototype.N=function(){this.g.l=null,delete this.j,fn(this.g),delete this.g,Rn.aa.N.call(this)};function Iu(u){Re.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}k(Iu,Re);function Cu(){qe.call(this),this.status=1}k(Cu,qe);function Hr(u){this.g=u}k(Hr,qa),Hr.prototype.ua=function(){D(this.g,"a")},Hr.prototype.ta=function(u){D(this.g,new Iu(u))},Hr.prototype.sa=function(u){D(this.g,new Cu)},Hr.prototype.ra=function(){D(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Ew=function(){return new Ao},ww=function(){return _t()},_w=Je,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,Dc=fo,iu.COMPLETE="complete",vw=iu,ce.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Sl=ce,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,yw=Dt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const xv="@firebase/firestore",bv="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Op("@firebase/firestore");function Xo(){return Zs.logLevel}function Me(n,...e){if(Zs.logLevel<=ct.DEBUG){const t=e.map(Wp);Zs.debug(`Firestore (${Aa}): ${n}`,...t)}}function Ai(n,...e){if(Zs.logLevel<=ct.ERROR){const t=e.map(Wp);Zs.error(`Firestore (${Aa}): ${n}`,...t)}}function eo(n,...e){if(Zs.logLevel<=ct.WARN){const t=e.map(Wp);Zs.warn(`Firestore (${Aa}): ${n}`,...t)}}function Wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Tw(n,i,t)}function Tw(n,e,t){let i=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ai(i),new Error(i)}function Ct(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||Tw(e,o,i)}function it(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class oR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aR{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ei,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ei)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string",31837,{l:i}),new Sw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class lR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new lR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const i=a=>{a.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ov(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=hR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function at(n,e){return n<e?-1:n>e?1:0}function np(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return at(i,o);{const a=Cw(),c=dR(a.encode(Nv(n,t)),a.encode(Nv(e,t)));return c!==0?c:at(i,o)}}t+=i>65535?2:1}return at(n.length,e.length)}function Nv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return at(n[t],e[t]);return at(n.length,e.length)}function ha(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,Lv=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Lv);return new Xt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dv)throw new Be(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new Xt(0,0))}static max(){return new rt(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="__name__";class Xr{constructor(e,t,i){t===void 0?t=0:t>e.length&&et(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&et(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Xr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return at(e.length,t.length)}static compareSegments(e,t){const i=Xr.isNumericId(e),o=Xr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class Vt extends Xr{construct(e,t,i){return new Vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Be(Te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const fR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Xr{construct(e,t,i){return new un(e,t,i)}static isValidIdentifier(e){return fR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new un([Vv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Be(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Be(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Be(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new Be(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Vt.fromString(e))}static fromName(e){return new Ge(Vt.fromString(e).popFirst(5))}static empty(){return new Ge(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function pR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=rt.fromTimestamp(i===1e9?new Xt(t+1,0):new Xt(t,i));return new ds(o,Ge.empty(),e)}function mR(n){return new ds(n.readTime,n.key,Ml)}class ds{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ds(rt.min(),Ge.empty(),Ml)}static max(){return new ds(rt.max(),Ge.empty(),Ml)}}function gR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ge.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==yR)throw n;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,i)=>{t(e)})}static reject(e){return new fe((t,i)=>{i(e)})}static waitFor(e){return new fe((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next(o=>o?fe.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new fe((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next(_=>{c[m]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new fe((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function _R(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ka(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function vh(n){return n==null}function Qc(n){return n===0&&1/n==-1/0}function wR(n){return typeof n=="number"&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="";function ER(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mv(e)),e=TR(n.get(t),e);return Mv(e)}function TR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Pw:t+="";break;default:t+=a}}return t}function Mv(n){return n+Pw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Es(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Aw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??yn.RED,this.left=o??yn.EMPTY,this.right=a??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new yn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw et(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jv(this.data.getIterator())}getIteratorFrom(e){return new jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new nn(un.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Rw("Invalid base64 string: "+a):a}}(e);return new hn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const SR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=SR.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ps(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="server_timestamp",xw="__type__",bw="__previous_value__",Ow="__local_write_time__";function Gp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[xw])===null||t===void 0?void 0:t.stringValue)===kw}function _h(n){const e=n.mapValue.fields[bw];return Gp(e)?_h(e):e}function Fl(n){const e=fs(n.mapValue.fields[Ow].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t,i,o,a,c,d,p,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=_}}const Yc="(default)";class da{constructor(e,t){this.projectId=e,this.database=t||Yc}static empty(){return new da("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__type__",CR="__max__",Sc={mapValue:{}},Dw="__vector__",Xc="value";function ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gp(n)?4:AR(n)?9007199254740991:PR(n)?10:11:et(28295,{value:n})}function ni(n,e){if(n===e)return!0;const t=ms(n);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fl(n).isEqual(Fl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=fs(o.timestampValue),d=fs(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ps(o.bytesValue).isEqual(ps(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return qt(o.geoPointValue.latitude)===qt(a.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return qt(o.integerValue)===qt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=qt(o.doubleValue),d=qt(a.doubleValue);return c===d?Qc(c)===Qc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ha(n.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Fv(c)!==Fv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ni(c[p],d[p])))return!1;return!0}(n,e);default:return et(52216,{left:n})}}function jl(n,e){return(n.values||[]).find(t=>ni(t,e))!==void 0}function fa(n,e){if(n===e)return 0;const t=ms(n),i=ms(e);if(t!==i)return at(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=qt(a.integerValue||a.doubleValue),p=qt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Uv(n.timestampValue,e.timestampValue);case 4:return Uv(Fl(n),Fl(e));case 5:return np(n.stringValue,e.stringValue);case 6:return function(a,c){const d=ps(a),p=ps(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const _=at(d[m],p[m]);if(_!==0)return _}return at(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=at(qt(a.latitude),qt(c.latitude));return d!==0?d:at(qt(a.longitude),qt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return zv(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,m,_;const w=a.fields||{},S=c.fields||{},N=(d=w[Xc])===null||d===void 0?void 0:d.arrayValue,k=(p=S[Xc])===null||p===void 0?void 0:p.arrayValue,A=at(((m=N==null?void 0:N.values)===null||m===void 0?void 0:m.length)||0,((_=k==null?void 0:k.values)===null||_===void 0?void 0:_.length)||0);return A!==0?A:zv(N,k)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Sc.mapValue&&c===Sc.mapValue)return 0;if(a===Sc.mapValue)return 1;if(c===Sc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const S=np(p[w],_[w]);if(S!==0)return S;const N=fa(d[p[w]],m[_[w]]);if(N!==0)return N}return at(p.length,_.length)}(n.mapValue,e.mapValue);default:throw et(23264,{Pe:t})}}function Uv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=fs(n),i=fs(e),o=at(t.seconds,i.seconds);return o!==0?o:at(t.nanos,i.nanos)}function zv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=fa(t[o],i[o]);if(a)return a}return at(t.length,i.length)}function pa(n){return rp(n)}function rp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=fs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ge.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=rp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${rp(t.fields[c])}`;return o+"}"}(n.mapValue):et(61005,{value:n})}function Lc(n){switch(ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(n);return e?16+Lc(e):16;case 5:return 2*n.stringValue.length;case 6:return ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Lc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Es(i.fields,(a,c)=>{o+=a.length+Lc(c)}),o}(n.mapValue);default:throw et(13486,{value:n})}}function ip(n){return!!n&&"integerValue"in n}function Kp(n){return!!n&&"arrayValue"in n}function $v(n){return!!n&&"nullValue"in n}function Bv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function PR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nw])===null||t===void 0?void 0:t.stringValue)===Dw}function Rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Es(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=un.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Rl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Es(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Bn(Rl(this.value))}}function Lw(n){const e=[];return Es(n.fields,(t,i)=>{const o=new un([t]);if(Vc(i)){const a=Lw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Cn(e,0,rt.min(),rt.min(),rt.min(),Bn.empty(),0)}static newFoundDocument(e,t,i,o){return new Cn(e,1,t,rt.min(),i,o,0)}static newNoDocument(e,t){return new Cn(e,2,t,rt.min(),rt.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new Cn(e,3,t,rt.min(),rt.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function Wv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ge.comparator(Ge.fromName(c.referenceValue),t.key):i=fa(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ni(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function RR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{}class tn extends Vw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xR(e,t,i):t==="array-contains"?new NR(e,i):t==="in"?new DR(e,i):t==="not-in"?new LR(e,i):t==="array-contains-any"?new VR(e,i):new tn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new bR(e,i):new OR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fa(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Vw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ri(e,t)}matches(e){return Mw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Mw(n){return n.op==="and"}function Fw(n){return kR(n)&&Mw(n)}function kR(n){for(const e of n.filters)if(e instanceof ri)return!1;return!0}function sp(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+pa(n.value);if(Fw(n))return n.filters.map(e=>sp(e)).join(",");{const e=n.filters.map(t=>sp(t)).join(",");return`${n.op}(${e})`}}function jw(n,e){return n instanceof tn?function(i,o){return o instanceof tn&&i.op===o.op&&i.field.isEqual(o.field)&&ni(i.value,o.value)}(n,e):n instanceof ri?function(i,o){return o instanceof ri&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&jw(c,o.filters[d]),!0):!1}(n,e):void et(19439)}function Uw(n){return n instanceof tn?function(t){return`${t.field.canonicalString()} ${t.op} ${pa(t.value)}`}(n):n instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(Uw).join(" ,")+"}"}(n):"Filter"}class xR extends tn{constructor(e,t,i){super(e,t,i),this.key=Ge.fromName(i.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class bR extends tn{constructor(e,t){super(e,"in",t),this.keys=zw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OR extends tn{constructor(e,t){super(e,"not-in",t),this.keys=zw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ge.fromName(i.referenceValue))}class NR extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kp(t)&&jl(t.arrayValue,this.value)}}class DR extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jl(this.value.arrayValue,t)}}class LR extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jl(this.value.arrayValue,t)}}class VR extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function qv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new MR(n,e,t,i,o,a,c)}function Qp(n){const e=it(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>sp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>pa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>pa(i)).join(",")),e.Ie=t}return e.Ie}function Yp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hv(n.startAt,e.startAt)&&Hv(n.endAt,e.endAt)}function op(n){return Ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function FR(n,e,t,i,o,a,c,d){return new wh(n,e,t,i,o,a,c,d)}function Xp(n){return new wh(n)}function Gv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jR(n){return n.collectionGroup!==null}function kl(n){const e=it(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new nn(un.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Zc(a,i))}),t.has(un.keyField().canonicalString())||e.Ee.push(new Zc(un.keyField(),i))}return e.Ee}function ei(n){const e=it(n);return e.de||(e.de=UR(e,kl(n))),e.de}function UR(n,e){if(n.limitType==="F")return qv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Zc(o.field,a)});const t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return qv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ap(n,e,t){return new wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eh(n,e){return Yp(ei(n),ei(e))&&n.limitType===e.limitType}function $w(n){return`${Qp(ei(n))}|lt:${n.limitType}`}function Jo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Uw(o)).join(", ")}]`),vh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>pa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>pa(o)).join(",")),`Target(${i})`}(ei(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ge.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of kl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const m=Wv(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,kl(i),o)||i.endAt&&!function(c,d,p){const m=Wv(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,kl(i),o))}(n,e)}function zR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Bw(n){return(e,t)=>{let i=!1;for(const o of kl(n)){const a=$R(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function $R(n,e,t){const i=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),m=d.data.field(a);return p!==null&&m!==null?fa(p,m):et(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Bt(Ge.comparator);function Ri(){return BR}const Ww=new Bt(Ge.comparator);function Il(...n){let e=Ww;for(const t of n)e=e.insert(t.key,t);return e}function Hw(n){let e=Ww;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ys(){return xl()}function qw(){return xl()}function xl(){return new ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const WR=new Bt(Ge.comparator),HR=new nn(Ge.comparator);function ht(...n){let e=HR;for(const t of n)e=e.add(t);return e}const qR=new nn(at);function GR(){return qR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function Gw(n){return{integerValue:""+n}}function KR(n,e){return wR(e)?Gw(e):Jp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function QR(n,e,t){return n instanceof eh?function(o,a){const c={fields:{[xw]:{stringValue:kw},[Ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Gp(a)&&(a=_h(a)),a&&(c.fields[bw]=a),{mapValue:c}}(t,e):n instanceof ma?Qw(n,e):n instanceof ga?Yw(n,e):function(o,a){const c=Kw(o,a),d=Kv(c)+Kv(o.Re);return ip(c)&&ip(o.Re)?Gw(d):Jp(o.serializer,d)}(n,e)}function YR(n,e,t){return n instanceof ma?Qw(n,e):n instanceof ga?Yw(n,e):t}function Kw(n,e){return n instanceof th?function(i){return ip(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class eh extends Sh{}class ma extends Sh{constructor(e){super(),this.elements=e}}function Qw(n,e){const t=Xw(e);for(const i of n.elements)t.some(o=>ni(o,i))||t.push(i);return{arrayValue:{values:t}}}class ga extends Sh{constructor(e){super(),this.elements=e}}function Yw(n,e){let t=Xw(e);for(const i of n.elements)t=t.filter(o=>!ni(o,i));return{arrayValue:{values:t}}}class th extends Sh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Kv(n){return qt(n.integerValue||n.doubleValue)}function Xw(n){return Kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t){this.field=e,this.transform=t}}function XR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ma&&o instanceof ma||i instanceof ga&&o instanceof ga?ha(i.elements,o.elements,ni):i instanceof th&&o instanceof th?ni(i.Re,o.Re):i instanceof eh&&o instanceof eh}(n.transform,e.transform)}class JR{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ih{}function Zw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zp(n.key,dr.none()):new Ql(n.key,n.data,dr.none());{const t=n.data,i=Bn.empty();let o=new nn(un.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Ts(n.key,i,new Zn(o.toArray()),dr.none())}}function ZR(n,e,t){n instanceof Ql?function(o,a,c){const d=o.value.clone(),p=Yv(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ts?function(o,a,c){if(!Mc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=Yv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(eE(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function bl(n,e,t,i){return n instanceof Ql?function(a,c,d,p){if(!Mc(a.precondition,c))return d;const m=a.value.clone(),_=Xv(a.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ts?function(a,c,d,p){if(!Mc(a.precondition,c))return d;const m=Xv(a.fieldTransforms,p,c),_=c.data;return _.setAll(eE(a)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,c,d){return Mc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function ek(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=Kw(i.transform,o||null);a!=null&&(t===null&&(t=Bn.empty()),t.set(i.field,a))}return t||null}function Qv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ha(i,o,(a,c)=>XR(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ql extends Ih{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends Ih{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function eE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Yv(n,e,t){const i=new Map;Ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,YR(c,d,t[o]))}return i}function Xv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,QR(a,c,e))}return i}class Zp extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tk extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&ZR(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=qw();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=Zw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(rt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ht())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(t,i)=>Qv(t,i))&&ha(this.baseMutations,e.baseMutations,(t,i)=>Qv(t,i))}}class em{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ct(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return WR}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new em(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,yt;function sk(n){switch(n){case Te.OK:return et(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return et(15467,{code:n})}}function tE(n){if(n===void 0)return Ai("GRPC error has no .code"),Te.UNKNOWN;switch(n){case Yt.OK:return Te.OK;case Yt.CANCELLED:return Te.CANCELLED;case Yt.UNKNOWN:return Te.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return Te.INTERNAL;case Yt.UNAVAILABLE:return Te.UNAVAILABLE;case Yt.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Yt.NOT_FOUND:return Te.NOT_FOUND;case Yt.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Yt.ABORTED:return Te.ABORTED;case Yt.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Yt.DATA_LOSS:return Te.DATA_LOSS;default:return et(39323,{code:n})}}(yt=Yt||(Yt={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new cs([4294967295,4294967295],0);function Jv(n){const e=Cw().encode(n),t=new gw;return t.update(e),new Uint8Array(t.digest())}function Zv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new cs([t,i],0),new cs([o,a],0)]}class tm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cl(`Invalid padding: ${t}`);if(i<0)throw new Cl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=cs.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(cs.fromNumber(i)));return o.compare(ok)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Jv(e),[i,o]=Zv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new tm(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=Jv(e),[i,o]=Zv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ch(rt.min(),o,new Bt(at),Ri(),ht())}}class Yl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Yl(i,t,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class nE{constructor(e,t){this.targetId=e,this.Ce=t}}class rE{constructor(e,t,i=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class e_{constructor(){this.Fe=0,this.Me=t_(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ht(),t=ht(),i=ht();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:et(38017,{changeType:a})}}),new Yl(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=t_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ak{constructor(e){this.ze=e,this.je=new Map,this.He=Ri(),this.Je=Ic(),this.Ye=Ic(),this.Ze=new Bt(at)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:et(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(op(a))if(i===0){const c=new Ge(a.path);this.tt(t,c,Cn.newNoDocument(c,rt.min()))}else Ct(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=ps(i).toUint8Array()}catch(p){if(p instanceof Rw)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new tm(c,o,a)}catch(p){return eo(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&op(d.target)){const p=new Ge(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Cn.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=ht();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new Ch(e,t,this.Ze,this.He,i);return this.He=Ri(),this.Je=Ic(),this.Ye=Ic(),this.Ze=new Bt(at),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new e_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new nn(at),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new nn(at),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Me("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new e_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ic(){return new Bt(Ge.comparator)}function t_(){return new Bt(Ge.comparator)}const lk={asc:"ASCENDING",desc:"DESCENDING"},uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ck={and:"AND",or:"OR"};class hk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lp(n,e){return n.useProto3Json||vh(e)?e:{value:e}}function nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dk(n,e){return nh(n,e.toTimestamp())}function ti(n){return Ct(!!n,49232),rt.fromTimestamp(function(t){const i=fs(t);return new Xt(i.seconds,i.nanos)}(n))}function nm(n,e){return up(n,e).canonicalString()}function up(n,e){const t=function(o){return new Vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function sE(n){const e=Vt.fromString(n);return Ct(cE(e),10190,{key:e.toString()}),e}function cp(n,e){return nm(n.databaseId,e.path)}function Af(n,e){const t=sE(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(aE(t))}function oE(n,e){return nm(n.databaseId,e)}function fk(n){const e=sE(n);return e.length===4?Vt.emptyPath():aE(e)}function hp(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aE(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function n_(n,e,t){return{name:cp(n,e),fields:t.value.mapValue.fields}}function pk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:et(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(Ct(_===void 0||typeof _=="string",58123),hn.fromBase64String(_||"")):(Ct(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),hn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const _=m.code===void 0?Te.UNKNOWN:tE(m.code);return new Be(_,m.message||"")}(c);t=new rE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Af(n,i.document.name),a=ti(i.document.updateTime),c=i.document.createTime?ti(i.document.createTime):rt.min(),d=new Bn({mapValue:{fields:i.document.fields}}),p=Cn.newFoundDocument(o,a,c,d),m=i.targetIds||[],_=i.removedTargetIds||[];t=new Fc(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Af(n,i.document),a=i.readTime?ti(i.readTime):rt.min(),c=Cn.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Fc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Af(n,i.document),a=i.removedTargetIds||[];t=new Fc([],a,o,null)}else{if(!("filter"in e))return et(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new ik(o,a),d=i.targetId;t=new nE(d,c)}}return t}function mk(n,e){let t;if(e instanceof Ql)t={update:n_(n,e.key,e.value)};else if(e instanceof Zp)t={delete:cp(n,e.key)};else if(e instanceof Ts)t={update:n_(n,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof tk))return et(16599,{ft:e.type});t={verify:cp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof eh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ma)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ga)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof th)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw et(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:dk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:et(27497)}(n,e.precondition)),t}function gk(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?ti(o.updateTime):ti(a);return c.isEqual(rt.min())&&(c=ti(a)),new JR(c,o.transformResults||[])}(t,e))):[]}function yk(n,e){return{documents:[oE(n,e.path)]}}function vk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=oE(n,o);const a=function(m){if(m.length!==0)return uE(ri.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(_=>function(S){return{field:Zo(S.field),direction:Ek(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=lp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function _k(n){let e=fk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ct(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const S=lE(w);return S instanceof ri&&Fw(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(S=>function(k){return new Zc(ea(k.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(w){let S;return S=typeof w=="object"?w.value:w,vh(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(w){const S=!!w.before,N=w.values||[];return new Jc(N,S)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const S=!w.before,N=w.values||[];return new Jc(N,S)}(t.endAt)),FR(e,o,c,a,d,"F",p,m)}function wk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ea(t.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ea(t.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ea(t.unaryFilter.field);return tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ea(t.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return et(61313);default:return et(60726)}}(n):n.fieldFilter!==void 0?function(t){return tn.create(ea(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return et(58110);default:return et(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(i=>lE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return et(1026)}}(t.compositeFilter.op))}(n):et(30097,{filter:n})}function Ek(n){return lk[n]}function Tk(n){return uk[n]}function Sk(n){return ck[n]}function Zo(n){return{fieldPath:n.canonicalString()}}function ea(n){return un.fromServerFormat(n.fieldPath)}function uE(n){return n instanceof tn?function(t){if(t.op==="=="){if(Bv(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NAN"}};if($v(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bv(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NAN"}};if($v(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(t.field),op:Tk(t.op),value:t.value}}}(n):n instanceof ri?function(t){const i=t.getFilters().map(o=>uE(o));return i.length===1?i[0]:{compositeFilter:{op:Sk(t.op),filters:i}}}(n):et(54877,{filter:n})}function Ik(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t,i,o,a=rt.min(),c=rt.min(),d=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.wt=e}}function Pk(n){const e=_k({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.yn=new Rk}addToCollectionParentIndex(e,t){return this.yn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ds.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class Rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new nn(Vt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new nn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(hE,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ya(0)}static ir(){return new ya(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LruGarbageCollector",kk=1048576;function s_([n,e],[t,i]){const o=at(n,t);return o===0?at(e,i):o}class xk{constructor(e){this.cr=e,this.buffer=new nn(s_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();s_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Me(i_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ka(t)?Me(i_,"Ignoring IndexedDB error during garbage collection: ",t):await Ra(t)}await this.Ir(3e5)})}}class Ok{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(yh.le);const i=new xk(t);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(r_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,o,a,c,d,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Xo()<=ct.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function Nk(n,e){return new Ok(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.changes=new ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&bl(i.mutation,o,Zn.empty(),Xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ht()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ht()){const o=Ys();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Il();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ys();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ht()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=Ri();const c=xl(),d=function(){return xl()}();return t.forEach((p,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Ts)?a=a.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),bl(_.mutation,m,_.mutation.getFieldMask(),Xt.now())):c.set(m.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var w;return d.set(m,new Lk(_,(w=c.get(m))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=xl();let o=new Bt((c,d)=>c-d),a=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let _=i.get(p)||Zn.empty();_=d.applyToLocalView(m,_),i.set(p,_);const w=(o.get(d.batchId)||ht()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,_=p.value,w=qw();_.forEach(S=>{if(!a.has(S)){const N=Zw(t.get(S),i.get(S));N!==null&&w.set(S,N),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ge.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):fe.resolve(Ys());let d=Ml,p=a;return c.next(m=>fe.forEach(m,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?fe.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,p,m,ht())).next(_=>({batchId:d,changes:Hw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(i=>{let o=Il();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Il();return this.indexManager.getCollectionParents(e,a).next(d=>fe.forEach(d,p=>{const m=function(w,S){return new wh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(_=>{_.forEach((w,S)=>{c=c.insert(w,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,Cn.newInvalidDocument(_)))});let d=Il();return c.forEach((p,m)=>{const _=a.get(p);_!==void 0&&bl(_.mutation,m,Zn.empty(),Xt.now()),Th(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ti(o.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:Pk(o.bundledQuery),readTime:ti(o.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.overlays=new Bt(Ge.comparator),this.Or=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ys();return fe.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),fe.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const o=Ys(),a=t.length+1,c=new Ge(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Bt((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=a.get(m.largestBatchId);_===null&&(_=Ys(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=Ys(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=o)););return fe.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new rk(t,i));let a=this.Or.get(t);a===void 0&&(a=ht(),this.Or.set(t,a)),this.Or.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Nr=new nn(ln.Br),this.Lr=new nn(ln.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new ln(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new ln(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ge(new Vt([])),i=new ln(t,e),o=new ln(t,e+1),a=[];return this.Lr.forEachInRange([i,o],c=>{this.Qr(c),a.push(c.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ge(new Vt([])),i=new ln(t,e),o=new ln(t,e+1);let a=ht();return this.Lr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ln(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ge.comparator(e.key,t.key)||at(e.Gr,t.Gr)}static kr(e,t){return at(e.Gr,t.Gr)||Ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new nn(ln.Br)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new nk(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.zr=this.zr.add(new ln(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Hr(i),a=o<0?0:o;return fe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?qp:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ln(t,0),o=new ln(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,o],c=>{const d=this.jr(c.Gr);a.push(d)}),fe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(at);return t.forEach(o=>{const a=new ln(o,0),c=new ln(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,c],d=>{i=i.add(d.Gr)})}),fe.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ge.isDocumentKey(a)||(a=a.child(""));const c=new ln(new Ge(a),0);let d=new nn(at);return this.zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(p.Gr)),!0)},c),fe.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ct(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return fe.forEach(t.mutations,o=>{const a=new ln(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new ln(t,0),o=this.zr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.Zr=e,this.docs=function(){return new Bt(Ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let i=Ri();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Cn.newInvalidDocument(o))}),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Ri();const c=t.path,d=new Ge(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||gR(mR(_),i)<=0||(o.has(_.key)||Th(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return fe.resolve(a)}getAllFromCollectionGroup(e,t,i,o){et(9500)}Xr(e,t){return fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $k(this)}getSize(e){return fe.resolve(this.size)}}class $k extends Dk{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),fe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.persistence=e,this.ei=new ao(t=>Qp(t),Yp),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new rm,this.targetCount=0,this.ri=ya.rr()}forEachTarget(e,t){return this.ei.forEach((i,o)=>t(o)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),fe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new ya(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.ar(t),fe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),fe.waitFor(a).next(()=>o)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),fe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t){this.ii={},this.overlays={},this.si=new yh(0),this.oi=!1,this.oi=!0,this._i=new jk,this.referenceDelegate=e(this),this.ai=new Bk(this),this.indexManager=new Ak,this.remoteDocumentCache=function(o){return new zk(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new Ck(t),this.ci=new Mk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new Uk(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){Me("MemoryPersistence","Starting transaction:",e);const o=new Wk(this.si.next());return this.referenceDelegate.li(),i(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return fe.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class Wk extends vR{constructor(e){super(),this.currentSequenceNumber=e}}class im{constructor(e){this.persistence=e,this.Ti=new rm,this.Ii=null}static Ei(e){return new im(e)}get di(){if(this.Ii)return this.Ii;throw et(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,i=>{const o=Ge.fromPath(i);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,rt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return fe.or([()=>fe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class rh{constructor(e,t){this.persistence=e,this.Ri=new ao(i=>ER(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Nk(this,t)}static Ei(e,t){return new rh(e,t)}li(){}hi(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return fe.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(a=>a?fe.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,a.removeEntry(c,rt.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),fe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lc(e.data.value)),t}gr(e,t,i){return fe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=o}static Ps(e,t){let i=ht(),o=ht();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new sm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return SC()?8:_R(Pn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Vs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new Hk;return this.fs(e,t,c).next(d=>{if(a.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>a.result)}gs(e,t,i,o){return i.documentReadCount<this.Es?(Xo()<=ct.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(Xo()<=ct.DEBUG&&Me("QueryEngine","Query:",Jo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Xo()<=ct.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):fe.resolve())}Rs(e,t){if(Gv(t))return fe.resolve(null);let i=ei(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ap(t,null,"F"),i=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=ht(...a);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.ps(t,d);return this.ys(t,m,c,p.readTime)?this.Rs(e,ap(t,null,"F")):this.ws(e,m,t,p)}))})))}Vs(e,t,i,o){return Gv(t)||o.isEqual(rt.min())?fe.resolve(null):this.As.getDocuments(e,i).next(a=>{const c=this.ps(t,a);return this.ys(t,c,i,o)?fe.resolve(null):(Xo()<=ct.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(t)),this.ws(e,c,t,pR(o,Ml)).next(d=>d))})}ps(e,t){let i=new nn(Bw(e));return t.forEach((o,a)=>{Th(e,a)&&(i=i.add(a))}),i}ys(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,i){return Xo()<=ct.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.As.getDocumentsMatchingQuery(e,t,ds.min(),i)}ws(e,t,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="LocalStore",Gk=3e8;class Kk{constructor(e,t,i,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new Bt(at),this.Ds=new ao(a=>Qp(a),Yp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vk(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function Qk(n,e,t,i){return new Kk(n,e,t,i)}async function fE(n,e){const t=it(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=ht();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of a){d.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Ms:m,removedBatchIds:c,addedBatchIds:d}))})})}function Yk(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,m,_){const w=m.batch,S=w.keys();let N=fe.resolve();return S.forEach(k=>{N=N.next(()=>_.getEntry(p,k)).next(A=>{const T=m.docVersions.get(k);Ct(T!==null,48541),A.version.compareTo(T)<0&&(w.applyToRemoteDocument(A,m),A.isValidDocument()&&(A.setReadTime(m.commitVersion),_.addEntry(A)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=ht();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function pE(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Xk(n,e){const t=it(n),i=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const d=[];e.targetChanges.forEach((_,w)=>{const S=o.get(w);if(!S)return;d.push(t.ai.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.ai.addMatchingKeys(a,_.addedDocuments,w)));let N=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(hn.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),o=o.insert(w,N),function(A,T,F){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Gk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(S,N,_)&&d.push(t.ai.updateTargetData(a,N))});let p=Ri(),m=ht();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(Jk(a,c,e.documentUpdates).next(_=>{p=_.xs,m=_.Os})),!i.isEqual(rt.min())){const _=t.ai.getLastRemoteSnapshotVersion(a).next(w=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return fe.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,m)).next(()=>p)}).then(a=>(t.Ss=o,a))}function Jk(n,e,t){let i=ht(),o=ht();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Ri();return t.forEach((d,p)=>{const m=a.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(rt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Me(om,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{xs:c,Os:o}})}function Zk(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=qp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ex(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.ai.getTargetData(i,e).next(a=>a?(o=a,fe.resolve(o)):t.ai.allocateTargetId(i).next(c=>(o=new ss(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function dp(n,e,t){const i=it(n),o=i.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ka(c))throw c;Me(om,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function o_(n,e,t){const i=it(n);let o=rt.min(),a=ht();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const w=it(p),S=w.Ds.get(_);return S!==void 0?fe.resolve(w.Ss.get(S)):w.ai.getTargetData(m,_)}(i,c,ei(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?o:rt.min(),t?a:ht())).next(d=>(tx(i,zR(e),d),{documents:d,Ns:a})))}function tx(n,e,t){let i=n.vs.get(e)||rt.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.vs.set(e,i)}class a_{constructor(){this.activeTargetIds=GR()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nx{constructor(){this.So=new a_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new a_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="ConnectivityMonitor";class u_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Me(l_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Me(l_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function fp(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",ix={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===Yc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,t,i,o,a){const c=fp(),d=this.$o(e,t.toUriEncodedString());Me(Rf,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,a);const{host:m}=new URL(d),_=dh(m);return this.Ko(e,d,p,i,_).then(w=>(Me(Rf,`Received RPC '${e}' ${c}: `,w),w),w=>{throw eo(Rf,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",i),w})}Wo(e,t,i,o,a,c){return this.Qo(e,t,i,o,a)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const i=ix[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class ax extends sx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,o,a){const c=fp();return new Promise((d,p)=>{const m=new yw;m.setWithCredentials(!0),m.listenOnce(vw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Dc.NO_ERROR:const w=m.getResponseJson();Me(Sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Dc.TIMEOUT:Me(Sn,`RPC '${e}' ${c} timed out`),p(new Be(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const S=m.getStatus();if(Me(Sn,`RPC '${e}' ${c} failed with status:`,S,"response text:",m.getResponseText()),S>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const k=N==null?void 0:N.error;if(k&&k.status&&k.message){const A=function(F){const z=F.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(z)>=0?z:Te.UNKNOWN}(k.status);p(new Be(A,k.message))}else p(new Be(Te.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new Be(Te.UNAVAILABLE,"Connection failed."));break;default:et(9055,{s_:e,streamId:c,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{Me(Sn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);Me(Sn,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",_,i,15)})}a_(e,t,i){const o=fp(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ew(),d=ww(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");Me(Sn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=c.createWebChannel(_,p);let S=!1,N=!1;const k=new ox({Go:T=>{N?Me(Sn,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(S||(Me(Sn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),Me(Sn,`RPC '${e}' stream ${o} sending:`,T),w.send(T))},zo:()=>w.close()}),A=(T,F,z)=>{T.listen(F,O=>{try{z(O)}catch($){setTimeout(()=>{throw $},0)}})};return A(w,Sl.EventType.OPEN,()=>{N||(Me(Sn,`RPC '${e}' stream ${o} transport opened.`),k.t_())}),A(w,Sl.EventType.CLOSE,()=>{N||(N=!0,Me(Sn,`RPC '${e}' stream ${o} transport closed`),k.r_())}),A(w,Sl.EventType.ERROR,T=>{N||(N=!0,eo(Sn,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),k.r_(new Be(Te.UNAVAILABLE,"The operation could not be completed")))}),A(w,Sl.EventType.MESSAGE,T=>{var F;if(!N){const z=T.data[0];Ct(!!z,16349);const O=z,$=(O==null?void 0:O.error)||((F=O[0])===null||F===void 0?void 0:F.error);if($){Me(Sn,`RPC '${e}' stream ${o} received error:`,$);const L=$.status;let G=function(I){const R=Yt[I];if(R!==void 0)return tE(R)}(L),x=$.message;G===void 0&&(G=Te.INTERNAL,x="Unknown error status: "+L+" with message "+$.message),N=!0,k.r_(new Be(G,x)),w.close()}else Me(Sn,`RPC '${e}' stream ${o} received:`,z),k.i_(z)}}),A(d,_w.STAT_EVENT,T=>{T.stat===tp.PROXY?Me(Sn,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===tp.NOPROXY&&Me(Sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.n_()},0),k}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n){return new hk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-i);o>0&&Me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="PersistentStream";class gE{constructor(e,t,i,o,a,c,d,p){this.bi=e,this.R_=i,this.V_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new mE(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(Ai(t.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===t&&this.B_(i,o)},i=>{e(()=>{const o=new Be(Te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Me(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Me(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lx extends gE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=pk(this.serializer,e),i=function(a){if(!("targetChange"in a))return rt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?rt.min():c.readTime?ti(c.readTime):rt.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=op(p)?{documents:yk(a,p)}:{query:vk(a,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iE(a,c.resumeToken);const m=lp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(rt.min())>0){d.readTime=nh(a,c.snapshotVersion.toTimestamp());const m=lp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=wk(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.F_(t)}}class ux extends gE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=gk(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=hp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mk(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{}class hx extends cx{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Be(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Qo(e,up(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(Te.UNKNOWN,a.toString())})}Wo(e,t,i,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,up(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Be(Te.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class dx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ai(t),this.ea=!1):Me("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class fx{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(c=>{i.enqueueAndForget(async()=>{lo(this)&&(Me(to,"Restarting streams for network reachability change."),await async function(p){const m=it(p);m.aa.add(4),await Xl(m),m.la.set("Unknown"),m.aa.delete(4),await Ah(m)}(this))})}),this.la=new dx(i,o)}}async function Ah(n){if(lo(n))for(const e of n.ua)await e(!0)}async function Xl(n){for(const e of n.ua)await e(!1)}function yE(n,e){const t=it(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),cm(t)?um(t):xa(t).b_()&&lm(t,e))}function am(n,e){const t=it(n),i=xa(t);t._a.delete(e),i.b_()&&vE(t,e),t._a.size===0&&(i.b_()?i.v_():lo(t)&&t.la.set("Unknown"))}function lm(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).U_(e)}function vE(n,e){n.ha.Ke(e),xa(n).K_(e)}function um(n){n.ha=new ak({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.la.ta()}function cm(n){return lo(n)&&!xa(n).w_()&&n._a.size>0}function lo(n){return it(n).aa.size===0}function _E(n){n.ha=void 0}async function px(n){n.la.set("Online")}async function mx(n){n._a.forEach((e,t)=>{lm(n,e)})}async function gx(n,e){_E(n),cm(n)?(n.la.ia(e),um(n)):n.la.set("Unknown")}async function yx(n,e,t){if(n.la.set("Online"),e instanceof rE&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o._a.delete(d),o.ha.removeTarget(d))}(n,e)}catch(i){Me(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ih(n,i)}else if(e instanceof Fc?n.ha.Xe(e):e instanceof nE?n.ha.ot(e):n.ha.nt(e),!t.isEqual(rt.min()))try{const i=await pE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.ha.It(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=a._a.get(m);_&&a._a.set(m,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const _=a._a.get(p);if(!_)return;a._a.set(p,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),vE(a,p);const w=new ss(_.target,p,m,_.sequenceNumber);lm(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){Me(to,"Failed to raise snapshot:",i),await ih(n,i)}}async function ih(n,e,t){if(!ka(e))throw e;n.aa.add(1),await Xl(n),n.la.set("Offline"),t||(t=()=>pE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Me(to,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Ah(n)})}function wE(n,e){return e().catch(t=>ih(n,t,e))}async function Rh(n){const e=it(n),t=gs(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:qp;for(;vx(e);)try{const o=await Zk(e.localStore,i);if(o===null){e.oa.length===0&&t.v_();break}i=o.batchId,_x(e,o)}catch(o){await ih(e,o)}EE(e)&&TE(e)}function vx(n){return lo(n)&&n.oa.length<10}function _x(n,e){n.oa.push(e);const t=gs(n);t.b_()&&t.W_&&t.G_(e.mutations)}function EE(n){return lo(n)&&!gs(n).w_()&&n.oa.length>0}function TE(n){gs(n).start()}async function wx(n){gs(n).H_()}async function Ex(n){const e=gs(n);for(const t of n.oa)e.G_(t.mutations)}async function Tx(n,e,t){const i=n.oa.shift(),o=em.from(i,e,t);await wE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Rh(n)}async function Sx(n,e){e&&gs(n).W_&&await async function(i,o){if(function(c){return sk(c)&&c!==Te.ABORTED}(o.code)){const a=i.oa.shift();gs(i).D_(),await wE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Rh(i)}}(n,e),EE(n)&&TE(n)}async function h_(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Me(to,"RemoteStore received new credentials");const i=lo(t);t.aa.add(3),await Xl(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Ah(t)}async function Ix(n,e){const t=it(n);e?(t.aa.delete(2),await Ah(t)):e||(t.aa.add(2),await Xl(t),t.la.set("Unknown"))}function xa(n){return n.Pa||(n.Pa=function(t,i,o){const a=it(t);return a.Y_(),new lx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:px.bind(null,n),Jo:mx.bind(null,n),Zo:gx.bind(null,n),Q_:yx.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),cm(n)?um(n):n.la.set("Unknown")):(await n.Pa.stop(),_E(n))})),n.Pa}function gs(n){return n.Ta||(n.Ta=function(t,i,o){const a=it(t);return a.Y_(),new ux(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:wx.bind(null,n),Zo:Sx.bind(null,n),z_:Ex.bind(null,n),j_:Tx.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Rh(n)):(await n.Ta.stop(),n.oa.length>0&&(Me(to,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new hm(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(n,e){if(Ai("AsyncQueue",`${e}: ${n}`),ka(n))return new Be(Te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static emptySet(e){return new aa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ge.comparator(t.key,i.key):(t,i)=>Ge.comparator(t.key,i.key),this.keyedMap=Il(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new aa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.Ia=new Bt(Ge.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):et(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class va{constructor(e,t,i,o,a,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new va(e,t,aa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Px{constructor(){this.queries=f_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const o=it(t),a=o.queries;o.queries=f_(),a.forEach((c,d)=>{for(const p of d.Ra)p.onError(i)})})(this,new Be(Te.ABORTED,"Firestore shutting down"))}}function f_(){return new ao(n=>$w(n),Eh)}async function SE(n,e){const t=it(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(i=2):(a=new Cx,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=dm(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&fm(t)}async function IE(n,e){const t=it(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Ra.indexOf(e);c>=0&&(a.Ra.splice(c,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Ax(n,e){const t=it(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Ra)d.pa(o)&&(i=!0);c.Aa=o}}i&&fm(t)}function Rx(n,e,t){const i=it(n),o=i.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);i.queries.delete(e)}function fm(n){n.fa.forEach(e=>{e.next()})}var pp,p_;(p_=pp||(pp={})).ya="default",p_.Cache="cache";class CE{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new va(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class AE{constructor(e){this.key=e}}class kx{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ht(),this.mutatedKeys=ht(),this.Ua=Bw(e),this.Ka=new aa(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new d_,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const S=o.get(_),N=Th(this.query,w)?w:null,k=!!S&&this.mutatedKeys.has(S.key),A=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let T=!1;S&&N?S.data.isEqual(N.data)?k!==A&&(i.track({type:3,doc:N}),T=!0):this.ja(S,N)||(i.track({type:2,doc:N}),T=!0,(p&&this.Ua(N,p)>0||m&&this.Ua(N,m)<0)&&(d=!0)):!S&&N?(i.track({type:0,doc:N}),T=!0):S&&!N&&(i.track({type:1,doc:S}),T=!0,(p||m)&&(d=!0)),T&&(N?(c=c.add(N),a=A?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Ka:c,za:i,ys:d,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((_,w)=>function(N,k){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et(20277,{Vt:T})}};return A(N)-A(k)}(_.type,w.type)||this.Ua(_.doc,w.doc)),this.Ha(i),o=o!=null&&o;const d=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,m=p!==this.Qa;return this.Qa=p,c.length!==0||m?{snapshot:new va(this.query,e.Ka,a,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new d_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ht(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new AE(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new PE(i))}),t}Xa(e){this.qa=e.Ns,this.$a=ht();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return va.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const pm="SyncEngine";class xx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class bx{constructor(e){this.key=e,this.tu=!1}}class Ox{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new ao(d=>$w(d),Eh),this.iu=new Map,this.su=new Set,this.ou=new Bt(Ge.comparator),this._u=new Map,this.au=new rm,this.uu={},this.cu=new Map,this.lu=ya.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Nx(n,e,t=!0){const i=NE(n);let o;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await RE(i,e,t,!0),o}async function Dx(n,e){const t=NE(n);await RE(t,e,!0,!1)}async function RE(n,e,t,i){const o=await ex(n.localStore,ei(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await Lx(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&yE(n.remoteStore,o),d}async function Lx(n,e,t,i,o){n.Pu=(w,S,N)=>async function(A,T,F,z){let O=T.view.Ga(F);O.ys&&(O=await o_(A.localStore,T.query,!1).then(({documents:x})=>T.view.Ga(x,O)));const $=z&&z.targetChanges.get(T.targetId),L=z&&z.targetMismatches.get(T.targetId)!=null,G=T.view.applyChanges(O,A.isPrimaryClient,$,L);return g_(A,T.targetId,G.Ya),G.snapshot}(n,w,S,N);const a=await o_(n.localStore,e,!0),c=new kx(e,a.Ns),d=c.Ga(a.documents),p=Yl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(d,n.isPrimaryClient,p);g_(n,t,m.Ya);const _=new xx(e,t,c);return n.ru.set(e,_),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function Vx(n,e,t){const i=it(n),o=i.ru.get(e),a=i.iu.get(o.targetId);if(a.length>1)return i.iu.set(o.targetId,a.filter(c=>!Eh(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&am(i.remoteStore,o.targetId),mp(i,o.targetId)}).catch(Ra)):(mp(i,o.targetId),await dp(i.localStore,o.targetId,!0))}async function Mx(n,e){const t=it(n),i=t.ru.get(e),o=t.iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),am(t.remoteStore,i.targetId))}async function Fx(n,e,t){const i=Hx(n);try{const o=await function(c,d){const p=it(c),m=Xt.now(),_=d.reduce((N,k)=>N.add(k.key),ht());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let k=Ri(),A=ht();return p.Cs.getEntries(N,_).next(T=>{k=T,k.forEach((F,z)=>{z.isValidDocument()||(A=A.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,k)).next(T=>{w=T;const F=[];for(const z of d){const O=ek(z,w.get(z.key).overlayedDocument);O!=null&&F.push(new Ts(z.key,O,Lw(O.value.mapValue),dr.exists(!0)))}return p.mutationQueue.addMutationBatch(N,m,F,d)}).next(T=>{S=T;const F=T.applyToLocalDocumentSet(w,A);return p.documentOverlayCache.saveOverlays(N,T.batchId,F)})}).then(()=>({batchId:S.batchId,changes:Hw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let m=c.uu[c.currentUser.toKey()];m||(m=new Bt(at)),m=m.insert(d,p),c.uu[c.currentUser.toKey()]=m}(i,o.batchId,t),await Jl(i,o.changes),await Rh(i.remoteStore)}catch(o){const a=dm(o,"Failed to persist write");t.reject(a)}}async function kE(n,e){const t=it(n);try{const i=await Xk(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t._u.get(a);c&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.tu=!0:o.modifiedDocuments.size>0?Ct(c.tu,14607):o.removedDocuments.size>0&&(Ct(c.tu,42227),c.tu=!1))}),await Jl(t,i,e)}catch(i){await Ra(i)}}function m_(n,e,t){const i=it(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ru.forEach((a,c)=>{const d=c.view.ga(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=it(c);p.onlineState=d;let m=!1;p.queries.forEach((_,w)=>{for(const S of w.Ra)S.ga(d)&&(m=!0)}),m&&fm(p)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jx(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i._u.get(e),a=o&&o.key;if(a){let c=new Bt(Ge.comparator);c=c.insert(a,Cn.newNoDocument(a,rt.min()));const d=ht().add(a),p=new Ch(rt.min(),new Map,new Bt(at),c,d);await kE(i,p),i.ou=i.ou.remove(a),i._u.delete(e),mm(i)}else await dp(i.localStore,e,!1).then(()=>mp(i,e,t)).catch(Ra)}async function Ux(n,e){const t=it(n),i=e.batch.batchId;try{const o=await Yk(t.localStore,e);bE(t,i,null),xE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Jl(t,o)}catch(o){await Ra(o)}}async function zx(n,e,t){const i=it(n);try{const o=await function(c,d){const p=it(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,d).next(w=>(Ct(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(i.localStore,e);bE(i,e,t),xE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Jl(i,o)}catch(o){await Ra(o)}}function xE(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function bE(n,e,t){const i=it(n);let o=i.uu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function mp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||OE(n,i)})}function OE(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(am(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),mm(n))}function g_(n,e,t){for(const i of t)i instanceof PE?(n.au.addReference(i.key,e),$x(n,i)):i instanceof AE?(Me(pm,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||OE(n,i.key)):et(19791,{Iu:i})}function $x(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(Me(pm,"New document in limbo: "+t),n.su.add(i),mm(n))}function mm(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ge(Vt.fromString(e)),i=n.lu.next();n._u.set(i,new bx(t)),n.ou=n.ou.insert(t,i),yE(n.remoteStore,new ss(ei(Xp(t.path)),i,"TargetPurposeLimboResolution",yh.le))}}async function Jl(n,e,t){const i=it(n),o=[],a=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,p)=>{c.push(i.Pu(p,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){o.push(m);const w=sm.Ps(p.targetId,m);a.push(w)}}))}),await Promise.all(c),i.nu.Q_(o),await async function(p,m){const _=it(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>fe.forEach(m,S=>fe.forEach(S.ls,N=>_.persistence.referenceDelegate.addReference(w,S.targetId,N)).next(()=>fe.forEach(S.hs,N=>_.persistence.referenceDelegate.removeReference(w,S.targetId,N)))))}catch(w){if(!ka(w))throw w;Me(om,"Failed to update sequence numbers: "+w)}for(const w of m){const S=w.targetId;if(!w.fromCache){const N=_.Ss.get(S),k=N.snapshotVersion,A=N.withLastLimboFreeSnapshotVersion(k);_.Ss=_.Ss.insert(S,A)}}}(i.localStore,a))}async function Bx(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Me(pm,"User change. New user:",e.toKey());const i=await fE(t.localStore,e);t.currentUser=e,function(a,c){a.cu.forEach(d=>{d.forEach(p=>{p.reject(new Be(Te.CANCELLED,c))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jl(t,i.Ms)}}function Wx(n,e){const t=it(n),i=t._u.get(e);if(i&&i.tu)return ht().add(i.key);{let o=ht();const a=t.iu.get(e);if(!a)return o;for(const c of a){const d=t.ru.get(c);o=o.unionWith(d.view.Wa)}return o}}function NE(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jx.bind(null,e),e.nu.Q_=Ax.bind(null,e.eventManager),e.nu.Tu=Rx.bind(null,e.eventManager),e}function Hx(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ux.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zx.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Qk(this.persistence,new qk,e.initialUser,this.serializer)}Ru(e){return new dE(im.Ei,this.serializer)}Au(e){return new nx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class qx extends sh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ct(this.persistence.referenceDelegate instanceof rh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bk(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new dE(i=>rh.Ei(i,t),this.serializer)}}class gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>m_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bx.bind(null,this.syncEngine),await Ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Px}()}createDatastore(e){const t=Ph(e.databaseInfo.databaseId),i=function(a){return new ax(a)}(e.databaseInfo);return function(a,c,d,p){return new hx(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new fx(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>m_(this.syncEngine,t,0),function(){return u_.C()?new u_:new rx}())}createSyncEngine(e,t){return function(o,a,c,d,p,m,_){const w=new Ox(o,a,c,d,p,m);return _&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=it(o);Me(to,"RemoteStore shutting down."),a.aa.add(5),await Xl(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class Gx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=Hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{Me(ys,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Me(ys,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=dm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function xf(n,e){n.asyncQueue.verifyOperationInProgress(),Me(ys,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await fE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function y_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Kx(n);Me(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>h_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>h_(e.remoteStore,o)),n._onlineComponents=e}async function Kx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Me(ys,"Using user provided OfflineComponentProvider");try{await xf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Te.FAILED_PRECONDITION||o.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;eo("Error using user provided cache. Falling back to memory cache: "+t),await xf(n,new sh)}}else Me(ys,"Using default OfflineComponentProvider"),await xf(n,new qx(void 0));return n._offlineComponents}async function LE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Me(ys,"Using user provided OnlineComponentProvider"),await y_(n,n._uninitializedComponentsProvider._online)):(Me(ys,"Using default OnlineComponentProvider"),await y_(n,new gp))),n._onlineComponents}function Qx(n){return LE(n).then(e=>e.syncEngine)}async function VE(n){const e=await LE(n),t=e.eventManager;return t.onListen=Nx.bind(null,e.syncEngine),t.onUnlisten=Vx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Dx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mx.bind(null,e.syncEngine),t}function Yx(n,e,t={}){const i=new Ei;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,m){const _=new DE({next:S=>{_.yu(),c.enqueueAndForget(()=>IE(a,w));const N=S.docs.has(d);!N&&S.fromCache?m.reject(new Be(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?m.reject(new Be(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),w=new CE(Xp(d.path),_,{includeMetadataChanges:!0,Fa:!0});return SE(a,w)}(await VE(n),n.asyncQueue,e,t,i)),i.promise}function Xx(n,e,t={}){const i=new Ei;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,m){const _=new DE({next:S=>{_.yu(),c.enqueueAndForget(()=>IE(a,w)),S.fromCache&&p.source==="server"?m.reject(new Be(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),w=new CE(d,_,{includeMetadataChanges:!0,Fa:!0});return SE(a,w)}(await VE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n,e,t){if(!t)throw new Be(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jE(n,e,t,i){if(e===!0&&i===!0)throw new Be(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function __(n){if(!Ge.isDocumentKey(n))throw new Be(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w_(n){if(Ge.isDocumentKey(n))throw new Be(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":et(12329,{type:typeof n})}function pr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gm(n);throw new Be(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",E_=!0;class T_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=E_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:E_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kk)throw new Be(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ME((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Be(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Iw;switch(i.type){case"firstParty":return new uR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Be(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=v_.get(t);i&&(Me("ComponentProvider","Removing Datastore"),v_.delete(t),i.terminate())}(this),Promise.resolve()}}function zE(n,e,t,i={}){var o;n=pr(n,kh);const a=dh(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&x0(`https://${p}`),c.host!==UE&&c.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:a,emulatorOptions:i});if(!Ii(m,d)&&(n._setSettings(m),i.mockUserToken)){let _,w;if(typeof i.mockUserToken=="string")_=i.mockUserToken,w=In.MOCK_USER;else{_=gC(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new Be(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new In(S)}n._authCredentials=new oR(new Sw(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class bn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Ti extends Zl{constructor(e,t,i){super(e,t,Xp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new Ge(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function eu(n,e,...t){if(n=cn(n),FE("collection","path",e),n instanceof kh){const i=Vt.fromString(e,...t);return w_(i),new Ti(n,null,i)}{if(!(n instanceof bn||n instanceof Ti))throw new Be(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vt.fromString(e,...t));return w_(i),new Ti(n.firestore,null,i)}}function Ur(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Hp.newId()),FE("doc","path",e),n instanceof kh){const i=Vt.fromString(e,...t);return __(i),new bn(n,null,new Ge(i))}{if(!(n instanceof bn||n instanceof Ti))throw new Be(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vt.fromString(e,...t));return __(i),new bn(n.firestore,n instanceof Ti?n.converter:null,new Ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new mE(this,"async_queue_retry"),this.ju=()=>{const i=kf();i&&Me(S_,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=kf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=kf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ei;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ka(e))throw e;Me(S_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Ai("INTERNAL UNHANDLED ERROR: ",C_(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=hm.createAndSchedule(this,e,t,i,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&et(47125,{ec:C_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function C_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ss extends kh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new I_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function $E(n,e){const t=typeof n=="object"?n:D0(),i=typeof n=="string"?n:e||Yc,o=Dp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=pC("firestore");a&&zE(o,...a)}return o}function xh(n){if(n._terminated)throw new Be(Te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Jx(n),n._firestoreClient}function Jx(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,m,_){return new IR(d,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,ME(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Gx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(hn.fromBase64String(e))}catch(t){throw new Be(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new no(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Be(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=/^__.*__$/;class eb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ql(e,this.data,t,this.fieldTransforms)}}class BE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et(40011,{oc:n})}}class Nh{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Nh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return oh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(WE(this.oc)&&Zx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class tb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ph(e)}dc(e,t,i,o=!1){return new Nh({oc:e,methodName:t,Ec:i,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(n){const e=n._freezeSettings(),t=Ph(n._databaseId);return new tb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HE(n,e,t,i,o,a={}){const c=n.dc(a.merge||a.mergeFields?2:0,e,t,o);wm("Data must be an object, but it was:",c,i);const d=GE(i,c);let p,m;if(a.merge)p=new Zn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const S=yp(e,w,t);if(!c.contains(S))throw new Be(Te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);QE(_,S)||_.push(S)}p=new Zn(_),m=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=c.fieldTransforms;return new eb(new Bn(d),p,m)}class Dh extends ba{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}function qE(n,e,t){return new Nh({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vm extends ba{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=qE(this,e,!0),i=this.Ac.map(a=>Oa(a,t)),o=new ma(i);return new Jw(e.path,o)}isEqual(e){return e instanceof vm&&Ii(this.Ac,e.Ac)}}class _m extends ba{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=qE(this,e,!0),i=this.Ac.map(a=>Oa(a,t)),o=new ga(i);return new Jw(e.path,o)}isEqual(e){return e instanceof _m&&Ii(this.Ac,e.Ac)}}function nb(n,e,t,i){const o=n.dc(1,e,t);wm("Data must be an object, but it was:",o,i);const a=[],c=Bn.empty();Es(i,(p,m)=>{const _=Em(e,p,t);m=cn(m);const w=o.hc(_);if(m instanceof Dh)a.push(_);else{const S=Oa(m,w);S!=null&&(a.push(_),c.set(_,S))}});const d=new Zn(a);return new BE(c,d,o.fieldTransforms)}function rb(n,e,t,i,o,a){const c=n.dc(1,e,t),d=[yp(e,i,t)],p=[o];if(a.length%2!=0)throw new Be(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(yp(e,a[S])),p.push(a[S+1]);const m=[],_=Bn.empty();for(let S=d.length-1;S>=0;--S)if(!QE(m,d[S])){const N=d[S];let k=p[S];k=cn(k);const A=c.hc(N);if(k instanceof Dh)m.push(N);else{const T=Oa(k,A);T!=null&&(m.push(N),_.set(N,T))}}const w=new Zn(m);return new BE(_,w,c.fieldTransforms)}function Oa(n,e){if(KE(n=cn(n)))return wm("Unsupported field value:",e,n),GE(n,e);if(n instanceof ba)return function(i,o){if(!WE(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=Oa(d,o.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Xt.fromDate(i);return{timestampValue:nh(o.serializer,a)}}if(i instanceof Xt){const a=new Xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nh(o.serializer,a)}}if(i instanceof bh)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof no)return{bytesValue:iE(o.serializer,i._byteString)};if(i instanceof bn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:nm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Oh)return function(c,d){return{mapValue:{fields:{[Nw]:{stringValue:Dw},[Xc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Tc("VectorValues must only contain numeric values.");return Jp(d.serializer,m)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${gm(i)}`)}(n,e)}function GE(n,e){const t={};return Aw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(n,(i,o)=>{const a=Oa(o,e.uc(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function KE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xt||n instanceof bh||n instanceof no||n instanceof bn||n instanceof ba||n instanceof Oh)}function wm(n,e,t){if(!KE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=gm(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function yp(n,e,t){if((e=cn(e))instanceof tu)return e._internalPath;if(typeof e=="string")return Em(n,e);throw oh("Field path arguments must be of type string or ",n,!1,void 0,t)}const ib=new RegExp("[~\\*/\\[\\]]");function Em(n,e,t){if(e.search(ib)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tu(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oh(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new Be(Te.INVALID_ARGUMENT,d+n+p)}function QE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sb extends YE{data(){return super.data()}}function XE(n,e){return typeof e=="string"?Em(n,e):e instanceof tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Be(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JE{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw et(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Es(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Xc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>qt(c.doubleValue));return new Oh(a)}convertGeoPoint(e){return new bh(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=_h(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const t=fs(e);return new Xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Vt.fromString(e);Ct(cE(i),9688,{name:e});const o=new da(i.get(1),i.get(3)),a=new Ge(i.popFirst(5));return o.isEqual(t)||Ai(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tm extends YE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(XE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ol extends Tm{data(e={}){return super.data(e)}}class eT{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new na(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ol(this._firestore,this._userDataWriter,i.key,i,new na(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Ol(o._firestore,o._userDataWriter,d.doc.key,d.doc,new na(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new Ol(o._firestore,o._userDataWriter,d.doc.key,d.doc,new na(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:ab(d.type),doc:p,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ab(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n){n=pr(n,bn);const e=pr(n.firestore,Ss);return Yx(xh(e),n._key).then(t=>ub(e,n,t))}class tT extends JE{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function Lh(n){n=pr(n,Zl);const e=pr(n.firestore,Ss),t=xh(e),i=new tT(e);return ob(n._query),Xx(t,n._query).then(o=>new eT(e,i,n,o))}function nT(n,e,t){n=pr(n,bn);const i=pr(n.firestore,Ss),o=ZE(n.converter,e);return nu(i,[HE(ym(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,dr.none())])}function ro(n,e,t,...i){n=pr(n,bn);const o=pr(n.firestore,Ss),a=ym(o);let c;return c=typeof(e=cn(e))=="string"||e instanceof tu?rb(a,"updateDoc",n._key,e,t,i):nb(a,"updateDoc",n._key,e),nu(o,[c.toMutation(n._key,dr.exists(!0))])}function rT(n){return nu(pr(n.firestore,Ss),[new Zp(n._key,dr.none())])}function lb(n,e){const t=pr(n.firestore,Ss),i=Ur(n),o=ZE(n.converter,e);return nu(t,[HE(ym(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,dr.exists(!1))]).then(()=>i)}function nu(n,e){return function(i,o){const a=new Ei;return i.asyncQueue.enqueueAndForget(async()=>Fx(await Qx(i),o,a)),a.promise}(xh(n),e)}function ub(n,e,t){const i=t.docs.get(e._key),o=new tT(n);return new Tm(n,o,e._key,i,new na(t.hasPendingWrites,t.fromCache),e.converter)}function Vh(...n){return new vm("arrayUnion",n)}function Im(...n){return new _m("arrayRemove",n)}(function(e,t=!0){(function(o){Aa=o})(Ia),la(new Xs("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Ss(new aR(i.getProvider("auth-internal")),new cR(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Be(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(m.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),ls(xv,bv,e),ls(xv,bv,"esm2017")})();const cb=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:JE,Bytes:no,CollectionReference:Ti,DocumentReference:bn,DocumentSnapshot:Tm,FieldPath:tu,FieldValue:ba,Firestore:Ss,FirestoreError:Be,GeoPoint:bh,Query:Zl,QueryDocumentSnapshot:Ol,QuerySnapshot:eT,SnapshotMetadata:na,Timestamp:Xt,VectorValue:Oh,_AutoId:Hp,_ByteString:hn,_DatabaseId:da,_DocumentKey:Ge,_EmptyAuthCredentialsProvider:Iw,_FieldPath:un,_cast:pr,_logWarn:eo,_validateIsNotUsedTogether:jE,addDoc:lb,arrayRemove:Im,arrayUnion:Vh,collection:eu,connectFirestoreEmulator:zE,deleteDoc:rT,doc:Ur,ensureFirestoreConfigured:xh,executeWrite:nu,getDoc:Sm,getDocs:Lh,getFirestore:$E,setDoc:nT,updateDoc:ro},Symbol.toStringTag,{value:"Module"})),hb={apiKey:"AIzaSyAQ_SsjWagL4VemB06Jm8KsEHEjK6Rn42A",authDomain:"we-are-the-walrus.firebaseapp.com",projectId:"we-are-the-walrus",storageBucket:"we-are-the-walrus.firebasestorage.app",messagingSenderId:"267097892790",appId:"1:267097892790:web:bed96f56aaeb465e200317"},iT=N0(hb),Pl=iR(iT),tr=$E(iT,"crossword"),db=Object.freeze(Object.defineProperty({__proto__:null,auth:Pl,db:tr},Symbol.toStringTag,{value:"Module"})),sT=Q.createContext();function fb({children:n}){const[e,t]=Q.useState(null),[i,o]=Q.useState(!0);Q.useEffect(()=>qP(Pl,async _=>{if(_){const w=await Sm(Ur(tr,"users",_.uid));let S=w.exists()?w.data():{};console.log("firebaseUser:"),console.log(_),console.log(w);const N=S.admin;t({uid:_.uid,email:_.email,admin:N,...S}),console.log(`isAdmin: ${N}`)}else t(null);o(!1)}),[]);const p={user:e,login:(m,_)=>zP(Pl,m,_),logout:()=>GP(Pl),changePassword:m=>$P(Pl.currentUser,m)};return he.jsx(sT.Provider,{value:p,children:!i&&n})}function ru(){return Q.useContext(sT)}function P_({children:n}){const{user:e}=ru();return e?n:he.jsx(Hf,{to:"/login",replace:!0})}function pb({children:n}){const{user:e}=ru();return e===null?null:e?e.admin?n:he.jsx(Hf,{to:"/",replace:!0}):he.jsx(Hf,{to:"/login",replace:!0})}function mb(){const{login:n,user:e}=ru(),t=$l(),[i,o]=Q.useState(""),[a,c]=Q.useState(""),[d,p]=Q.useState("");Q.useEffect(()=>{e&&t("/")},[e,t]);const m=async _=>{_.preventDefault(),p("");try{await n(i,a)}catch{p("Invalid email or password")}};return he.jsxs("div",{className:"login-container",children:[he.jsx("h2",{children:"Login"}),he.jsxs("form",{onSubmit:m,children:[he.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:_=>o(_.target.value),required:!0}),he.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:_=>c(_.target.value),required:!0}),he.jsx("button",{type:"submit",children:"Login"}),d&&he.jsx("div",{className:"error",children:d})]})]})}async function oT(){const n=eu(tr,"wordSets");return(await Lh(n)).docs.map(t=>({id:t.id,...t.data()}))}async function gb(n,e){const t=Ur(tr,"users",n);await ro(t,{savedPuzzles:Vh(e)})}async function aT(n){const e=Ur(tr,"users",n),t=await Sm(e);return t.exists()?t.data().savedPuzzles||[]:[]}async function yb(n){const e=eu(tr,"wordSets"),t=Ur(e);await nT(t,{...n,words:[]})}async function vb(n,e){const t=Ur(tr,"wordSets",n);await ro(t,e)}async function _b(n){const e=Ur(tr,"wordSets",n);await rT(e)}async function wb(n,e){const t=Ur(tr,"wordSets",n);await ro(t,{words:Vh(e)})}async function Eb(n,e,t){const i=Ur(tr,"wordSets",n);await ro(i,{words:Im(e)}),await ro(i,{words:Vh(t)})}async function Tb(n,e){const t=Ur(tr,"wordSets",n);await ro(t,{words:Im(e)})}const Gs=oT,gn=[];for(let n=0;n<256;++n)gn.push((n+256).toString(16).slice(1));function Sb(n,e=0){return(gn[n[e+0]]+gn[n[e+1]]+gn[n[e+2]]+gn[n[e+3]]+"-"+gn[n[e+4]]+gn[n[e+5]]+"-"+gn[n[e+6]]+gn[n[e+7]]+"-"+gn[n[e+8]]+gn[n[e+9]]+"-"+gn[n[e+10]]+gn[n[e+11]]+gn[n[e+12]]+gn[n[e+13]]+gn[n[e+14]]+gn[n[e+15]]).toLowerCase()}let bf;const Ib=new Uint8Array(16);function Cb(){if(!bf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bf=crypto.getRandomValues.bind(crypto)}return bf(Ib)}const Pb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A_={randomUUID:Pb};function Ab(n,e,t){var o;if(A_.randomUUID&&!n)return A_.randomUUID();n=n||{};const i=n.random??((o=n.rng)==null?void 0:o.call(n))??Cb();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Sb(i)}var Of={exports:{}},R_;function Rb(){return R_||(R_=1,function(n){function e(O,$,L,G){return Math.abs(O-L)+Math.abs($-G)}function t(O,$){var L=0;for(let G=0;G<O.length;G++)L+=O[G]*$[G];return(L<0||L>1)&&console.log("Error: "+$),L}function i(O,$){return O/($.length/2)}function o(O,$,L,G){return 1-e(O/2,$/2,L,G)/(O/2+$/2)}function a(O,$,L,G){return L>G/2?O:L<G/2?$:.5}function c(O,$){return $.length/O}function d(O,$,L){var G=O[0],x=O[1],C=O[2],I=O[3],R=O[4],V=O[5];if($[C].startx=R+1,$[C].starty=I+1,V==0){for(let j=0;j<x.length;j++)L[I][R+j]=x.charAt(j);$[C].orientation="across"}else{for(let j=0;j<x.length;j++)L[I+j][R]=x.charAt(j);$[C].orientation="down"}console.log(x+", "+G)}function p(O){var $={};for(let x in O){var L=O[x];if(L.orientation!="none"){var G=L.starty+","+L.startx;G in $||($[G]=Object.keys($).length+1),L.position=$[G]}}}function m(O,$){var L=0;for(let G=0;G<O.length;G++)L<O[G].answer.length&&(L=O[G].answer.length);return L*$}function _(O,$){var L=[];for(let G=0;G<O;G++)for(let x=0;x<$;x++)x==0?L[G]=["-"]:L[G][x]="-";return L}function w(O,$,L,G,x){return L!=O[G][x]&&O[G][x]!="-"||O[G][x]=="-"&&!$&&G+1 in O&&O[G+1][x]!="-"||O[G][x]=="-"&&!$&&G-1 in O&&O[G-1][x]!="-"||O[G][x]=="-"&&$&&x+1 in O[G]&&O[G][x+1]!="-"?!0:!!(O[G][x]=="-"&&$&&x-1 in O[G]&&O[G][x-1]!="-")}function S(O,$,L,G,x,C,I,R){var V=0,j=0,b=0,Ce=-1;for(let te=0;te<O;te++)for(let me=0;me<$-I.length+1;me++){var be=!0,je=!1,xe=0,de=!1;for(let q=0;q<I.length;q++)if(w(L,!1,I.charAt(q),te,me+q)){be=!1;break}else if(L[te][me+q]=="-")de=!1,je=!0;else if(de){be=!1;break}else de=!0,xe+=1;if((me-1 in L[te]&&L[te][me-1]!="-"||me+I.length in L[te]&&L[te][me+I.length]!="-")&&(be=!1),be&&je&&I.length>1){var Oe=i(xe,I),U=o(O,$,te,me+I.length/2),J=a(1,0,x,C),Y=c(O,I),K=t(G,[Oe,U,J,Y]);K>Ce&&(Ce=K,V=te,j=me,b=0)}}for(let te=0;te<O-I.length+1;te++)for(let me=0;me<$;me++){var be=!0,je=!1,xe=0,de=!1;for(let ge=0;ge<I.length;ge++)if(w(L,!0,I.charAt(ge),te+ge,me)){be=!1;break}else if(L[te+ge][me]=="-")de=!1,je=!0;else if(de){be=!1;break}else de=!0,xe+=1;if((te-1 in L&&L[te-1][me]!="-"||te+I.length in L&&L[te+I.length][me]!="-")&&(be=!1),be&&je&&I.length>1){var Oe=i(xe,I),U=o(O,$,te+I.length/2,me),J=a(0,1,x,C),Y=c(O,I),K=t(G,[Oe,U,J,Y]);K>Ce&&(Ce=K,V=te,j=me,b=1)}}return Ce>-1?[Ce,I,R,V,j,b]:[-1]}function N(O,$,L,G,x){var C=0,I=0;for(let j in G){var R=[-1];for(let b in G)if("answer"in G[b]&&!("startx"in G[b])){var V=S($,L,O,x,C,I,G[b].answer,b);V[0]>R[0]&&(R=V)}if(R[0]==-1)break;d(R,G,O),R[5]==1&&(C+=1),I+=1}for(let j in G)"startx"in G[j]||(G[j].orientation="none");return{table:O,result:G}}function k(O){var $=O.table,L=O.result,G=$.length,x=$[0].length,C=_(G,x);for(let b in L){var I=L[b];if(I.orientation=="across"){var R=I.starty-1,V=I.startx-1;for(let Ce=0;Ce<I.answer.length;Ce++)C[R][V+Ce]=="-"?C[R][V+Ce]="O":C[R][V+Ce]=="O"&&(C[R][V+Ce]="X")}else if(I.orientation=="down"){var R=I.starty-1,V=I.startx-1;for(let je=0;je<I.answer.length;je++)C[R+je][V]=="-"?C[R+je][V]="O":C[R+je][V]=="O"&&(C[R+je][V]="X")}}for(let b in L){var I=L[b],j=!0;if(I.orientation=="across"){var R=I.starty-1,V=I.startx-1;for(let xe=0;xe<I.answer.length;xe++)if(C[R][V+xe]=="X"){j=!1;break}}else if(I.orientation=="down"){var R=I.starty-1,V=I.startx-1;for(let xe=0;xe<I.answer.length;xe++)if(C[R+xe][V]=="X"){j=!1;break}}I.orientation!="none"&&j&&(delete L[b].startx,delete L[b].starty,delete L[b].position,L[b].orientation="none")}C=_(G,x);for(let b in L){var I=L[b];if(I.orientation=="across"){var R=I.starty-1,V=I.startx-1;for(let xe=0;xe<I.answer.length;xe++)C[R][V+xe]=I.answer.charAt(xe)}else if(I.orientation=="down"){var R=I.starty-1,V=I.startx-1;for(let xe=0;xe<I.answer.length;xe++)C[R+xe][V]=I.answer.charAt(xe)}}return{table:C,result:L}}function A(O){var $=O.table,L=$.length,G=$[0].length,x=G,C=L,I=-1,R=-1;for(let be=0;be<L;be++)for(let je=0;je<G;je++)if($[be][je]!="-"){var V=je,j=be;V<x&&(x=V),V>I&&(I=V),j<C&&(C=j),j>R&&(R=j)}var b=_(R-C+1,I-x+1);for(let be=C;be<R+1;be++)for(let je=x;je<I+1;je++)b[be-C][je-x]=$[be][je];var Ce=O.result;for(let be in Ce)"startx"in Ce[be]&&(Ce[be].startx-=x,Ce[be].starty-=C);return{table:b,result:Ce,rows:Math.max(R-C+1,0),cols:Math.max(I-x+1,0)}}function T(O,$){var L=O.length;if(L>=1){var G=O[0].length,x="";for(let C=0;C<L;C++){for(let I=0;I<G;I++)x+=O[C][I];x+=$}return x}else return""}function F(O){var $=m(O,3),L=$,G=_($,L),x=N(G,$,L,O,[.7,.15,.1,.05]),C=k(x),I=A(C);return p(I.result),I}function z(O){var $=F(O);return $.table_string=T($.table,"<br>"),$}n.exports={generateLayout:z}}(Of)),Of.exports}var kb=Rb();const xb=Ul(kb);var _l={},Nf={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function bb(){if(k_)return St;k_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function A(T){if(typeof T=="object"&&T!==null){var F=T.$$typeof;switch(F){case n:switch(T=T.type,T){case t:case o:case i:case m:case _:return T;default:switch(T=T&&T.$$typeof,T){case d:case c:case p:case S:case w:case a:return T;default:return F}}case e:return F}}}return St.ContextConsumer=c,St.ContextProvider=a,St.Element=n,St.ForwardRef=p,St.Fragment=t,St.Lazy=S,St.Memo=w,St.Portal=e,St.Profiler=o,St.StrictMode=i,St.Suspense=m,St.SuspenseList=_,St.isAsyncMode=function(){return!1},St.isConcurrentMode=function(){return!1},St.isContextConsumer=function(T){return A(T)===c},St.isContextProvider=function(T){return A(T)===a},St.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===n},St.isForwardRef=function(T){return A(T)===p},St.isFragment=function(T){return A(T)===t},St.isLazy=function(T){return A(T)===S},St.isMemo=function(T){return A(T)===w},St.isPortal=function(T){return A(T)===e},St.isProfiler=function(T){return A(T)===o},St.isStrictMode=function(T){return A(T)===i},St.isSuspense=function(T){return A(T)===m},St.isSuspenseList=function(T){return A(T)===_},St.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===t||T===o||T===i||T===m||T===_||T===N||typeof T=="object"&&T!==null&&(T.$$typeof===S||T.$$typeof===w||T.$$typeof===a||T.$$typeof===c||T.$$typeof===p||T.$$typeof===k||T.getModuleId!==void 0)},St.typeOf=A,St}var x_;function Ob(){return x_||(x_=1,Nf.exports=bb()),Nf.exports}var lT=Ob(),Df,b_;function Nb(){return b_||(b_=1,Df=function(e,t,i,o){var a=i?i.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var c=Object.keys(e),d=Object.keys(t);if(c.length!==d.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(t),m=0;m<c.length;m++){var _=c[m];if(!p(_))return!1;var w=e[_],S=t[_];if(a=i?i.call(o,w,S,_):void 0,a===!1||a===void 0&&w!==S)return!1}return!0}),Df}var Db=Nb();const Lb=Ul(Db);function Vb(n){function e(Y,K,te,me,q){for(var De=0,oe=0,We=0,ge=0,Ye,Le,ot=0,Et=0,Xe,ft=Xe=Ye=0,nt=0,Pt=0,Tt=0,st=0,Ft=te.length,vn=Ft-1,jt,He="",lt="",pt="",D="",H;nt<Ft;){if(Le=te.charCodeAt(nt),nt===vn&&oe+ge+We+De!==0&&(oe!==0&&(Le=oe===47?10:47),ge=We=De=0,Ft++,vn++),oe+ge+We+De===0){if(nt===vn&&(0<Pt&&(He=He.replace(S,"")),0<He.trim().length)){switch(Le){case 32:case 9:case 59:case 13:case 10:break;default:He+=te.charAt(nt)}Le=59}switch(Le){case 123:for(He=He.trim(),Ye=He.charCodeAt(0),Xe=1,st=++nt;nt<Ft;){switch(Le=te.charCodeAt(nt)){case 123:Xe++;break;case 125:Xe--;break;case 47:switch(Le=te.charCodeAt(nt+1)){case 42:case 47:e:{for(ft=nt+1;ft<vn;++ft)switch(te.charCodeAt(ft)){case 47:if(Le===42&&te.charCodeAt(ft-1)===42&&nt+2!==ft){nt=ft+1;break e}break;case 10:if(Le===47){nt=ft+1;break e}}nt=ft}}break;case 91:Le++;case 40:Le++;case 34:case 39:for(;nt++<vn&&te.charCodeAt(nt)!==Le;);}if(Xe===0)break;nt++}switch(Xe=te.substring(st,nt),Ye===0&&(Ye=(He=He.replace(w,"").trim()).charCodeAt(0)),Ye){case 64:switch(0<Pt&&(He=He.replace(S,"")),Le=He.charCodeAt(1),Le){case 100:case 109:case 115:case 45:Pt=K;break;default:Pt=je}if(Xe=e(K,Pt,Xe,Le,q+1),st=Xe.length,0<de&&(Pt=t(je,He,Tt),H=d(3,Xe,Pt,K,b,j,st,Le,q,me),He=Pt.join(""),H!==void 0&&(st=(Xe=H.trim()).length)===0&&(Le=0,Xe="")),0<st)switch(Le){case 115:He=He.replace(G,c);case 100:case 109:case 45:Xe=He+"{"+Xe+"}";break;case 107:He=He.replace(z,"$1 $2"),Xe=He+"{"+Xe+"}",Xe=be===1||be===2&&a("@"+Xe,3)?"@-webkit-"+Xe+"@"+Xe:"@"+Xe;break;default:Xe=He+Xe,me===112&&(Xe=(lt+=Xe,""))}else Xe="";break;default:Xe=e(K,t(K,He,Tt),Xe,me,q+1)}pt+=Xe,Xe=Tt=Pt=ft=Ye=0,He="",Le=te.charCodeAt(++nt);break;case 125:case 59:if(He=(0<Pt?He.replace(S,""):He).trim(),1<(st=He.length))switch(ft===0&&(Ye=He.charCodeAt(0),Ye===45||96<Ye&&123>Ye)&&(st=(He=He.replace(" ",":")).length),0<de&&(H=d(1,He,K,Y,b,j,lt.length,me,q,me))!==void 0&&(st=(He=H.trim()).length)===0&&(He="\0\0"),Ye=He.charCodeAt(0),Le=He.charCodeAt(1),Ye){case 0:break;case 64:if(Le===105||Le===99){D+=He+te.charAt(nt);break}default:He.charCodeAt(st-1)!==58&&(lt+=o(He,Ye,Le,He.charCodeAt(2)))}Tt=Pt=ft=Ye=0,He="",Le=te.charCodeAt(++nt)}}switch(Le){case 13:case 10:oe===47?oe=0:1+Ye===0&&me!==107&&0<He.length&&(Pt=1,He+="\0"),0<de*U&&d(0,He,K,Y,b,j,lt.length,me,q,me),j=1,b++;break;case 59:case 125:if(oe+ge+We+De===0){j++;break}default:switch(j++,jt=te.charAt(nt),Le){case 9:case 32:if(ge+De+oe===0)switch(ot){case 44:case 58:case 9:case 32:jt="";break;default:Le!==32&&(jt=" ")}break;case 0:jt="\\0";break;case 12:jt="\\f";break;case 11:jt="\\v";break;case 38:ge+oe+De===0&&(Pt=Tt=1,jt="\f"+jt);break;case 108:if(ge+oe+De+Ce===0&&0<ft)switch(nt-ft){case 2:ot===112&&te.charCodeAt(nt-3)===58&&(Ce=ot);case 8:Et===111&&(Ce=Et)}break;case 58:ge+oe+De===0&&(ft=nt);break;case 44:oe+We+ge+De===0&&(Pt=1,jt+="\r");break;case 34:case 39:oe===0&&(ge=ge===Le?0:ge===0?Le:ge);break;case 91:ge+oe+We===0&&De++;break;case 93:ge+oe+We===0&&De--;break;case 41:ge+oe+De===0&&We--;break;case 40:if(ge+oe+De===0){if(Ye===0)switch(2*ot+3*Et){case 533:break;default:Ye=1}We++}break;case 64:oe+We+ge+De+ft+Xe===0&&(Xe=1);break;case 42:case 47:if(!(0<ge+De+We))switch(oe){case 0:switch(2*Le+3*te.charCodeAt(nt+1)){case 235:oe=47;break;case 220:st=nt,oe=42}break;case 42:Le===47&&ot===42&&st+2!==nt&&(te.charCodeAt(st+2)===33&&(lt+=te.substring(st,nt+1)),jt="",oe=0)}}oe===0&&(He+=jt)}Et=ot,ot=Le,nt++}if(st=lt.length,0<st){if(Pt=K,0<de&&(H=d(2,lt,Pt,Y,b,j,st,me,q,me),H!==void 0&&(lt=H).length===0))return D+lt+pt;if(lt=Pt.join(",")+"{"+lt+"}",be*Ce!==0){switch(be!==2||a(lt,2)||(Ce=0),Ce){case 111:lt=lt.replace($,":-moz-$1")+lt;break;case 112:lt=lt.replace(O,"::-webkit-input-$1")+lt.replace(O,"::-moz-$1")+lt.replace(O,":-ms-input-$1")+lt}Ce=0}}return D+lt+pt}function t(Y,K,te){var me=K.trim().split(T);K=me;var q=me.length,De=Y.length;switch(De){case 0:case 1:var oe=0;for(Y=De===0?"":Y[0]+" ";oe<q;++oe)K[oe]=i(Y,K[oe],te).trim();break;default:var We=oe=0;for(K=[];oe<q;++oe)for(var ge=0;ge<De;++ge)K[We++]=i(Y[ge]+" ",me[oe],te).trim()}return K}function i(Y,K,te){var me=K.charCodeAt(0);switch(33>me&&(me=(K=K.trim()).charCodeAt(0)),me){case 38:return K.replace(F,"$1"+Y.trim());case 58:return Y.trim()+K.replace(F,"$1"+Y.trim());default:if(0<1*te&&0<K.indexOf("\f"))return K.replace(F,(Y.charCodeAt(0)===58?"":"$1")+Y.trim())}return Y+K}function o(Y,K,te,me){var q=Y+";",De=2*K+3*te+4*me;if(De===944){Y=q.indexOf(":",9)+1;var oe=q.substring(Y,q.length-1).trim();return oe=q.substring(0,Y).trim()+oe+";",be===1||be===2&&a(oe,1)?"-webkit-"+oe+oe:oe}if(be===0||be===2&&!a(q,1))return q;switch(De){case 1015:return q.charCodeAt(10)===97?"-webkit-"+q+q:q;case 951:return q.charCodeAt(3)===116?"-webkit-"+q+q:q;case 963:return q.charCodeAt(5)===110?"-webkit-"+q+q:q;case 1009:if(q.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+q+q;case 978:return"-webkit-"+q+"-moz-"+q+q;case 1019:case 983:return"-webkit-"+q+"-moz-"+q+"-ms-"+q+q;case 883:if(q.charCodeAt(8)===45)return"-webkit-"+q+q;if(0<q.indexOf("image-set(",11))return q.replace(V,"$1-webkit-$2")+q;break;case 932:if(q.charCodeAt(4)===45)switch(q.charCodeAt(5)){case 103:return"-webkit-box-"+q.replace("-grow","")+"-webkit-"+q+"-ms-"+q.replace("grow","positive")+q;case 115:return"-webkit-"+q+"-ms-"+q.replace("shrink","negative")+q;case 98:return"-webkit-"+q+"-ms-"+q.replace("basis","preferred-size")+q}return"-webkit-"+q+"-ms-"+q+q;case 964:return"-webkit-"+q+"-ms-flex-"+q+q;case 1023:if(q.charCodeAt(8)!==99)break;return oe=q.substring(q.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+oe+"-webkit-"+q+"-ms-flex-pack"+oe+q;case 1005:return k.test(q)?q.replace(N,":-webkit-")+q.replace(N,":-moz-")+q:q;case 1e3:switch(oe=q.substring(13).trim(),K=oe.indexOf("-")+1,oe.charCodeAt(0)+oe.charCodeAt(K)){case 226:oe=q.replace(L,"tb");break;case 232:oe=q.replace(L,"tb-rl");break;case 220:oe=q.replace(L,"lr");break;default:return q}return"-webkit-"+q+"-ms-"+oe+q;case 1017:if(q.indexOf("sticky",9)===-1)break;case 975:switch(K=(q=Y).length-10,oe=(q.charCodeAt(K)===33?q.substring(0,K):q).substring(Y.indexOf(":",7)+1).trim(),De=oe.charCodeAt(0)+(oe.charCodeAt(7)|0)){case 203:if(111>oe.charCodeAt(8))break;case 115:q=q.replace(oe,"-webkit-"+oe)+";"+q;break;case 207:case 102:q=q.replace(oe,"-webkit-"+(102<De?"inline-":"")+"box")+";"+q.replace(oe,"-webkit-"+oe)+";"+q.replace(oe,"-ms-"+oe+"box")+";"+q}return q+";";case 938:if(q.charCodeAt(5)===45)switch(q.charCodeAt(6)){case 105:return oe=q.replace("-items",""),"-webkit-"+q+"-webkit-box-"+oe+"-ms-flex-"+oe+q;case 115:return"-webkit-"+q+"-ms-flex-item-"+q.replace(C,"")+q;default:return"-webkit-"+q+"-ms-flex-line-pack"+q.replace("align-content","").replace(C,"")+q}break;case 973:case 989:if(q.charCodeAt(3)!==45||q.charCodeAt(4)===122)break;case 931:case 953:if(R.test(Y)===!0)return(oe=Y.substring(Y.indexOf(":")+1)).charCodeAt(0)===115?o(Y.replace("stretch","fill-available"),K,te,me).replace(":fill-available",":stretch"):q.replace(oe,"-webkit-"+oe)+q.replace(oe,"-moz-"+oe.replace("fill-",""))+q;break;case 962:if(q="-webkit-"+q+(q.charCodeAt(5)===102?"-ms-"+q:"")+q,te+me===211&&q.charCodeAt(13)===105&&0<q.indexOf("transform",10))return q.substring(0,q.indexOf(";",27)+1).replace(A,"$1-webkit-$2")+q}return q}function a(Y,K){var te=Y.indexOf(K===1?":":"{"),me=Y.substring(0,K!==3?te:10);return te=Y.substring(te+1,Y.length-1),Oe(K!==2?me:me.replace(I,"$1"),te,K)}function c(Y,K){var te=o(K,K.charCodeAt(0),K.charCodeAt(1),K.charCodeAt(2));return te!==K+";"?te.replace(x," or ($1)").substring(4):"("+K+")"}function d(Y,K,te,me,q,De,oe,We,ge,Ye){for(var Le=0,ot=K,Et;Le<de;++Le)switch(Et=xe[Le].call(_,Y,ot,te,me,q,De,oe,We,ge,Ye)){case void 0:case!1:case!0:case null:break;default:ot=Et}if(ot!==K)return ot}function p(Y){switch(Y){case void 0:case null:de=xe.length=0;break;default:if(typeof Y=="function")xe[de++]=Y;else if(typeof Y=="object")for(var K=0,te=Y.length;K<te;++K)p(Y[K]);else U=!!Y|0}return p}function m(Y){return Y=Y.prefix,Y!==void 0&&(Oe=null,Y?typeof Y!="function"?be=1:(be=2,Oe=Y):be=0),m}function _(Y,K){var te=Y;if(33>te.charCodeAt(0)&&(te=te.trim()),J=te,te=[J],0<de){var me=d(-1,K,te,te,b,j,0,0,0,0);me!==void 0&&typeof me=="string"&&(K=me)}var q=e(je,te,K,0,0);return 0<de&&(me=d(-2,q,te,te,b,j,q.length,0,0,0),me!==void 0&&(q=me)),J="",Ce=0,j=b=1,q}var w=/^\0+/g,S=/[\0\r\f]/g,N=/: */g,k=/zoo|gra/,A=/([,: ])(transform)/g,T=/,\r+?/g,F=/([\t\r\n ])*\f?&/g,z=/@(k\w+)\s*(\S*)\s*/,O=/::(place)/g,$=/:(read-only)/g,L=/[svh]\w+-[tblr]{2}/,G=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,C=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,R=/stretch|:\s*\w+\-(?:conte|avail)/,V=/([^-])(image-set\()/,j=1,b=1,Ce=0,be=1,je=[],xe=[],de=0,Oe=null,U=0,J="";return _.use=p,_.set=m,n!==void 0&&m(n),_}var Mb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Fb(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var jb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,O_=Fb(function(n){return jb.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Lf={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function Ub(){if(N_)return It;N_=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,m=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,N=n?Symbol.for("react.memo"):60115,k=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,F=n?Symbol.for("react.responder"):60118,z=n?Symbol.for("react.scope"):60119;function O(L){if(typeof L=="object"&&L!==null){var G=L.$$typeof;switch(G){case e:switch(L=L.type,L){case p:case m:case i:case a:case o:case w:return L;default:switch(L=L&&L.$$typeof,L){case d:case _:case k:case N:case c:return L;default:return G}}case t:return G}}}function $(L){return O(L)===m}return It.AsyncMode=p,It.ConcurrentMode=m,It.ContextConsumer=d,It.ContextProvider=c,It.Element=e,It.ForwardRef=_,It.Fragment=i,It.Lazy=k,It.Memo=N,It.Portal=t,It.Profiler=a,It.StrictMode=o,It.Suspense=w,It.isAsyncMode=function(L){return $(L)||O(L)===p},It.isConcurrentMode=$,It.isContextConsumer=function(L){return O(L)===d},It.isContextProvider=function(L){return O(L)===c},It.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},It.isForwardRef=function(L){return O(L)===_},It.isFragment=function(L){return O(L)===i},It.isLazy=function(L){return O(L)===k},It.isMemo=function(L){return O(L)===N},It.isPortal=function(L){return O(L)===t},It.isProfiler=function(L){return O(L)===a},It.isStrictMode=function(L){return O(L)===o},It.isSuspense=function(L){return O(L)===w},It.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===i||L===m||L===a||L===o||L===w||L===S||typeof L=="object"&&L!==null&&(L.$$typeof===k||L.$$typeof===N||L.$$typeof===c||L.$$typeof===d||L.$$typeof===_||L.$$typeof===T||L.$$typeof===F||L.$$typeof===z||L.$$typeof===A)},It.typeOf=O,It}var D_;function zb(){return D_||(D_=1,Lf.exports=Ub()),Lf.exports}var Vf,L_;function $b(){if(L_)return Vf;L_=1;var n=zb(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function c(k){return n.isMemo(k)?o:a[k.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,S=Object.prototype;function N(k,A,T){if(typeof A!="string"){if(S){var F=w(A);F&&F!==S&&N(k,F,T)}var z=p(A);m&&(z=z.concat(m(A)));for(var O=c(k),$=c(A),L=0;L<z.length;++L){var G=z[L];if(!t[G]&&!(T&&T[G])&&!($&&$[G])&&!(O&&O[G])){var x=_(A,G);try{d(k,G,x)}catch{}}}}return k}return Vf=N,Vf}var Bb=$b();const uT=Ul(Bb);var Yr={};function er(){return(er=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var V_=function(n,e){for(var t=[n[0]],i=0,o=e.length;i<o;i+=1)t.push(e[i],n[i+1]);return t},vp=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!lT.typeOf(n)},ah=Object.freeze([]),hs=Object.freeze({});function _a(n){return typeof n=="function"}function _p(n){return n.displayName||n.name||"Component"}function Mh(n){return n&&typeof n.styledComponentId=="string"}var vs=typeof process<"u"&&(Yr.REACT_APP_SC_ATTR||Yr.SC_ATTR)||"data-styled",Wb="5.3.6",Cm=typeof window<"u"&&"HTMLElement"in window,Hb=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Yr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Yr.REACT_APP_SC_DISABLE_SPEEDY!==""?Yr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Yr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Yr.SC_DISABLE_SPEEDY!==void 0&&Yr.SC_DISABLE_SPEEDY!==""&&Yr.SC_DISABLE_SPEEDY!=="false"&&Yr.SC_DISABLE_SPEEDY),qb={};function Dr(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var Gb=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var i=0,o=0;o<t;o++)i+=this.groupSizes[o];return i},e.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var o=this.groupSizes,a=o.length,c=a;t>=c;)(c<<=1)<0&&Dr(16,""+t);this.groupSizes=new Uint32Array(c),this.groupSizes.set(o),this.length=c;for(var d=a;d<c;d++)this.groupSizes[d]=0}for(var p=this.indexOfGroup(t+1),m=0,_=i.length;m<_;m++)this.tag.insertRule(p,i[m])&&(this.groupSizes[t]++,p++)},e.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],o=this.indexOfGroup(t),a=o+i;this.groupSizes[t]=0;for(var c=o;c<a;c++)this.tag.deleteRule(o)}},e.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var o=this.groupSizes[t],a=this.indexOfGroup(t),c=a+o,d=a;d<c;d++)i+=this.tag.getRule(d)+`/*!sc*/
`;return i},n}(),jc=new Map,lh=new Map,Nl=1,Pc=function(n){if(jc.has(n))return jc.get(n);for(;lh.has(Nl);)Nl++;var e=Nl++;return jc.set(n,e),lh.set(e,n),e},Kb=function(n){return lh.get(n)},Qb=function(n,e){e>=Nl&&(Nl=e+1),jc.set(n,e),lh.set(e,n)},Yb="style["+vs+'][data-styled-version="5.3.6"]',Xb=new RegExp("^"+vs+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Jb=function(n,e,t){for(var i,o=t.split(","),a=0,c=o.length;a<c;a++)(i=o[a])&&n.registerName(e,i)},Zb=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),i=[],o=0,a=t.length;o<a;o++){var c=t[o].trim();if(c){var d=c.match(Xb);if(d){var p=0|parseInt(d[1],10),m=d[2];p!==0&&(Qb(m,p),Jb(n,m,d[3]),n.getTag().insertRules(p,i)),i.length=0}else i.push(c)}}},wp=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},cT=function(n){var e=document.head,t=n||e,i=document.createElement("style"),o=function(d){for(var p=d.childNodes,m=p.length;m>=0;m--){var _=p[m];if(_&&_.nodeType===1&&_.hasAttribute(vs))return _}}(t),a=o!==void 0?o.nextSibling:null;i.setAttribute(vs,"active"),i.setAttribute("data-styled-version","5.3.6");var c=wp();return c&&i.setAttribute("nonce",c),t.insertBefore(i,a),i},eO=function(){function n(t){var i=this.element=cT(t);i.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,c=0,d=a.length;c<d;c++){var p=a[c];if(p.ownerNode===o)return p}Dr(17)}(i),this.length=0}var e=n.prototype;return e.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var i=this.sheet.cssRules[t];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},n}(),tO=function(){function n(t){var i=this.element=cT(t);this.nodes=i.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,i){if(t<=this.length&&t>=0){var o=document.createTextNode(i),a=this.nodes[t];return this.element.insertBefore(o,a||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),nO=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),M_=Cm,rO={isServer:!Cm,useCSSOMInjection:!Hb},wa=function(){function n(t,i,o){t===void 0&&(t=hs),i===void 0&&(i={}),this.options=er({},rO,{},t),this.gs=i,this.names=new Map(o),this.server=!!t.isServer,!this.server&&Cm&&M_&&(M_=!1,function(a){for(var c=document.querySelectorAll(Yb),d=0,p=c.length;d<p;d++){var m=c[d];m&&m.getAttribute(vs)!=="active"&&(Zb(a,m),m.parentNode&&m.parentNode.removeChild(m))}}(this))}n.registerId=function(t){return Pc(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new n(er({},this.options,{},t),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(o=(i=this.options).isServer,a=i.useCSSOMInjection,c=i.target,t=o?new nO(c):a?new eO(c):new tO(c),new Gb(t)));var t,i,o,a,c},e.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},e.registerName=function(t,i){if(Pc(t),this.names.has(t))this.names.get(t).add(i);else{var o=new Set;o.add(i),this.names.set(t,o)}},e.insertRules=function(t,i,o){this.registerName(t,i),this.getTag().insertRules(Pc(t),o)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(Pc(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var i=t.getTag(),o=i.length,a="",c=0;c<o;c++){var d=Kb(c);if(d!==void 0){var p=t.names.get(d),m=i.getGroup(c);if(p&&m&&p.size){var _=vs+".g"+c+'[id="'+d+'"]',w="";p!==void 0&&p.forEach(function(S){S.length>0&&(w+=S+",")}),a+=""+m+_+'{content:"'+w+`"}/*!sc*/
`}}}return a}(this)},n}(),iO=/(a)(d)/gi,F_=function(n){return String.fromCharCode(n+(n>25?39:97))};function Ep(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=F_(e%52)+t;return(F_(e%52)+t).replace(iO,"$1-$2")}var ra=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},hT=function(n){return ra(5381,n)};function dT(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(_a(t)&&!Mh(t))return!1}return!0}var sO=hT("5.3.6"),oO=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&dT(e),this.componentId=t,this.baseHash=ra(sO,t),this.baseStyle=i,wa.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var o=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))a.push(this.staticRulesId);else{var c=io(this.rules,e,t,i).join(""),d=Ep(ra(this.baseHash,c)>>>0);if(!t.hasNameForId(o,d)){var p=i(c,"."+d,void 0,o);t.insertRules(o,d,p)}a.push(d),this.staticRulesId=d}else{for(var m=this.rules.length,_=ra(this.baseHash,i.hash),w="",S=0;S<m;S++){var N=this.rules[S];if(typeof N=="string")w+=N;else if(N){var k=io(N,e,t,i),A=Array.isArray(k)?k.join(""):k;_=ra(_,A+S),w+=A}}if(w){var T=Ep(_>>>0);if(!t.hasNameForId(o,T)){var F=i(w,"."+T,void 0,o);t.insertRules(o,T,F)}a.push(T)}}return a.join(" ")},n}(),aO=/^\s*\/\/.*$/gm,lO=[":","[",".","#"];function fT(n){var e,t,i,o,a=n===void 0?hs:n,c=a.options,d=c===void 0?hs:c,p=a.plugins,m=p===void 0?ah:p,_=new Vb(d),w=[],S=function(A){function T(F){if(F)try{A(F+"}")}catch{}}return function(F,z,O,$,L,G,x,C,I,R){switch(F){case 1:if(I===0&&z.charCodeAt(0)===64)return A(z+";"),"";break;case 2:if(C===0)return z+"/*|*/";break;case 3:switch(C){case 102:case 112:return A(O[0]+z),"";default:return z+(R===0?"/*|*/":"")}case-2:z.split("/*|*/}").forEach(T)}}}(function(A){w.push(A)}),N=function(A,T,F){return T===0&&lO.indexOf(F[t.length])!==-1||F.match(o)?A:"."+e};function k(A,T,F,z){z===void 0&&(z="&");var O=A.replace(aO,""),$=T&&F?F+" "+T+" { "+O+" }":O;return e=z,t=T,i=new RegExp("\\"+t+"\\b","g"),o=new RegExp("(\\"+t+"\\b){2,}"),_(F||!T?"":T,$)}return _.use([].concat(m,[function(A,T,F){A===2&&F.length&&F[0].lastIndexOf(t)>0&&(F[0]=F[0].replace(i,N))},S,function(A){if(A===-2){var T=w;return w=[],T}}])),k.hash=m.length?m.reduce(function(A,T){return T.name||Dr(15),ra(A,T.name)},5381).toString():"",k}var Fh=fr.createContext(),uO=Fh.Consumer,Pm=fr.createContext(),pT=(Pm.Consumer,new wa),Tp=fT();function Am(){return Q.useContext(Fh)||pT}function mT(){return Q.useContext(Pm)||Tp}function gT(n){var e=Q.useState(n.stylisPlugins),t=e[0],i=e[1],o=Am(),a=Q.useMemo(function(){var d=o;return n.sheet?d=n.sheet:n.target&&(d=d.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(d=d.reconstructWithOptions({useCSSOMInjection:!1})),d},[n.disableCSSOMInjection,n.sheet,n.target]),c=Q.useMemo(function(){return fT({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return Q.useEffect(function(){Lb(t,n.stylisPlugins)||i(n.stylisPlugins)},[n.stylisPlugins]),fr.createElement(Fh.Provider,{value:a},fr.createElement(Pm.Provider,{value:c},n.children))}var yT=function(){function n(e,t){var i=this;this.inject=function(o,a){a===void 0&&(a=Tp);var c=i.name+a.hash;o.hasNameForId(i.id,c)||o.insertRules(i.id,c,a(i.rules,c,"@keyframes"))},this.toString=function(){return Dr(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=Tp),this.name+e.hash},n}(),cO=/([A-Z])/,hO=/([A-Z])/g,dO=/^ms-/,fO=function(n){return"-"+n.toLowerCase()};function j_(n){return cO.test(n)?n.replace(hO,fO).replace(dO,"-ms-"):n}var U_=function(n){return n==null||n===!1||n===""};function io(n,e,t,i){if(Array.isArray(n)){for(var o,a=[],c=0,d=n.length;c<d;c+=1)(o=io(n[c],e,t,i))!==""&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}if(U_(n))return"";if(Mh(n))return"."+n.styledComponentId;if(_a(n)){if(typeof(m=n)!="function"||m.prototype&&m.prototype.isReactComponent||!e)return n;var p=n(e);return io(p,e,t,i)}var m;return n instanceof yT?t?(n.inject(t,i),n.getName(i)):n:vp(n)?function _(w,S){var N,k,A=[];for(var T in w)w.hasOwnProperty(T)&&!U_(w[T])&&(Array.isArray(w[T])&&w[T].isCss||_a(w[T])?A.push(j_(T)+":",w[T],";"):vp(w[T])?A.push.apply(A,_(w[T],T)):A.push(j_(T)+": "+(N=T,(k=w[T])==null||typeof k=="boolean"||k===""?"":typeof k!="number"||k===0||N in Mb?String(k).trim():k+"px")+";"));return S?[S+" {"].concat(A,["}"]):A}(n):n.toString()}var z_=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function jh(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return _a(n)||vp(n)?z_(io(V_(ah,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:z_(io(V_(n,t)))}var Rm=function(n,e,t){return t===void 0&&(t=hs),n.theme!==t.theme&&n.theme||e||t.theme},pO=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mO=/(^-|-$)/g;function Mf(n){return n.replace(pO,"-").replace(mO,"")}var km=function(n){return Ep(hT(n)>>>0)};function Ac(n){return typeof n=="string"&&!0}var Sp=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},gO=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function yO(n,e,t){var i=n[t];Sp(e)&&Sp(i)?vT(i,e):n[t]=e}function vT(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var o=0,a=t;o<a.length;o++){var c=a[o];if(Sp(c))for(var d in c)gO(d)&&yO(n,c[d],d)}return n}var _s=fr.createContext(),vO=_s.Consumer;function _O(n){var e=Q.useContext(_s),t=Q.useMemo(function(){return function(i,o){if(!i)return Dr(14);if(_a(i)){var a=i(o);return a}return Array.isArray(i)||typeof i!="object"?Dr(8):o?er({},o,{},i):i}(n.theme,e)},[n.theme,e]);return n.children?fr.createElement(_s.Provider,{value:t},n.children):null}var Ff={};function _T(n,e,t){var i=Mh(n),o=!Ac(n),a=e.attrs,c=a===void 0?ah:a,d=e.componentId,p=d===void 0?function(z,O){var $=typeof z!="string"?"sc":Mf(z);Ff[$]=(Ff[$]||0)+1;var L=$+"-"+km("5.3.6"+$+Ff[$]);return O?O+"-"+L:L}(e.displayName,e.parentComponentId):d,m=e.displayName,_=m===void 0?function(z){return Ac(z)?"styled."+z:"Styled("+_p(z)+")"}(n):m,w=e.displayName&&e.componentId?Mf(e.displayName)+"-"+e.componentId:e.componentId||p,S=i&&n.attrs?Array.prototype.concat(n.attrs,c).filter(Boolean):c,N=e.shouldForwardProp;i&&n.shouldForwardProp&&(N=e.shouldForwardProp?function(z,O,$){return n.shouldForwardProp(z,O,$)&&e.shouldForwardProp(z,O,$)}:n.shouldForwardProp);var k,A=new oO(t,w,i?n.componentStyle:void 0),T=A.isStatic&&c.length===0,F=function(z,O){return function($,L,G,x){var C=$.attrs,I=$.componentStyle,R=$.defaultProps,V=$.foldedComponentIds,j=$.shouldForwardProp,b=$.styledComponentId,Ce=$.target,be=function(me,q,De){me===void 0&&(me=hs);var oe=er({},q,{theme:me}),We={};return De.forEach(function(ge){var Ye,Le,ot,Et=ge;for(Ye in _a(Et)&&(Et=Et(oe)),Et)oe[Ye]=We[Ye]=Ye==="className"?(Le=We[Ye],ot=Et[Ye],Le&&ot?Le+" "+ot:Le||ot):Et[Ye]}),[oe,We]}(Rm(L,Q.useContext(_s),R)||hs,L,C),je=be[0],xe=be[1],de=function(me,q,De,oe){var We=Am(),ge=mT(),Ye=q?me.generateAndInjectStyles(hs,We,ge):me.generateAndInjectStyles(De,We,ge);return Ye}(I,x,je),Oe=G,U=xe.$as||L.$as||xe.as||L.as||Ce,J=Ac(U),Y=xe!==L?er({},L,{},xe):L,K={};for(var te in Y)te[0]!=="$"&&te!=="as"&&(te==="forwardedAs"?K.as=Y[te]:(j?j(te,O_,U):!J||O_(te))&&(K[te]=Y[te]));return L.style&&xe.style!==L.style&&(K.style=er({},L.style,{},xe.style)),K.className=Array.prototype.concat(V,b,de!==b?de:null,L.className,xe.className).filter(Boolean).join(" "),K.ref=Oe,Q.createElement(U,K)}(k,z,O,T)};return F.displayName=_,(k=fr.forwardRef(F)).attrs=S,k.componentStyle=A,k.displayName=_,k.shouldForwardProp=N,k.foldedComponentIds=i?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):ah,k.styledComponentId=w,k.target=i?n.target:n,k.withComponent=function(z){var O=e.componentId,$=function(G,x){if(G==null)return{};var C,I,R={},V=Object.keys(G);for(I=0;I<V.length;I++)C=V[I],x.indexOf(C)>=0||(R[C]=G[C]);return R}(e,["componentId"]),L=O&&O+"-"+(Ac(z)?z:Mf(_p(z)));return _T(z,er({},$,{attrs:S,componentId:L}),t)},Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(z){this._foldedDefaultProps=i?vT({},n.defaultProps,z):z}}),k.toString=function(){return"."+k.styledComponentId},o&&uT(k,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),k}var Ip=function(n){return function e(t,i,o){if(o===void 0&&(o=hs),!lT.isValidElementType(i))return Dr(1,String(i));var a=function(){return t(i,o,jh.apply(void 0,arguments))};return a.withConfig=function(c){return e(t,i,er({},o,{},c))},a.attrs=function(c){return e(t,i,er({},o,{attrs:Array.prototype.concat(o.attrs,c).filter(Boolean)}))},a}(_T,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){Ip[n]=Ip(n)});var wO=function(){function n(t,i){this.rules=t,this.componentId=i,this.isStatic=dT(t),wa.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,i,o,a){var c=a(io(this.rules,i,o,a).join(""),""),d=this.componentId+t;o.insertRules(d,d,c)},e.removeStyles=function(t,i){i.clearRules(this.componentId+t)},e.renderStyles=function(t,i,o,a){t>2&&wa.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,i,o,a)},n}();function EO(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var o=jh.apply(void 0,[n].concat(t)),a="sc-global-"+km(JSON.stringify(o)),c=new wO(o,a);function d(m){var _=Am(),w=mT(),S=Q.useContext(_s),N=Q.useRef(_.allocateGSInstance(a)).current;return _.server&&p(N,m,_,S,w),Q.useLayoutEffect(function(){if(!_.server)return p(N,m,_,S,w),function(){return c.removeStyles(N,_)}},[N,m,_,S,w]),null}function p(m,_,w,S,N){if(c.isStatic)c.renderStyles(m,qb,w,N);else{var k=er({},_,{theme:Rm(_,S,d.defaultProps)});c.renderStyles(m,k,w,N)}}return fr.memo(d)}function TO(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var o=jh.apply(void 0,[n].concat(t)).join(""),a=km(o);return new yT(a,o)}var SO=function(){function n(){var t=this;this._emitSheetCSS=function(){var i=t.instance.toString();if(!i)return"";var o=wp();return"<style "+[o&&'nonce="'+o+'"',vs+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+i+"</style>"},this.getStyleTags=function(){return t.sealed?Dr(2):t._emitSheetCSS()},this.getStyleElement=function(){var i;if(t.sealed)return Dr(2);var o=((i={})[vs]="",i["data-styled-version"]="5.3.6",i.dangerouslySetInnerHTML={__html:t.instance.toString()},i),a=wp();return a&&(o.nonce=a),[fr.createElement("style",er({},o,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new wa({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?Dr(2):fr.createElement(gT,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return Dr(3)},n}(),IO=function(n){var e=fr.forwardRef(function(t,i){var o=Q.useContext(_s),a=n.defaultProps,c=Rm(t,o,a);return fr.createElement(n,er({},t,{theme:c,ref:i}))});return uT(e,n),e.displayName="WithTheme("+_p(n)+")",e},CO=function(){return Q.useContext(_s)},PO={StyleSheet:wa,masterSheet:pT};const AO=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheet:SO,StyleSheetConsumer:uO,StyleSheetContext:Fh,StyleSheetManager:gT,ThemeConsumer:vO,ThemeContext:_s,ThemeProvider:_O,__PRIVATE__:PO,createGlobalStyle:EO,css:jh,default:Ip,isStyledComponent:Mh,keyframes:TO,useTheme:CO,version:Wb,withTheme:IO},Symbol.toStringTag,{value:"Module"})),Na=RS(AO);var Qo={},jf={exports:{}},Uf,$_;function RO(){if($_)return Uf;$_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Uf=n,Uf}var zf,B_;function kO(){if(B_)return zf;B_=1;var n=RO();function e(){}function t(){}return t.resetWarningCache=e,zf=function(){function i(c,d,p,m,_,w){if(w!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},zf}var W_;function uo(){return W_||(W_=1,jf.exports=kO()()),jf.exports}var yi={},H_;function Da(){if(H_)return yi;H_=1;var n=yi&&yi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yi,"__esModule",{value:!0}),yi.CrosswordSizeContext=yi.CrosswordContext=void 0;const e=n(Mr());function t(){}return yi.CrosswordContext=e.default.createContext({rows:0,cols:0,gridData:[],handleInputKeyDown:t,handleInputChange:t,handleCellClick:t,handleInputClick:t,handleClueSelected:t,registerFocusHandler:t,focused:!1,selectedPosition:{row:0,col:0},selectedDirection:"across",selectedNumber:"",crosswordCorrect:!1}),yi.CrosswordSizeContext=e.default.createContext({cellSize:0,cellPadding:0,cellInner:0,cellHalf:0,fontSize:0}),yi}var q_;function wT(){if(q_)return Qo;q_=1;var n=Qo&&Qo.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Qo,"__esModule",{value:!0});const e=so(),t=Mr(),i=n(uo()),o=Na,a=Da(),c={cellData:i.default.shape({row:i.default.number.isRequired,col:i.default.number.isRequired,guess:i.default.string,number:i.default.string,answer:i.default.string}).isRequired,focus:i.default.bool,highlight:i.default.bool,onClick:i.default.func};function d({cellData:p,onClick:m,focus:_,highlight:w}){const{cellSize:S,cellPadding:N,cellInner:k,cellHalf:A,fontSize:T}=(0,t.useContext)(a.CrosswordSizeContext),{cellBackground:F,cellBorder:z,textColor:O,numberColor:$,focusBackground:L,highlightBackground:G}=(0,t.useContext)(o.ThemeContext),x=(0,t.useCallback)(be=>{be.preventDefault(),m&&m(p)},[p,m]),{row:C,col:I,guess:R,number:V,answer:j}=p,b=I*S,Ce=C*S;return(0,e.jsxs)("g",Object.assign({onClick:x,style:{cursor:"default",fontSize:`${T}px`},className:"clue-cell"},{children:[(0,e.jsx)("rect",{x:b+N,y:Ce+N,width:k,height:k,fill:_?L:w?G:F,stroke:z,strokeWidth:S/50}),V&&(0,e.jsx)("text",Object.assign({x:b+N*4,y:Ce+N*4,textAnchor:"start",dominantBaseline:"hanging",style:{fontSize:"50%",fill:$}},{children:V})),(0,e.jsx)("text",Object.assign({x:b+A,y:Ce+A+1,textAnchor:"middle",dominantBaseline:"middle",style:{fill:O},className:j===R?"guess-text-correct":"guess-text-incorrect"},{children:R}))]}))}return Qo.default=d,d.propTypes=c,d.defaultProps={focus:!1,highlight:!1,onClick:null},Qo}var Un={},G_;function ET(){if(G_)return Un;G_=1;var n=Un&&Un.__createBinding||(Object.create?function(S,N,k,A){A===void 0&&(A=k);var T=Object.getOwnPropertyDescriptor(N,k);(!T||("get"in T?!N.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return N[k]}}),Object.defineProperty(S,A,T)}:function(S,N,k,A){A===void 0&&(A=k),S[A]=N[k]}),e=Un&&Un.__setModuleDefault||(Object.create?function(S,N){Object.defineProperty(S,"default",{enumerable:!0,value:N})}:function(S,N){S.default=N}),t=Un&&Un.__importStar||function(S){if(S&&S.__esModule)return S;var N={};if(S!=null)for(var k in S)k!=="default"&&Object.prototype.hasOwnProperty.call(S,k)&&n(N,S,k);return e(N,S),N},i=Un&&Un.__rest||function(S,N){var k={};for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&N.indexOf(A)<0&&(k[A]=S[A]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,A=Object.getOwnPropertySymbols(S);T<A.length;T++)N.indexOf(A[T])<0&&Object.prototype.propertyIsEnumerable.call(S,A[T])&&(k[A[T]]=S[A[T]]);return k},o=Un&&Un.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(Un,"__esModule",{value:!0});const a=so(),c=Mr(),d=o(uo()),p=t(Na),m=Da(),_=p.default.div.attrs(S=>({className:`clue${S.complete?S.correct?" correct":" incorrect":""}`}))`
  cursor: default;
  background-color: ${S=>S.highlight?S.highlightBackground:"transparent"};
`;function w(S){var{direction:N,number:k,children:A,complete:T,correct:F}=S,z=i(S,["direction","number","children","complete","correct"]);const{highlightBackground:O}=(0,c.useContext)(p.ThemeContext),{focused:$,selectedDirection:L,selectedNumber:G,handleClueSelected:x}=(0,c.useContext)(m.CrosswordContext),C=(0,c.useCallback)(I=>{I.preventDefault(),x(N,k)},[N,k,x]);return(0,a.jsxs)(_,Object.assign({highlightBackground:O,highlight:$&&N===L&&k===G,complete:T,correct:F},z,{onClick:C,"aria-label":`clue-${k}-${N}`},{children:[k,": ",A]}))}return Un.default=w,w.propTypes={direction:d.default.string.isRequired,number:d.default.string.isRequired,children:d.default.node.isRequired,complete:d.default.bool,correct:d.default.bool},w.defaultProps={complete:void 0,correct:void 0},Un}var Yo={},K_;function TT(){if(K_)return Yo;K_=1;var n=Yo&&Yo.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Yo,"__esModule",{value:!0});const e=so(),t=Mr(),i=n(uo()),o=Da(),a=n(ET()),c={direction:i.default.string.isRequired,label:i.default.string};function d({direction:p,label:m}){const{clues:_}=(0,t.useContext)(o.CrosswordContext);return(0,e.jsxs)("div",Object.assign({className:"direction"},{children:[(0,e.jsx)("h3",Object.assign({className:"header"},{children:m||p.toUpperCase()})),_==null?void 0:_[p].map(({number:w,clue:S,complete:N,correct:k})=>(0,e.jsx)(a.default,Object.assign({direction:p,number:w,complete:N,correct:k},{children:S}),w))]}))}return Yo.default=d,d.propTypes=c,d.defaultProps={label:void 0},Yo}var zn={},xr={},$f={exports:{}},Nt={},Q_;function xO(){if(Q_)return Nt;Q_=1;function n(D){for(var H=arguments.length,ae=Array(H>1?H-1:0),re=1;re<H;re++)ae[re-1]=arguments[re];throw Error("[Immer] minified error nr: "+D+(ae.length?" "+ae.map(function(_e){return"'"+_e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function e(D){return!!D&&!!D[ge]}function t(D){var H;return!!D&&(function(ae){if(!ae||typeof ae!="object")return!1;var re=Object.getPrototypeOf(ae);if(re===null)return!0;var _e=Object.hasOwnProperty.call(re,"constructor")&&re.constructor;return _e===Object||typeof _e=="function"&&Function.toString.call(_e)===Le}(D)||Array.isArray(D)||!!D[We]||!!(!((H=D.constructor)===null||H===void 0)&&H[We])||m(D)||_(D))}function i(D,H,ae){ae===void 0&&(ae=!1),o(D)===0?(ae?Object.keys:ot)(D).forEach(function(re){ae&&typeof re=="symbol"||H(re,D[re],D)}):D.forEach(function(re,_e){return H(_e,re,D)})}function o(D){var H=D[ge];return H?H.t>3?H.t-4:H.t:Array.isArray(D)?1:m(D)?2:_(D)?3:0}function a(D,H){return o(D)===2?D.has(H):Object.prototype.hasOwnProperty.call(D,H)}function c(D,H){return o(D)===2?D.get(H):D[H]}function d(D,H,ae){var re=o(D);re===2?D.set(H,ae):re===3?D.add(ae):D[H]=ae}function p(D,H){return D===H?D!==0||1/D==1/H:D!=D&&H!=H}function m(D){return me&&D instanceof Map}function _(D){return q&&D instanceof Set}function w(D){return D.i||D.u}function S(D){if(Array.isArray(D))return Array.prototype.slice.call(D);var H=Et(D);delete H[ge];for(var ae=ot(H),re=0;re<ae.length;re++){var _e=ae[re],Ie=H[_e];Ie.writable===!1&&(Ie.writable=!0,Ie.configurable=!0),(Ie.get||Ie.set)&&(H[_e]={configurable:!0,writable:!0,enumerable:Ie.enumerable,value:D[_e]})}return Object.create(Object.getPrototypeOf(D),H)}function N(D,H){return H===void 0&&(H=!1),A(D)||e(D)||!t(D)||(o(D)>1&&(D.set=D.add=D.clear=D.delete=k),Object.freeze(D),H&&i(D,function(ae,re){return N(re,!0)},!0)),D}function k(){n(2)}function A(D){return D==null||typeof D!="object"||Object.isFrozen(D)}function T(D){var H=Xe[D];return H||n(18,D),H}function F(D,H){Xe[D]||(Xe[D]=H)}function z(){return K}function O(D,H){H&&(T("Patches"),D.o=[],D.v=[],D.s=H)}function $(D){L(D),D.p.forEach(x),D.p=null}function L(D){D===K&&(K=D.l)}function G(D){return K={p:[],l:K,h:D,_:!0,m:0}}function x(D){var H=D[ge];H.t===0||H.t===1?H.j():H.O=!0}function C(D,H){H.m=H.p.length;var ae=H.p[0],re=D!==void 0&&D!==ae;return H.h.S||T("ES5").P(H,D,re),re?(ae[ge].g&&($(H),n(4)),t(D)&&(D=I(H,D),H.l||V(H,D)),H.o&&T("Patches").M(ae[ge].u,D,H.o,H.v)):D=I(H,ae,[]),$(H),H.o&&H.s(H.o,H.v),D!==oe?D:void 0}function I(D,H,ae){if(A(H))return H;var re=H[ge];if(!re)return i(H,function(ye,ve){return R(D,re,H,ye,ve,ae)},!0),H;if(re.A!==D)return H;if(!re.g)return V(D,re.u,!0),re.u;if(!re.R){re.R=!0,re.A.m--;var _e=re.t===4||re.t===5?re.i=S(re.k):re.i,Ie=_e,Ne=!1;re.t===3&&(Ie=new Set(_e),_e.clear(),Ne=!0),i(Ie,function(ye,ve){return R(D,re,_e,ye,ve,ae,Ne)}),V(D,_e,!1),ae&&D.o&&T("Patches").F(re,ae,D.o,D.v)}return re.i}function R(D,H,ae,re,_e,Ie,Ne){if(e(_e)){var ye=I(D,_e,Ie&&H&&H.t!==3&&!a(H.N,re)?Ie.concat(re):void 0);if(d(ae,re,ye),!e(ye))return;D._=!1}else Ne&&ae.add(_e);if(t(_e)&&!A(_e)){if(!D.h.D&&D.m<1)return;I(D,_e),H&&H.A.l||V(D,_e)}}function V(D,H,ae){ae===void 0&&(ae=!1),!D.l&&D.h.D&&D._&&N(H,ae)}function j(D,H){var ae=D[ge];return(ae?w(ae):D)[H]}function b(D,H){if(H in D)for(var ae=Object.getPrototypeOf(D);ae;){var re=Object.getOwnPropertyDescriptor(ae,H);if(re)return re;ae=Object.getPrototypeOf(ae)}}function Ce(D){D.g||(D.g=!0,D.l&&Ce(D.l))}function be(D){D.i||(D.i=S(D.u))}function je(D,H,ae){var re=m(H)?T("MapSet").K(H,ae):_(H)?T("MapSet").$(H,ae):D.S?function(_e,Ie){var Ne=Array.isArray(_e),ye={t:Ne?1:0,A:Ie?Ie.A:z(),g:!1,R:!1,N:{},l:Ie,u:_e,k:null,i:null,j:null,C:!1},ve=ye,le=ft;Ne&&(ve=[ye],le=nt);var ue=Proxy.revocable(ve,le),Ae=ue.revoke,ne=ue.proxy;return ye.k=ne,ye.j=Ae,ne}(H,ae):T("ES5").I(H,ae);return(ae?ae.A:z()).p.push(re),re}function xe(D){return e(D)||n(22,D),function H(ae){if(!t(ae))return ae;var re,_e=ae[ge],Ie=o(ae);if(_e){if(!_e.g&&(_e.t<4||!T("ES5").J(_e)))return _e.u;_e.R=!0,re=de(ae,Ie),_e.R=!1}else re=de(ae,Ie);return i(re,function(Ne,ye){_e&&c(_e.u,Ne)===ye||d(re,Ne,H(ye))}),Ie===3?new Set(re):re}(D)}function de(D,H){switch(H){case 2:return new Map(D);case 3:return Array.from(D)}return S(D)}function Oe(){function D(Ie,Ne){var ye=_e[Ie];return ye?ye.enumerable=Ne:_e[Ie]=ye={configurable:!0,enumerable:Ne,get:function(){return ft.get(this[ge],Ie)},set:function(ve){ft.set(this[ge],Ie,ve)}},ye}function H(Ie){for(var Ne=Ie.length-1;Ne>=0;Ne--){var ye=Ie[Ne][ge];if(!ye.g)switch(ye.t){case 5:re(ye)&&Ce(ye);break;case 4:ae(ye)&&Ce(ye)}}}function ae(Ie){for(var Ne=Ie.u,ye=Ie.k,ve=ot(ye),le=ve.length-1;le>=0;le--){var ue=ve[le];if(ue!==ge){var Ae=Ne[ue];if(Ae===void 0&&!a(Ne,ue))return!0;var ne=ye[ue],ce=ne&&ne[ge];if(ce?ce.u!==Ae:!p(ne,Ae))return!0}}var pe=!!Ne[ge];return ve.length!==ot(Ne).length+(pe?0:1)}function re(Ie){var Ne=Ie.k;if(Ne.length!==Ie.u.length)return!0;var ye=Object.getOwnPropertyDescriptor(Ne,Ne.length-1);if(ye&&!ye.get)return!0;for(var ve=0;ve<Ne.length;ve++)if(!Ne.hasOwnProperty(ve))return!0;return!1}var _e={};F("ES5",{I:function(Ie,Ne){var ye=Array.isArray(Ie),ve=function(ue,Ae){if(ue){for(var ne=Array(Ae.length),ce=0;ce<Ae.length;ce++)Object.defineProperty(ne,""+ce,D(ce,!0));return ne}var pe=Et(Ae);delete pe[ge];for(var Re=ot(pe),qe=0;qe<Re.length;qe++){var Je=Re[qe];pe[Je]=D(Je,ue||!!pe[Je].enumerable)}return Object.create(Object.getPrototypeOf(Ae),pe)}(ye,Ie),le={t:ye?5:4,A:Ne?Ne.A:z(),g:!1,R:!1,N:{},l:Ne,u:Ie,k:ve,i:null,O:!1,C:!1};return Object.defineProperty(ve,ge,{value:le,writable:!0}),ve},P:function(Ie,Ne,ye){ye?e(Ne)&&Ne[ge].A===Ie&&H(Ie.p):(Ie.o&&function ve(le){if(le&&typeof le=="object"){var ue=le[ge];if(ue){var Ae=ue.u,ne=ue.k,ce=ue.N,pe=ue.t;if(pe===4)i(ne,function(_t){_t!==ge&&(Ae[_t]!==void 0||a(Ae,_t)?ce[_t]||ve(ne[_t]):(ce[_t]=!0,Ce(ue)))}),i(Ae,function(_t){ne[_t]!==void 0||a(ne,_t)||(ce[_t]=!1,Ce(ue))});else if(pe===5){if(re(ue)&&(Ce(ue),ce.length=!0),ne.length<Ae.length)for(var Re=ne.length;Re<Ae.length;Re++)ce[Re]=!1;else for(var qe=Ae.length;qe<ne.length;qe++)ce[qe]=!0;for(var Je=Math.min(ne.length,Ae.length),mt=0;mt<Je;mt++)ne.hasOwnProperty(mt)||(ce[mt]=!0),ce[mt]===void 0&&ve(ne[mt])}}}}(Ie.p[0]),H(Ie.p))},J:function(Ie){return Ie.t===4?ae(Ie):re(Ie)}})}function U(){function D(re){if(!t(re))return re;if(Array.isArray(re))return re.map(D);if(m(re))return new Map(Array.from(re.entries()).map(function(Ne){return[Ne[0],D(Ne[1])]}));if(_(re))return new Set(Array.from(re).map(D));var _e=Object.create(Object.getPrototypeOf(re));for(var Ie in re)_e[Ie]=D(re[Ie]);return a(re,We)&&(_e[We]=re[We]),_e}function H(re){return e(re)?D(re):re}var ae="add";F("Patches",{W:function(re,_e){return _e.forEach(function(Ie){for(var Ne=Ie.path,ye=Ie.op,ve=re,le=0;le<Ne.length-1;le++){var ue=o(ve),Ae=Ne[le];typeof Ae!="string"&&typeof Ae!="number"&&(Ae=""+Ae),ue!==0&&ue!==1||Ae!=="__proto__"&&Ae!=="constructor"||n(24),typeof ve=="function"&&Ae==="prototype"&&n(24),typeof(ve=c(ve,Ae))!="object"&&n(15,Ne.join("/"))}var ne=o(ve),ce=D(Ie.value),pe=Ne[Ne.length-1];switch(ye){case"replace":switch(ne){case 2:return ve.set(pe,ce);case 3:n(16);default:return ve[pe]=ce}case ae:switch(ne){case 1:return pe==="-"?ve.push(ce):ve.splice(pe,0,ce);case 2:return ve.set(pe,ce);case 3:return ve.add(ce);default:return ve[pe]=ce}case"remove":switch(ne){case 1:return ve.splice(pe,1);case 2:return ve.delete(pe);case 3:return ve.delete(Ie.value);default:return delete ve[pe]}default:n(17,ye)}}),re},F:function(re,_e,Ie,Ne){switch(re.t){case 0:case 4:case 2:return function(ye,ve,le,ue){var Ae=ye.u,ne=ye.i;i(ye.N,function(ce,pe){var Re=c(Ae,ce),qe=c(ne,ce),Je=pe?a(Ae,ce)?"replace":ae:"remove";if(Re!==qe||Je!=="replace"){var mt=ve.concat(ce);le.push(Je==="remove"?{op:Je,path:mt}:{op:Je,path:mt,value:qe}),ue.push(Je===ae?{op:"remove",path:mt}:Je==="remove"?{op:ae,path:mt,value:H(Re)}:{op:"replace",path:mt,value:H(Re)})}})}(re,_e,Ie,Ne);case 5:case 1:return function(ye,ve,le,ue){var Ae=ye.u,ne=ye.N,ce=ye.i;if(ce.length<Ae.length){var pe=[ce,Ae];Ae=pe[0],ce=pe[1];var Re=[ue,le];le=Re[0],ue=Re[1]}for(var qe=0;qe<Ae.length;qe++)if(ne[qe]&&ce[qe]!==Ae[qe]){var Je=ve.concat([qe]);le.push({op:"replace",path:Je,value:H(ce[qe])}),ue.push({op:"replace",path:Je,value:H(Ae[qe])})}for(var mt=Ae.length;mt<ce.length;mt++){var _t=ve.concat([mt]);le.push({op:ae,path:_t,value:H(ce[mt])})}Ae.length<ce.length&&ue.push({op:"replace",path:ve.concat(["length"]),value:Ae.length})}(re,_e,Ie,Ne);case 3:return function(ye,ve,le,ue){var Ae=ye.u,ne=ye.i,ce=0;Ae.forEach(function(pe){if(!ne.has(pe)){var Re=ve.concat([ce]);le.push({op:"remove",path:Re,value:pe}),ue.unshift({op:ae,path:Re,value:pe})}ce++}),ce=0,ne.forEach(function(pe){if(!Ae.has(pe)){var Re=ve.concat([ce]);le.push({op:ae,path:Re,value:pe}),ue.unshift({op:"remove",path:Re,value:pe})}ce++})}(re,_e,Ie,Ne)}},M:function(re,_e,Ie,Ne){Ie.push({op:"replace",path:[],value:_e===oe?void 0:_e}),Ne.push({op:"replace",path:[],value:re})}})}function J(){function D(ye,ve){function le(){this.constructor=ye}_e(ye,ve),ye.prototype=(le.prototype=ve.prototype,new le)}function H(ye){ye.i||(ye.N=new Map,ye.i=new Map(ye.u))}function ae(ye){ye.i||(ye.i=new Set,ye.u.forEach(function(ve){if(t(ve)){var le=je(ye.A.h,ve,ye);ye.p.set(ve,le),ye.i.add(le)}else ye.i.add(ve)}))}function re(ye){ye.O&&n(3,JSON.stringify(w(ye)))}var _e=function(ye,ve){return(_e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(le,ue){le.__proto__=ue}||function(le,ue){for(var Ae in ue)ue.hasOwnProperty(Ae)&&(le[Ae]=ue[Ae])})(ye,ve)},Ie=function(){function ye(le,ue){return this[ge]={t:2,l:ue,A:ue?ue.A:z(),g:!1,R:!1,i:void 0,N:void 0,u:le,k:this,C:!1,O:!1},this}D(ye,Map);var ve=ye.prototype;return Object.defineProperty(ve,"size",{get:function(){return w(this[ge]).size}}),ve.has=function(le){return w(this[ge]).has(le)},ve.set=function(le,ue){var Ae=this[ge];return re(Ae),w(Ae).has(le)&&w(Ae).get(le)===ue||(H(Ae),Ce(Ae),Ae.N.set(le,!0),Ae.i.set(le,ue),Ae.N.set(le,!0)),this},ve.delete=function(le){if(!this.has(le))return!1;var ue=this[ge];return re(ue),H(ue),Ce(ue),ue.u.has(le)?ue.N.set(le,!1):ue.N.delete(le),ue.i.delete(le),!0},ve.clear=function(){var le=this[ge];re(le),w(le).size&&(H(le),Ce(le),le.N=new Map,i(le.u,function(ue){le.N.set(ue,!1)}),le.i.clear())},ve.forEach=function(le,ue){var Ae=this;w(this[ge]).forEach(function(ne,ce){le.call(ue,Ae.get(ce),ce,Ae)})},ve.get=function(le){var ue=this[ge];re(ue);var Ae=w(ue).get(le);if(ue.R||!t(Ae)||Ae!==ue.u.get(le))return Ae;var ne=je(ue.A.h,Ae,ue);return H(ue),ue.i.set(le,ne),ne},ve.keys=function(){return w(this[ge]).keys()},ve.values=function(){var le,ue=this,Ae=this.keys();return(le={})[Ye]=function(){return ue.values()},le.next=function(){var ne=Ae.next();return ne.done?ne:{done:!1,value:ue.get(ne.value)}},le},ve.entries=function(){var le,ue=this,Ae=this.keys();return(le={})[Ye]=function(){return ue.entries()},le.next=function(){var ne=Ae.next();if(ne.done)return ne;var ce=ue.get(ne.value);return{done:!1,value:[ne.value,ce]}},le},ve[Ye]=function(){return this.entries()},ye}(),Ne=function(){function ye(le,ue){return this[ge]={t:3,l:ue,A:ue?ue.A:z(),g:!1,R:!1,i:void 0,u:le,k:this,p:new Map,O:!1,C:!1},this}D(ye,Set);var ve=ye.prototype;return Object.defineProperty(ve,"size",{get:function(){return w(this[ge]).size}}),ve.has=function(le){var ue=this[ge];return re(ue),ue.i?!!ue.i.has(le)||!(!ue.p.has(le)||!ue.i.has(ue.p.get(le))):ue.u.has(le)},ve.add=function(le){var ue=this[ge];return re(ue),this.has(le)||(ae(ue),Ce(ue),ue.i.add(le)),this},ve.delete=function(le){if(!this.has(le))return!1;var ue=this[ge];return re(ue),ae(ue),Ce(ue),ue.i.delete(le)||!!ue.p.has(le)&&ue.i.delete(ue.p.get(le))},ve.clear=function(){var le=this[ge];re(le),w(le).size&&(ae(le),Ce(le),le.i.clear())},ve.values=function(){var le=this[ge];return re(le),ae(le),le.i.values()},ve.entries=function(){var le=this[ge];return re(le),ae(le),le.i.entries()},ve.keys=function(){return this.values()},ve[Ye]=function(){return this.values()},ve.forEach=function(le,ue){for(var Ae=this.values(),ne=Ae.next();!ne.done;)le.call(ue,ne.value,ne.value,this),ne=Ae.next()},ye}();F("MapSet",{K:function(ye,ve){return new Ie(ye,ve)},$:function(ye,ve){return new Ne(ye,ve)}})}var Y;Object.defineProperty(Nt,"__esModule",{value:!0});var K,te=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",me=typeof Map<"u",q=typeof Set<"u",De=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",oe=te?Symbol.for("immer-nothing"):((Y={})["immer-nothing"]=!0,Y),We=te?Symbol.for("immer-draftable"):"__$immer_draftable",ge=te?Symbol.for("immer-state"):"__$immer_state",Ye=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",Le=""+Object.prototype.constructor,ot=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:Object.getOwnPropertyNames,Et=Object.getOwnPropertyDescriptors||function(D){var H={};return ot(D).forEach(function(ae){H[ae]=Object.getOwnPropertyDescriptor(D,ae)}),H},Xe={},ft={get:function(D,H){if(H===ge)return D;var ae=w(D);if(!a(ae,H))return function(_e,Ie,Ne){var ye,ve=b(Ie,Ne);return ve?"value"in ve?ve.value:(ye=ve.get)===null||ye===void 0?void 0:ye.call(_e.k):void 0}(D,ae,H);var re=ae[H];return D.R||!t(re)?re:re===j(D.u,H)?(be(D),D.i[H]=je(D.A.h,re,D)):re},has:function(D,H){return H in w(D)},ownKeys:function(D){return Reflect.ownKeys(w(D))},set:function(D,H,ae){var re=b(w(D),H);if(re!=null&&re.set)return re.set.call(D.k,ae),!0;if(!D.g){var _e=j(w(D),H),Ie=_e==null?void 0:_e[ge];if(Ie&&Ie.u===ae)return D.i[H]=ae,D.N[H]=!1,!0;if(p(ae,_e)&&(ae!==void 0||a(D.u,H)))return!0;be(D),Ce(D)}return D.i[H]===ae&&(ae!==void 0||H in D.i)||Number.isNaN(ae)&&Number.isNaN(D.i[H])||(D.i[H]=ae,D.N[H]=!0),!0},deleteProperty:function(D,H){return j(D.u,H)!==void 0||H in D.u?(D.N[H]=!1,be(D),Ce(D)):delete D.N[H],D.i&&delete D.i[H],!0},getOwnPropertyDescriptor:function(D,H){var ae=w(D),re=Reflect.getOwnPropertyDescriptor(ae,H);return re&&{writable:!0,configurable:D.t!==1||H!=="length",enumerable:re.enumerable,value:ae[H]}},defineProperty:function(){n(11)},getPrototypeOf:function(D){return Object.getPrototypeOf(D.u)},setPrototypeOf:function(){n(12)}},nt={};i(ft,function(D,H){nt[D]=function(){return arguments[0]=arguments[0][0],H.apply(this,arguments)}}),nt.deleteProperty=function(D,H){return nt.set.call(this,D,H,void 0)},nt.set=function(D,H,ae){return ft.set.call(this,D[0],H,ae,D[0])};var Pt=function(){function D(ae){var re=this;this.S=De,this.D=!0,this.produce=function(_e,Ie,Ne){if(typeof _e=="function"&&typeof Ie!="function"){var ye=Ie;Ie=_e;var ve=re;return function(Re){var qe=this;Re===void 0&&(Re=ye);for(var Je=arguments.length,mt=Array(Je>1?Je-1:0),_t=1;_t<Je;_t++)mt[_t-1]=arguments[_t];return ve.produce(Re,function(Wn){var Gt;return(Gt=Ie).call.apply(Gt,[qe,Wn].concat(mt))})}}var le;if(typeof Ie!="function"&&n(6),Ne!==void 0&&typeof Ne!="function"&&n(7),t(_e)){var ue=G(re),Ae=je(re,_e,void 0),ne=!0;try{le=Ie(Ae),ne=!1}finally{ne?$(ue):L(ue)}return typeof Promise<"u"&&le instanceof Promise?le.then(function(Re){return O(ue,Ne),C(Re,ue)},function(Re){throw $(ue),Re}):(O(ue,Ne),C(le,ue))}if(!_e||typeof _e!="object"){if((le=Ie(_e))===void 0&&(le=_e),le===oe&&(le=void 0),re.D&&N(le,!0),Ne){var ce=[],pe=[];T("Patches").M(_e,le,ce,pe),Ne(ce,pe)}return le}n(21,_e)},this.produceWithPatches=function(_e,Ie){if(typeof _e=="function")return function(le){for(var ue=arguments.length,Ae=Array(ue>1?ue-1:0),ne=1;ne<ue;ne++)Ae[ne-1]=arguments[ne];return re.produceWithPatches(le,function(ce){return _e.apply(void 0,[ce].concat(Ae))})};var Ne,ye,ve=re.produce(_e,Ie,function(le,ue){Ne=le,ye=ue});return typeof Promise<"u"&&ve instanceof Promise?ve.then(function(le){return[le,Ne,ye]}):[ve,Ne,ye]},typeof(ae==null?void 0:ae.useProxies)=="boolean"&&this.setUseProxies(ae.useProxies),typeof(ae==null?void 0:ae.autoFreeze)=="boolean"&&this.setAutoFreeze(ae.autoFreeze)}var H=D.prototype;return H.createDraft=function(ae){t(ae)||n(8),e(ae)&&(ae=xe(ae));var re=G(this),_e=je(this,ae,void 0);return _e[ge].C=!0,L(re),_e},H.finishDraft=function(ae,re){var _e=(ae&&ae[ge]).A;return O(_e,re),C(void 0,_e)},H.setAutoFreeze=function(ae){this.D=ae},H.setUseProxies=function(ae){ae&&!De&&n(20),this.S=ae},H.applyPatches=function(ae,re){var _e;for(_e=re.length-1;_e>=0;_e--){var Ie=re[_e];if(Ie.path.length===0&&Ie.op==="replace"){ae=Ie.value;break}}_e>-1&&(re=re.slice(_e+1));var Ne=T("Patches").W;return e(ae)?Ne(ae,re):this.produce(ae,function(ye){return Ne(ye,re)})},D}(),Tt=new Pt,st=Tt.produce,Ft=Tt.produceWithPatches.bind(Tt),vn=Tt.setAutoFreeze.bind(Tt),jt=Tt.setUseProxies.bind(Tt),He=Tt.applyPatches.bind(Tt),lt=Tt.createDraft.bind(Tt),pt=Tt.finishDraft.bind(Tt);return Nt.Immer=Pt,Nt.applyPatches=He,Nt.castDraft=function(D){return D},Nt.castImmutable=function(D){return D},Nt.createDraft=lt,Nt.current=xe,Nt.default=st,Nt.enableAllPlugins=function(){Oe(),J(),U()},Nt.enableES5=Oe,Nt.enableMapSet=J,Nt.enablePatches=U,Nt.finishDraft=pt,Nt.freeze=N,Nt.immerable=We,Nt.isDraft=e,Nt.isDraftable=t,Nt.nothing=oe,Nt.original=function(D){return e(D)||n(23,D),D[ge].u},Nt.produce=st,Nt.produceWithPatches=Ft,Nt.setAutoFreeze=vn,Nt.setUseProxies=jt,Nt}var Y_;function bO(){return Y_||(Y_=1,$f.exports=xO()),$f.exports}var wl={},X_;function OO(){return X_||(X_=1,function(n){var e=wl&&wl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.cluesInputShapeOriginal=n.clueShapeOriginal=void 0;const t=e(uo()),i={clue:t.default.string.isRequired,answer:t.default.string.isRequired,row:t.default.number.isRequired,col:t.default.number.isRequired};n.clueShapeOriginal=t.default.shape(i),n.cluesInputShapeOriginal=t.default.shape({across:t.default.objectOf(n.clueShapeOriginal.isRequired).isRequired,down:t.default.objectOf(n.clueShapeOriginal.isRequired).isRequired})}(wl)),wl}var Bf={},J_;function NO(){return J_||(J_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findCorrectAnswers=n.deserializeGuesses=n.loadGuesses=n.serializeGuesses=n.saveGuesses=n.clearGuesses=n.byNumber=n.createGridData=n.fillClues=n.createEmptyGrid=n.calculateExtents=n.otherDirection=n.isAcross=n.bothDirections=void 0;const e={across:{primary:"col",orthogonal:"row"},down:{primary:"row",orthogonal:"col"}};n.bothDirections=Object.keys(e);function t(A){return A==="across"}n.isAcross=t;function i(A){return t(A)?"down":"across"}n.otherDirection=i;function o(A,T){const F=e[T];let z=0,O=0;Object.entries(A[T]).forEach(([,L])=>{const G=L[F.primary]+L.answer.length-1;G>z&&(z=G);const x=L[F.orthogonal];x>O&&(O=x)});const $={row:0,col:0};return $[F.primary]=z,$[F.orthogonal]=O,$}n.calculateExtents=o;function a(A,T){const F=Array(A);for(let z=0;z<A;z++){F[z]=Array(T);for(let O=0;O<T;O++)F[z][O]={row:z,col:O,used:!1}}return F}n.createEmptyGrid=a;function c(A,T,F,z){const O=e[z];Object.entries(F[z]).forEach(([$,L])=>{const{row:G,col:x,clue:C,answer:I}=L;for(let R=0;R<I.length;R++){const V=G+(O.primary==="row"?R:0),j=x+(O.primary==="col"?R:0),b=A[V][j];b.used=!0,b.answer=I[R],b[z]=$,R===0&&(b.number=$)}T[z].push({number:$,clue:C,answer:I,col:x,row:G})}),T[z].sort(p)}n.fillClues=c;function d(A,T){const F=o(A,"across"),z=o(A,"down");let O=Math.max(F.row,z.row)+1,$=Math.max(F.col,z.col)+1;if(!T){const x=Math.max(O,$);O=x,$=x}const L=a(O,$),G={across:[],down:[]};return c(L,G,A,"across"),c(L,G,A,"down"),{rows:O,cols:$,gridData:L,clues:G}}n.createGridData=d;function p(A,T){const F=Number.parseInt(A.number,10),z=Number.parseInt(T.number,10);return F-z}n.byNumber=p;function m(A){window.localStorage&&window.localStorage.removeItem(A)}n.clearGuesses=m;function _(A,T){const{localStorage:F}=window;if(!F)return;const z=w(A),O={date:Date.now(),guesses:z};F.setItem(T,JSON.stringify(O))}n.saveGuesses=_;function w(A){return A.reduce((F,z,O)=>z.reduce(($,L,G)=>{var x;const{guess:C}=L;return C!==""&&($[`${O}_${G}`]=(x=L.guess)!==null&&x!==void 0?x:""),$},F),{})}n.serializeGuesses=w;function S(A,T){const{localStorage:F}=window;if(!F)return;const z=F.getItem(T);if(!z)return;const O=JSON.parse(z);N(A,O.guesses)}n.loadGuesses=S;function N(A,T){Object.entries(T).forEach(([F,z])=>{const[O,$]=F.split("_"),L=parseInt(O,10),G=parseInt($,10);L<=A.length-1&&G<=A[0].length-1&&(A[L][G].guess=z)})}n.deserializeGuesses=N;function k(A,T){const F=[];return n.bothDirections.forEach(z=>{const O=t(z);Object.entries(A[z]).forEach(([$,L])=>{const{row:G,col:x}=L;let C=!0;for(let I=0;I<L.answer.length;I++){const R=O?G:G+I,V=O?x+I:x;if(T[R][V].guess!==L.answer[I]){C=!1;break}}C&&F.push([z,$,L.answer])})}),F}n.findCorrectAnswers=k}(Bf)),Bf}var Z_;function ST(){return Z_||(Z_=1,function(n){var e=xr&&xr.__createBinding||(Object.create?function(T,F,z,O){O===void 0&&(O=z);var $=Object.getOwnPropertyDescriptor(F,z);(!$||("get"in $?!F.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return F[z]}}),Object.defineProperty(T,O,$)}:function(T,F,z,O){O===void 0&&(O=z),T[O]=F[z]}),t=xr&&xr.__setModuleDefault||(Object.create?function(T,F){Object.defineProperty(T,"default",{enumerable:!0,value:F})}:function(T,F){T.default=F}),i=xr&&xr.__importStar||function(T){if(T&&T.__esModule)return T;var F={};if(T!=null)for(var z in T)z!=="default"&&Object.prototype.hasOwnProperty.call(T,z)&&e(F,T,z);return t(F,T),F},o=xr&&xr.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(n,"__esModule",{value:!0}),n.crosswordProviderPropTypes=void 0;const a=so(),c=i(Mr()),d=o(uo()),p=o(bO()),m=Na,_=Da(),w=OO(),S=NO(),N="guesses";n.crosswordProviderPropTypes={data:w.cluesInputShapeOriginal.isRequired,theme:d.default.shape({allowNonSquare:d.default.bool,columnBreakpoint:d.default.string,gridBackground:d.default.string,cellBackground:d.default.string,cellBorder:d.default.string,textColor:d.default.string,numberColor:d.default.string,focusBackground:d.default.string,highlightBackground:d.default.string}),useStorage:d.default.bool,storageKey:d.default.string,onAnswerComplete:d.default.func,onAnswerCorrect:d.default.func,onCorrect:d.default.func,onAnswerIncorrect:d.default.func,onLoadedCorrect:d.default.func,onCrosswordComplete:d.default.func,onCrosswordCorrect:d.default.func,onCellChange:d.default.func,onClueSelected:d.default.func,children:d.default.node};const k={allowNonSquare:!1,columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},A=c.default.forwardRef(({data:T,theme:F,onAnswerComplete:z,onAnswerCorrect:O,onCorrect:$,onAnswerIncorrect:L,onLoadedCorrect:G,onCrosswordComplete:x,onCrosswordCorrect:C,onCellChange:I,onClueSelected:R,useStorage:V,storageKey:j,children:b},Ce)=>{const be=(0,c.useContext)(m.ThemeContext),je=(0,c.useMemo)(()=>Object.assign(Object.assign(Object.assign({},k),be),F),[be,F]),{rows:xe,cols:de,gridData:Oe,clues:U}=(0,c.useMemo)(()=>{var ne;return(0,S.createGridData)(T,(ne=je.allowNonSquare)!==null&&ne!==void 0?ne:!1)},[T,je.allowNonSquare]),[J,Y]=(0,c.useState)([]),[K,te]=(0,c.useState)(),me=(0,c.useRef)(null),[q,De]=(0,c.useState)(!1),[oe,We]=(0,c.useState)(0),[ge,Ye]=(0,c.useState)(0),[Le,ot]=(0,c.useState)("across"),[Et,Xe]=(0,c.useState)("1"),[ft,nt]=(0,c.useState)(null),[Pt,Tt]=(0,c.useState)([]),st=(0,c.useCallback)((ne,ce)=>ne>=0&&ne<xe&&ce>=0&&ce<de?J[ne][ce]:{row:ne,col:ce,used:!1,outOfBounds:!0},[de,J,xe]),Ft=(0,c.useCallback)((ne,ce,pe)=>{const Re=st(ne,ce);if(!Re.used)throw new Error("unexpected setCellCharacter call");Re.guess!==pe&&(Y((0,p.default)(qe=>{qe[ne][ce].guess=pe})),Tt((0,p.default)(qe=>{qe.push({row:ne,col:ce})})),I&&I(ne,ce,pe))},[st,I]),vn=(0,c.useCallback)((ne,ce,pe,Re)=>{z&&z(ne,ce,pe,Re),pe?(O&&O(ne,ce,Re),$&&$(ne,ce,Re)):L&&L(ne,ce,Re)},[z,O,L,$]),jt=(0,c.useCallback)((ne,ce)=>{const pe=st(ne,ce);if(!pe.used)throw new Error("unexpected unused cell");S.bothDirections.forEach(Re=>{const qe=(0,S.isAcross)(Re),Je=pe[Re];if(!Je)return;const mt=T[Re][Je];let _t=!0,Wn=!0;for(let Gt=0;Gt<mt.answer.length;Gt++){const Hn=st(mt.row+(qe?0:Gt),mt.col+(qe?Gt:0));if(!Hn.guess){_t=!1,Wn=!1;break}Hn.guess!==Hn.answer&&(Wn=!1)}te((0,p.default)(Gt=>{if(Gt){const Hn=Gt[Re].find(Ut=>Ut.number===Je);Hn&&(Hn.complete=_t,Hn.correct=Wn)}})),_t&&vn(Re,Je,Wn,mt.answer)})},[T,st,vn]);(0,c.useEffect)(()=>{Pt.length!==0&&(Pt.forEach(({row:ne,col:ce})=>jt(ne,ce)),Tt([]))},[Pt,jt]);const{crosswordComplete:He,crosswordCorrect:lt}=(0,c.useMemo)(()=>{const ne=!!(K&&S.bothDirections.every(pe=>K[pe].every(Re=>Re.complete))),ce=ne&&!!(K&&S.bothDirections.every(pe=>K[pe].every(Re=>Re.correct)));return{crosswordComplete:ne,crosswordCorrect:ce}},[K]);(0,c.useEffect)(()=>{He&&(x&&x(lt),C&&C(lt))},[He,lt,x,C]);const pt=(0,c.useCallback)(()=>{me.current?(me.current(),De(!0)):console.warn("CrosswordProvider: focus() has no registered handler to call!")},[]),D=(0,c.useCallback)((ne,ce,pe)=>{var Re;let qe=pe??Le;const Je=st(ne,ce);return Je.used?(Je[qe]||(qe=(0,S.otherDirection)(qe)),We(ne),Ye(ce),ot(qe),Xe((Re=Je[qe])!==null&&Re!==void 0?Re:""),Je):!1},[Le,st]),H=(0,c.useCallback)((ne,ce)=>{let pe;return ne!==0&&ce===0?pe="down":ne===0&&ce!==0&&(pe="across"),D(oe+ne,ge+ce,pe)},[oe,ge,D]),ae=(0,c.useCallback)(()=>{const ne=(0,S.isAcross)(Le);H(ne?0:1,ne?1:0)},[Le,H]),re=(0,c.useCallback)(()=>{const ne=(0,S.isAcross)(Le);H(ne?0:-1,ne?-1:0)},[Le,H]),_e=(0,c.useCallback)(ne=>{Ft(oe,ge,ne.toUpperCase()),ae()},[oe,ge,Ft,ae]),Ie=(0,c.useCallback)(ne=>{var ce;if(ne.ctrlKey||ne.altKey||ne.metaKey)return;let pe=!0;const{key:Re}=ne;switch(Re){case"ArrowUp":H(-1,0);break;case"ArrowDown":H(1,0);break;case"ArrowLeft":H(0,-1);break;case"ArrowRight":H(0,1);break;case" ":case"Tab":{const qe=(0,S.otherDirection)(Le),Je=st(oe,ge);Je[qe]&&(ot(qe),Xe((ce=Je[qe])!==null&&ce!==void 0?ce:""));break}case"Backspace":case"Delete":{Ft(oe,ge,""),Re==="Backspace"&&re();break}case"Home":case"End":{const qe=T[Le][Et],{answer:{length:Je}}=qe;let{row:mt,col:_t}=qe;Re==="End"&&((0,S.isAcross)(Le)?_t+=Je-1:mt+=Je-1),D(mt,_t);break}default:if(Re.length!==1){pe=!1;break}_e(Re);break}pe&&ne.preventDefault()},[H,_e,Le,st,oe,ge,Ft,re,T,Et,D]),Ne=(0,c.useCallback)(ne=>{ne.preventDefault(),nt(ne.target.value)},[]);(0,c.useEffect)(()=>{ft&&(_e(ft[0]),nt(ft.length===1?null:ft.substring(1)))},[ft,_e]),(0,c.useEffect)(()=>{const ne=Oe.map(pe=>pe.map(Re=>Object.assign({},Re))),ce={across:U.across.map(pe=>Object.assign({},pe)),down:U.down.map(pe=>Object.assign({},pe))};V&&(0,S.loadGuesses)(ne,j||N),te(ce),Y(ne),V&&Tt(S.bothDirections.flatMap(pe=>ce[pe].map(({row:Re,col:qe})=>({row:Re,col:qe})))),We(0),Ye(0),ot("across"),Xe("1")},[U,Oe,j,V]),(0,c.useEffect)(()=>{J===null||!V||(0,S.saveGuesses)(J,j||N)},[J,j,V]);const ye=(0,c.useCallback)(ne=>{var ce;if(ne.used){const{row:pe,col:Re}=ne,qe=(0,S.otherDirection)(Le);We(pe),Ye(Re);let Je=Le;(!ne[Le]||q&&pe===oe&&Re===ge&&ne[qe])&&(ot(qe),Je=qe),Xe((ce=ne[Je])!==null&&ce!==void 0?ce:"")}pt()},[Le,pt,q,ge,oe]),ve=(0,c.useCallback)(()=>{var ne;const ce=(0,S.otherDirection)(Le),pe=st(oe,ge);let Re=Le;q&&pe[ce]&&(ot(ce),Re=ce),Xe((ne=pe[Re])!==null&&ne!==void 0?ne:""),pt()},[Le,pt,q,ge,oe,st]),le=(0,c.useCallback)((ne,ce)=>{const pe=K==null?void 0:K[ne].find(Re=>Re.number===ce);pe&&(D(pe.row,pe.col,ne),pt(),R&&R(ne,ce))},[K,pt,D,R]),ue=(0,c.useCallback)(ne=>{me.current=ne},[]);(0,c.useImperativeHandle)(Ce,()=>({focus:pt,reset:()=>{Y((0,p.default)(ne=>{ne.forEach(ce=>{ce.forEach(pe=>{pe.used&&(pe.guess="")})})})),te((0,p.default)(ne=>{S.bothDirections.forEach(ce=>{var pe;(pe=ne==null?void 0:ne[ce])===null||pe===void 0||pe.forEach(Re=>{delete Re.complete,delete Re.correct})})})),V&&(0,S.clearGuesses)(j||N)},fillAllAnswers:()=>{if(Y((0,p.default)(ne=>{ne.forEach(ce=>{ce.forEach(pe=>{pe.used&&(pe.guess=pe.answer)})})})),te((0,p.default)(ne=>{S.bothDirections.forEach(ce=>{ne==null||ne[ce].forEach(pe=>{pe.complete=!0,pe.correct=!0})})})),G){const ne=[];S.bothDirections.forEach(ce=>{K==null||K[ce].forEach(({number:pe,answer:Re})=>{ne.push([ce,pe,Re])})}),G(ne)}},isCrosswordCorrect:()=>lt,setGuess:(ne,ce,pe)=>{Ft(ne,ce,pe.toUpperCase())}}),[K,lt,pt,G,Ft,j,V]);const Ae=(0,c.useMemo)(()=>({rows:xe,cols:de,gridData:J,clues:K,handleInputKeyDown:Ie,handleInputChange:Ne,handleCellClick:ye,handleInputClick:ve,handleClueSelected:le,registerFocusHandler:ue,focused:q,selectedPosition:{row:oe,col:ge},selectedDirection:Le,selectedNumber:Et,crosswordCorrect:lt}),[xe,de,J,K,Ie,Ne,ye,ve,le,ue,q,oe,ge,Le,Et,lt]);return(0,a.jsx)(m.ThemeProvider,Object.assign({theme:je},{children:(0,a.jsx)(_.CrosswordContext.Provider,Object.assign({value:Ae},{children:b}))}))});n.default=A,A.displayName="CrosswordProvider",A.propTypes=n.crosswordProviderPropTypes,A.defaultProps={theme:void 0,useStorage:!0,storageKey:void 0,onAnswerComplete:void 0,onAnswerCorrect:void 0,onCorrect:void 0,onAnswerIncorrect:void 0,onLoadedCorrect:void 0,onCrosswordComplete:void 0,onCrosswordCorrect:void 0,onCellChange:void 0,onClueSelected:void 0,children:void 0}}(xr)),xr}var hr={},e0;function IT(){if(e0)return hr;e0=1;var n=hr&&hr.__createBinding||(Object.create?function(k,A,T,F){F===void 0&&(F=T);var z=Object.getOwnPropertyDescriptor(A,T);(!z||("get"in z?!A.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return A[T]}}),Object.defineProperty(k,F,z)}:function(k,A,T,F){F===void 0&&(F=T),k[F]=A[T]}),e=hr&&hr.__setModuleDefault||(Object.create?function(k,A){Object.defineProperty(k,"default",{enumerable:!0,value:A})}:function(k,A){k.default=A}),t=hr&&hr.__importStar||function(k){if(k&&k.__esModule)return k;var A={};if(k!=null)for(var T in k)T!=="default"&&Object.prototype.hasOwnProperty.call(k,T)&&n(A,k,T);return e(A,k),A},i=hr&&hr.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(hr,"__esModule",{value:!0});const o=so(),a=Mr(),c=i(uo()),d=t(Na),p=i(wT()),m=Da(),_={columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},w=d.default.div.attrs(()=>({className:"crossword grid"}))`
  /* position: relative; */
  /* min-width: 20rem; */
  /* max-width: 60rem; Should the size matter? */
  width: auto;
  flex: 2 1 50%;
`,S={theme:c.default.shape({columnBreakpoint:c.default.string,gridBackground:c.default.string,cellBackground:c.default.string,cellBorder:c.default.string,textColor:c.default.string,numberColor:c.default.string,focusBackground:c.default.string,highlightBackground:c.default.string})};function N({theme:k}){const{rows:A,cols:T,gridData:F,handleInputKeyDown:z,handleInputChange:O,handleCellClick:$,handleInputClick:L,registerFocusHandler:G,focused:x,selectedPosition:{row:C,col:I},selectedDirection:R,selectedNumber:V}=(0,a.useContext)(m.CrosswordContext),j=(0,a.useRef)(null),b=(0,a.useContext)(d.ThemeContext),Ce=(0,a.useCallback)(()=>{var De;(De=j.current)===null||De===void 0||De.focus()},[]);(0,a.useEffect)(()=>(G(Ce),()=>{G(null)}),[Ce,G]);const be=10,je=.125,xe=be-je*2,de=be/2,Oe=xe*.7,U=(0,a.useMemo)(()=>({cellSize:be,cellPadding:je,cellInner:xe,cellHalf:de,fontSize:Oe}),[be,je,xe,de,Oe]),J=(0,a.useMemo)(()=>A*be,[A]),Y=(0,a.useMemo)(()=>T*be,[T]),K=(0,a.useMemo)(()=>100/T,[T]),te=(0,a.useMemo)(()=>100/A,[A]),me=(0,a.useMemo)(()=>({position:"absolute",top:`calc(${C*te*.995}% + 2px)`,left:`calc(${I*K}% + 2px)`,width:`calc(${K}% - 4px)`,height:`calc(${te}% - 4px)`,fontSize:`${Oe*6}px`,textAlign:"center",textAnchor:"middle",backgroundColor:"transparent",caretColor:"transparent",margin:0,padding:0,border:0,cursor:"default"}),[K,te,C,I,Oe]),q=(0,a.useMemo)(()=>Object.assign(Object.assign(Object.assign({},_),b),k),[b,k]);return(0,o.jsx)(m.CrosswordSizeContext.Provider,Object.assign({value:U},{children:(0,o.jsx)(d.ThemeProvider,Object.assign({theme:q},{children:(0,o.jsx)(w,{children:(0,o.jsxs)("div",Object.assign({style:{margin:0,padding:0,position:"relative"}},{children:[(0,o.jsxs)("svg",Object.assign({viewBox:`0 0 ${Y} ${J}`},{children:[(0,o.jsx)("rect",{x:0,y:0,width:Y,height:J,fill:q.gridBackground}),F.flatMap((De,oe)=>De.map((We,ge)=>We.used?(0,o.jsx)(p.default,{cellData:We,focus:x&&oe===C&&ge===I,highlight:x&&!!V&&We[R]===V,onClick:$},`R${oe}C${ge}`):void 0))]})),(0,o.jsx)("input",{ref:j,"aria-label":"crossword-input",type:"text",onClick:L,onKeyDown:z,onChange:O,value:"",autoComplete:"off",spellCheck:"false",autoCorrect:"off",style:me})]}))})}))}))}return hr.default=N,N.propTypes=S,N.defaultProps={theme:null},hr}var t0;function DO(){if(t0)return zn;t0=1;var n=zn&&zn.__createBinding||(Object.create?function(A,T,F,z){z===void 0&&(z=F);var O=Object.getOwnPropertyDescriptor(T,F);(!O||("get"in O?!T.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return T[F]}}),Object.defineProperty(A,z,O)}:function(A,T,F,z){z===void 0&&(z=F),A[z]=T[F]}),e=zn&&zn.__setModuleDefault||(Object.create?function(A,T){Object.defineProperty(A,"default",{enumerable:!0,value:T})}:function(A,T){A.default=T}),t=zn&&zn.__importStar||function(A){if(A&&A.__esModule)return A;var T={};if(A!=null)for(var F in A)F!=="default"&&Object.prototype.hasOwnProperty.call(A,F)&&n(T,A,F);return e(T,A),T},i=zn&&zn.__rest||function(A,T){var F={};for(var z in A)Object.prototype.hasOwnProperty.call(A,z)&&T.indexOf(z)<0&&(F[z]=A[z]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,z=Object.getOwnPropertySymbols(A);O<z.length;O++)T.indexOf(z[O])<0&&Object.prototype.propertyIsEnumerable.call(A,z[O])&&(F[z[O]]=A[z[O]]);return F},o=zn&&zn.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(zn,"__esModule",{value:!0});const a=so(),c=t(Mr()),d=o(uo()),p=o(Na),m=t(ST()),_=o(IT()),w=o(TT()),S=p.default.div.attrs(()=>({className:"clues"}))`
  padding: 0 1em;
  flex: 1 2 25%;

  @media (max-width: ${A=>A.theme.columnBreakpoint}) {
    margin-top: 2em;
  }

  .direction {
    margin-bottom: 2em;
    /* padding: 0 1em;
    flex: 1 1 20%; */

    .header {
      margin-top: 0;
      margin-bottom: 0.5em;
    }

    div {
      margin-top: 0.5em;
    }
  }
`,N=Object.assign(Object.assign({},m.crosswordProviderPropTypes),{acrossLabel:d.default.string,downLabel:d.default.string});delete N.children;const k=c.default.forwardRef((A,T)=>{var{acrossLabel:F,downLabel:z}=A,O=i(A,["acrossLabel","downLabel"]);const $=(0,c.useRef)(null);return(0,c.useImperativeHandle)(T,()=>({focus:()=>{var L;return(L=$.current)===null||L===void 0?void 0:L.focus()},reset:()=>{var L;return(L=$.current)===null||L===void 0?void 0:L.reset()},fillAllAnswers:()=>{var L;return(L=$.current)===null||L===void 0?void 0:L.fillAllAnswers()},isCrosswordCorrect:()=>{var L;return!!(!((L=$.current)===null||L===void 0)&&L.isCrosswordCorrect())},setGuess:(L,G,x)=>{var C;return(C=$.current)===null||C===void 0?void 0:C.setGuess(L,G,x)}}),[]),(0,a.jsxs)(m.default,Object.assign({},O,{ref:$},{children:[(0,a.jsx)(_.default,{}),(0,a.jsxs)(S,{children:[(0,a.jsx)(w.default,{direction:"across",label:F}),(0,a.jsx)(w.default,{direction:"down",label:z})]})]}))});return k.displayName="Crossword",k.propTypes=N,k.defaultProps=Object.assign(Object.assign({},m.default.defaultProps),{acrossLabel:void 0,downLabel:void 0}),zn.default=k,zn}var br={},n0;function LO(){if(n0)return br;n0=1,Object.defineProperty(br,"__esModule",{value:!0}),br.convertIpuz=br.isSupportedIpuz=br.isIpuzData=br.useIpuz=void 0;const n=Mr(),e="http://ipuz.org",t=`${e}/v`,i=2,o=`${e}/crossword#`,a=1,c={Across:"across",Down:"down"};function d(w){return(0,n.useMemo)(()=>p(w)?m(w)?_(w):(console.error("useIpuz() was not given supported IPUZ data"),null):(console.error("useIpuz() was not given IPUZ data"),null),[w])}br.useIpuz=d;function p(w){return!!w&&typeof w=="object"&&"version"in w&&typeof w.version=="string"&&w.version.startsWith(t)}br.isIpuzData=p;function m(w){return!(Number.parseInt(w.version.substring(t.length),10)>i||w.kind.length!==1||!w.kind[0].startsWith(o)||Number.parseInt(w.kind[0].substring(o.length),10)>a)}br.isSupportedIpuz=m;function _(w){const S=w.puzzle.reduce((k,A,T)=>A.reduce((F,z,O)=>{var $;const L=typeof z=="object"?($=z==null?void 0:z.cell)!==null&&$!==void 0?$:-1:z;return F[L.toString()]={row:T,col:O},F},k),{});return Object.fromEntries(Object.entries(w.clues).map(([k,A])=>{const T=A.reduce((F,[z,O])=>{const{row:$,col:L}=S[z.toString()];let G="";const x=k==="Across"?0:1,C=k==="Across"?1:0;for(let I=$,R=L;I<w.dimensions.height&&R<w.dimensions.width;I+=x,R+=C){const V=w.solution[I][R];if(!V||V==="#")break;G+=V}return F[z.toString()]={clue:O,answer:G,row:$,col:L},F},{});return[c[k],T]}))}return br.convertIpuz=_,br}var r0;function VO(){return r0||(r0=1,function(n){var e=_l&&_l.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(n,"__esModule",{value:!0}),n.useIpuz=n.ThemeProvider=n.CrosswordSizeContext=n.CrosswordContext=n.CrosswordProvider=n.CrosswordGrid=n.Crossword=n.DirectionClues=n.Clue=n.Cell=void 0;const t=Na;Object.defineProperty(n,"ThemeProvider",{enumerable:!0,get:function(){return t.ThemeProvider}});const i=e(wT());n.Cell=i.default;const o=e(ET());n.Clue=o.default;const a=e(TT());n.DirectionClues=a.default;const c=e(DO());n.Crossword=c.default;const d=e(IT());n.CrosswordGrid=d.default;const p=e(ST());n.CrosswordProvider=p.default;const m=Da();Object.defineProperty(n,"CrosswordContext",{enumerable:!0,get:function(){return m.CrosswordContext}}),Object.defineProperty(n,"CrosswordSizeContext",{enumerable:!0,get:function(){return m.CrosswordSizeContext}});const _=LO();Object.defineProperty(n,"useIpuz",{enumerable:!0,get:function(){return _.useIpuz}}),n.default=c.default}(_l)),_l}var MO=VO();const xm=Ul(MO);function FO(){const{user:n}=ru(),{puzzleId:e}=p0();$l();const[t,i]=Q.useState(null),[o,a]=Q.useState(!0);if(Q.useEffect(()=>{async function d(){a(!0);const m=(await aT(n.uid)).find(_=>_.id===e);i(m||null),a(!1)}n&&e&&d()},[n,e]),o)return he.jsx("div",{children:"Loading puzzle..."});if(!t)return he.jsx("div",{children:"Puzzle not found."});const c={across:{},down:{}};return t.layout.entries.forEach(d=>{const p=d.direction==="across"?"across":"down";c[p][d.number]={answer:d.answer,clue:d.clue,row:d.row,col:d.col}}),he.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:24},children:[he.jsxs("h2",{children:["Puzzle: ",t.size,"x",t.size]}),he.jsx(xm,{data:c})]})}const i0=[10,15,20,25,30];function jO(n){const{user:e,logout:t}=ru(),[i,o]=Q.useState([]),[a,c]=Q.useState([]),[d,p]=Q.useState(!0),[m,_]=Q.useState(i0[0]),[w,S]=Q.useState(!1),[N,k]=Q.useState(!1),[A,T]=Q.useState([]),[F,z]=Q.useState(!1),[O,$]=Q.useState(null),L=$l();Q.useEffect(()=>{async function R(){p(!0);const[j,b]=await Promise.all([oT(),aT(e.uid)]);o(j),c(b),p(!1)}e&&R();async function V(){z(!0);try{const j=await Lh(eu(tr,"fullPuzzles"));T(j.docs.map(b=>({id:b.id,...b.data()})))}catch{}z(!1)}V()},[e]);async function G(R){R.preventDefault(),S(!0);let V=[];i.forEach(Ce=>{const be=Math.round(Ce.weighting*m*m/2),je=Ce.words.slice().sort(()=>.5-Math.random());V.push(...je.slice(0,be))});let j;try{j=xb({entries:V.map(Ce=>({answer:Ce.word.toUpperCase(),clue:Ce.clue})),gridSize:m})}catch{S(!1),alert("Failed to generate puzzle. Try a different size or word set.");return}const b={id:Ab(),size:m,dateCreated:new Date().toISOString(),lastAccessed:new Date().toISOString(),percentComplete:0,layout:j,usedWords:j.entries.map(Ce=>Ce.answer)};await gb(e.uid,b),c(Ce=>[...Ce,b]),S(!1)}function x(R){L(`/puzzle/${R}`)}function C(R){sessionStorage.setItem("selectedFullPuzzle",JSON.stringify(R)),L(`/fullpuzzle/${R.id}`)}const I=async()=>{k(!0);try{await t()}finally{k(!1)}};return d?he.jsx("div",{children:"Loading..."}):N?he.jsx("div",{children:"Logging out..."}):he.jsxs("div",{children:[he.jsxs("h2",{children:["Welcome, ",e==null?void 0:e.email]}),he.jsx("button",{onClick:I,children:"Log out"}),(e==null?void 0:e.admin)&&he.jsx("button",{style:{marginLeft:16},onClick:()=>L("/admin"),children:"Admin"}),he.jsx("hr",{}),he.jsx("h3",{children:"Generate New Puzzle"}),he.jsxs("form",{onSubmit:G,style:{marginBottom:24},children:[he.jsxs("label",{children:["Puzzle Size:",he.jsx("select",{value:m,onChange:R=>_(Number(R.target.value)),children:i0.map(R=>he.jsxs("option",{value:R,children:[R," x ",R]},R))})]}),he.jsx("button",{type:"submit",disabled:w,style:{marginLeft:12},children:w?"Generating...":"Generate"})]}),he.jsx("h3",{children:"Word Sets"}),he.jsx("ul",{children:i.map(R=>he.jsxs("li",{children:[R.category," (weight: ",R.weighting,")"]},R.id))}),he.jsx("h3",{children:"Saved Puzzles"}),he.jsxs("ul",{children:[a.length===0&&he.jsx("li",{children:"No saved puzzles yet."}),a.length>0?a.map(R=>he.jsxs("li",{children:[R.size,"x",R.size," - ",R.dateCreated," - ",R.percentComplete||0,"% complete",he.jsx("button",{style:{marginLeft:8},onClick:()=>x(R.id),children:"Continue"})]},R.id)):null]}),he.jsx("hr",{}),he.jsxs("div",{children:[he.jsx("h3",{children:"Load Pre-made Crossword Puzzle"}),F?he.jsx("div",{children:"Loading full puzzles..."}):he.jsxs(he.Fragment,{children:[A.length===0&&he.jsx("div",{children:"No pre-made puzzles available."}),A.length>0&&he.jsx("ul",{children:A.map(R=>he.jsxs("li",{children:[R.title||R.id,he.jsx("button",{style:{marginLeft:8},onClick:()=>C(R),children:"Load"})]},R.id))}),O&&he.jsxs("div",{style:{marginTop:24},children:[he.jsxs("h4",{children:["Preview: ",O.title||O.id]}),he.jsx("div",{style:{maxWidth:600},children:he.jsx(xm,{data:O.data||O})}),he.jsx("button",{style:{marginTop:12},onClick:()=>$(null),children:"Close"})]})]})]})]})}function UO(){return he.jsxs(y0,{children:[he.jsx(Qs,{path:"/",element:he.jsx(jO,{})}),he.jsx(Qs,{path:"/fullpuzzle/:puzzleId",element:he.jsx(zO,{})})]})}function zO(){const{puzzleId:n}=p0();let e=null;try{e=JSON.parse(sessionStorage.getItem("selectedFullPuzzle"))}catch{e=null}if(!e||e.id!==n)return he.jsx("div",{children:"Puzzle not found or not loaded from dashboard."});const t=e.data||e;return he.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:24},children:[he.jsx("h2",{children:e.title||"Pre-made Puzzle"}),he.jsx(xm,{data:t})]})}const $O="modulepreload",BO=function(n){return"/crossworder/"+n},s0={},o0=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(m){return Promise.all(m.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(t.map(m=>{if(m=BO(m),m in s0)return;s0[m]=!0;const _=m.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":$O,_||(S.as="script"),S.crossOrigin="",S.href=m,p&&S.setAttribute("nonce",p),document.head.appendChild(S),_)return new Promise((N,k)=>{S.addEventListener("load",N),S.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};function WO(){const[n,e]=Q.useState([]),[t,i]=Q.useState(!0),[o,a]=Q.useState(""),[c,d]=Q.useState(""),[p,m]=Q.useState(1),[_,w]=Q.useState([]),[S,N]=Q.useState(!1);Q.useEffect(()=>{async function J(){i(!0);try{const K=await Gs();e(K)}catch{a("Failed to load word sets")}i(!1)}J();async function Y(){N(!0);try{const K=await Lh(eu(tr,"fullPuzzles"));w(K.docs.map(te=>({id:te.id,...te.data()})))}catch{a("Failed to load full puzzles")}N(!1)}Y()},[]);const k=async()=>{if(c){i(!0);try{await yb({name:c,weighting:p}),d(""),m(1);const J=await Gs();e(J)}catch{a("Failed to add word set")}i(!1)}},A=async(J,Y,K)=>{i(!0);try{await vb(J,{name:Y,weighting:K});const te=await Gs();e(te)}catch{a("Failed to update word set")}i(!1)},T=async J=>{if(window.confirm("Delete this word set? This cannot be undone.")){i(!0);try{await _b(J);const Y=await Gs();e(Y)}catch{a("Failed to delete word set")}i(!1)}},F=async(J,Y,K)=>{i(!0);try{await wb(J,{word:Y,clue:K});const te=await Gs();e(te)}catch{a("Failed to add word")}i(!1)},z=async(J,Y,K,te)=>{i(!0);try{await Eb(J,Y,{word:K,clue:te});const me=await Gs();e(me)}catch{a("Failed to update word")}i(!1)},O=async(J,Y)=>{if(window.confirm("Delete this word?")){i(!0);try{await Tb(J,Y);const K=await Gs();e(K)}catch{a("Failed to delete word")}i(!1)}},$=async J=>{const Y=Array.from(J.target.files);i(!0);try{for(const K of Y){const te=await K.text();let me;try{me=JSON.parse(te)}catch{a(`Invalid JSON in file: ${K.name}`);continue}const{getFirestore:q,collection:De,addDoc:oe}=await o0(async()=>{const{getFirestore:ge,collection:Ye,addDoc:Le}=await Promise.resolve().then(()=>cb);return{getFirestore:ge,collection:Ye,addDoc:Le}},[]),{db:We}=await o0(async()=>{const{db:ge}=await Promise.resolve().then(()=>db);return{db:ge}},void 0);await oe(De(We,"fullPuzzles"),me)}a(""),alert("Puzzles uploaded successfully!")}catch{a("Failed to upload puzzles")}i(!1)},[L,G]=Q.useState(null),[x,C]=Q.useState(""),[I,R]=Q.useState(1),[V,j]=Q.useState(""),[b,Ce]=Q.useState(""),[be,je]=Q.useState(null),[xe,de]=Q.useState(""),[Oe,U]=Q.useState("");return t?he.jsx("div",{children:"Loading..."}):o?he.jsx("div",{children:o}):he.jsxs("div",{children:[he.jsx("h2",{children:"Admin: Manage Word Sets"}),he.jsxs("div",{children:[he.jsx("input",{type:"text",placeholder:"New set name",value:c??"",onChange:J=>d(J.target.value)}),he.jsx("input",{type:"number",min:1,max:100,value:p??1,onChange:J=>m(Number(J.target.value))}),he.jsx("button",{onClick:k,children:"Add Word Set"})]}),he.jsx("hr",{}),n.map(J=>he.jsxs("div",{style:{border:"1px solid #ccc",margin:"1em 0",padding:"1em"},children:[L===J.id?he.jsxs("div",{children:[he.jsx("input",{type:"text",value:x??"",onChange:Y=>C(Y.target.value)}),he.jsx("input",{type:"number",min:1,max:100,value:I??1,onChange:Y=>R(Number(Y.target.value))}),he.jsx("button",{onClick:()=>{A(J.id,x,I),G(null)},children:"Save"}),he.jsx("button",{onClick:()=>G(null),children:"Cancel"})]}):he.jsxs("div",{children:[he.jsx("b",{children:J.name})," (weight: ",J.weighting,")",he.jsx("button",{onClick:()=>{G(J.id),C(J.name),R(J.weighting)},children:"Edit"}),he.jsx("button",{onClick:()=>T(J.id),children:"Delete"})]}),he.jsxs("div",{style:{marginTop:"1em"},children:[he.jsx("h4",{children:"Words/Clues"}),he.jsx("ul",{children:(J.words||[]).map((Y,K)=>he.jsx("li",{children:be===`${J.id}-${K}`?he.jsxs(he.Fragment,{children:[he.jsx("input",{type:"text",value:xe??"",onChange:te=>de(te.target.value),placeholder:"Word"}),he.jsx("input",{type:"text",value:Oe??"",onChange:te=>U(te.target.value),placeholder:"Clue"}),he.jsx("button",{onClick:()=>{z(J.id,Y,xe,Oe),je(null)},children:"Save"}),he.jsx("button",{onClick:()=>je(null),children:"Cancel"})]}):he.jsxs(he.Fragment,{children:[he.jsx("b",{children:Y.word}),": ",Y.clue,he.jsx("button",{onClick:()=>{je(`${J.id}-${K}`),de(Y.word),U(Y.clue)},children:"Edit"}),he.jsx("button",{onClick:()=>O(J.id,Y),children:"Delete"})]})},K))}),he.jsxs("div",{children:[he.jsx("input",{type:"text",placeholder:"New word",value:V??"",onChange:Y=>j(Y.target.value)}),he.jsx("input",{type:"text",placeholder:"New clue",value:b??"",onChange:Y=>Ce(Y.target.value)}),he.jsx("button",{onClick:()=>{F(J.id,V,b),j(""),Ce("")},children:"Add Word"})]})]})]},J.id)),he.jsx("hr",{}),he.jsxs("div",{children:[he.jsx("h3",{children:"Upload Full Crossword Puzzles (JSON)"}),he.jsx("input",{type:"file",accept:"application/json",multiple:!0,onChange:$})]})]})}function HO(){return he.jsx(fb,{children:he.jsx(YI,{children:he.jsxs(y0,{children:[he.jsx(Qs,{path:"/login",element:he.jsx(mb,{})}),he.jsx(Qs,{path:"/admin",element:he.jsx(pb,{children:he.jsx(WO,{})})}),he.jsx(Qs,{path:"/puzzle/:puzzleId",element:he.jsx(P_,{children:he.jsx(FO,{})})}),he.jsx(Qs,{path:"/*",element:he.jsx(P_,{children:he.jsx(UO,{})})})]})})})}VS.createRoot(document.getElementById("root")).render(he.jsx(Q.StrictMode,{children:he.jsx(HO,{})}));
