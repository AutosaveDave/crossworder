(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Zl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function e1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var Of={exports:{}},kl={},Lf={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function t1(){if(lv)return dt;lv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function w(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function T(b,ne,ee){this.props=b,this.context=ne,this.refs=I,this.updater=ee||A}T.prototype.isReactComponent={},T.prototype.setState=function(b,ne){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,ne,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function D(){}D.prototype=T.prototype;function F(b,ne,ee){this.props=b,this.context=ne,this.refs=I,this.updater=ee||A}var z=F.prototype=new D;z.constructor=F,C(z,T.prototype),z.isPureReactComponent=!0;var Y=Array.isArray,B=Object.prototype.hasOwnProperty,we={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function k(b,ne,ee){var X,ue={},ke=null,G=null;if(ne!=null)for(X in ne.ref!==void 0&&(G=ne.ref),ne.key!==void 0&&(ke=""+ne.key),ne)B.call(ne,X)&&!V.hasOwnProperty(X)&&(ue[X]=ne[X]);var oe=arguments.length-2;if(oe===1)ue.children=ee;else if(1<oe){for(var K=Array(oe),Ne=0;Ne<oe;Ne++)K[Ne]=arguments[Ne+2];ue.children=K}if(b&&b.defaultProps)for(X in oe=b.defaultProps,oe)ue[X]===void 0&&(ue[X]=oe[X]);return{$$typeof:n,type:b,key:ke,ref:G,props:ue,_owner:we.current}}function x(b,ne){return{$$typeof:n,type:b.type,key:ne,ref:b.ref,props:b.props,_owner:b._owner}}function N(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function O(b){var ne={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ee){return ne[ee]})}var j=/\/+/g;function R(b,ne){return typeof b=="object"&&b!==null&&b.key!=null?O(""+b.key):ne.toString(36)}function de(b,ne,ee,X,ue){var ke=typeof b;(ke==="undefined"||ke==="boolean")&&(b=null);var G=!1;if(b===null)G=!0;else switch(ke){case"string":case"number":G=!0;break;case"object":switch(b.$$typeof){case n:case e:G=!0}}if(G)return G=b,ue=ue(G),b=X===""?"."+R(G,0):X,Y(ue)?(ee="",b!=null&&(ee=b.replace(j,"$&/")+"/"),de(ue,ne,ee,"",function(Ne){return Ne})):ue!=null&&(N(ue)&&(ue=x(ue,ee+(!ue.key||G&&G.key===ue.key?"":(""+ue.key).replace(j,"$&/")+"/")+b)),ne.push(ue)),1;if(G=0,X=X===""?".":X+":",Y(b))for(var oe=0;oe<b.length;oe++){ke=b[oe];var K=X+R(ke,oe);G+=de(ke,ne,ee,K,ue)}else if(K=w(b),typeof K=="function")for(b=K.call(b),oe=0;!(ke=b.next()).done;)ke=ke.value,K=X+R(ke,oe++),G+=de(ke,ne,ee,K,ue);else if(ke==="object")throw ne=String(b),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return G}function pe(b,ne,ee){if(b==null)return b;var X=[],ue=0;return de(b,X,"","",function(ke){return ne.call(ee,ke,ue++)}),X}function ge(b){if(b._status===-1){var ne=b._result;ne=ne(),ne.then(function(ee){(b._status===0||b._status===-1)&&(b._status=1,b._result=ee)},function(ee){(b._status===0||b._status===-1)&&(b._status=2,b._result=ee)}),b._status===-1&&(b._status=0,b._result=ne)}if(b._status===1)return b._result.default;throw b._result}var Ee={current:null},Q={transition:null},ye={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Q,ReactCurrentOwner:we};return dt.Children={map:pe,forEach:function(b,ne,ee){pe(b,function(){ne.apply(this,arguments)},ee)},count:function(b){var ne=0;return pe(b,function(){ne++}),ne},toArray:function(b){return pe(b,function(ne){return ne})||[]},only:function(b){if(!N(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},dt.Component=T,dt.Fragment=t,dt.Profiler=o,dt.PureComponent=F,dt.StrictMode=i,dt.Suspense=f,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,dt.cloneElement=function(b,ne,ee){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var X=C({},b.props),ue=b.key,ke=b.ref,G=b._owner;if(ne!=null){if(ne.ref!==void 0&&(ke=ne.ref,G=we.current),ne.key!==void 0&&(ue=""+ne.key),b.type&&b.type.defaultProps)var oe=b.type.defaultProps;for(K in ne)B.call(ne,K)&&!V.hasOwnProperty(K)&&(X[K]=ne[K]===void 0&&oe!==void 0?oe[K]:ne[K])}var K=arguments.length-2;if(K===1)X.children=ee;else if(1<K){oe=Array(K);for(var Ne=0;Ne<K;Ne++)oe[Ne]=arguments[Ne+2];X.children=oe}return{$$typeof:n,type:b.type,key:ue,ref:ke,props:X,_owner:G}},dt.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:a,_context:b},b.Consumer=b},dt.createElement=k,dt.createFactory=function(b){var ne=k.bind(null,b);return ne.type=b,ne},dt.createRef=function(){return{current:null}},dt.forwardRef=function(b){return{$$typeof:d,render:b}},dt.isValidElement=N,dt.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:ge}},dt.memo=function(b,ne){return{$$typeof:m,type:b,compare:ne===void 0?null:ne}},dt.startTransition=function(b){var ne=Q.transition;Q.transition={};try{b()}finally{Q.transition=ne}},dt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},dt.useCallback=function(b,ne){return Ee.current.useCallback(b,ne)},dt.useContext=function(b){return Ee.current.useContext(b)},dt.useDebugValue=function(){},dt.useDeferredValue=function(b){return Ee.current.useDeferredValue(b)},dt.useEffect=function(b,ne){return Ee.current.useEffect(b,ne)},dt.useId=function(){return Ee.current.useId()},dt.useImperativeHandle=function(b,ne,ee){return Ee.current.useImperativeHandle(b,ne,ee)},dt.useInsertionEffect=function(b,ne){return Ee.current.useInsertionEffect(b,ne)},dt.useLayoutEffect=function(b,ne){return Ee.current.useLayoutEffect(b,ne)},dt.useMemo=function(b,ne){return Ee.current.useMemo(b,ne)},dt.useReducer=function(b,ne,ee){return Ee.current.useReducer(b,ne,ee)},dt.useRef=function(b){return Ee.current.useRef(b)},dt.useState=function(b){return Ee.current.useState(b)},dt.useSyncExternalStore=function(b,ne,ee){return Ee.current.useSyncExternalStore(b,ne,ee)},dt.useTransition=function(){return Ee.current.useTransition()},dt.version="18.2.0",dt}var uv;function $r(){return uv||(uv=1,Lf.exports=t1()),Lf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function n1(){if(cv)return kl;cv=1;var n=$r(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var v,E={},w=null,A=null;m!==void 0&&(w=""+m),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:d,key:w,ref:A,props:E,_owner:o.current}}return kl.Fragment=t,kl.jsx=c,kl.jsxs=c,kl}var hv;function fo(){return hv||(hv=1,Of.exports=n1()),Of.exports}var U=fo(),W=$r();const rr=Zl(W);var Nc={},Vf={exports:{}},Un={},Mf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function r1(){return dv||(dv=1,function(n){function e(Q,ye){var b=Q.length;Q.push(ye);e:for(;0<b;){var ne=b-1>>>1,ee=Q[ne];if(0<o(ee,ye))Q[ne]=ye,Q[b]=ee,b=ne;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ye=Q[0],b=Q.pop();if(b!==ye){Q[0]=b;e:for(var ne=0,ee=Q.length,X=ee>>>1;ne<X;){var ue=2*(ne+1)-1,ke=Q[ue],G=ue+1,oe=Q[G];if(0>o(ke,b))G<ee&&0>o(oe,ke)?(Q[ne]=oe,Q[G]=b,ne=G):(Q[ne]=ke,Q[ue]=b,ne=ue);else if(G<ee&&0>o(oe,b))Q[ne]=oe,Q[G]=b,ne=G;else break e}}return ye}function o(Q,ye){var b=Q.sortIndex-ye.sortIndex;return b!==0?b:Q.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],m=[],v=1,E=null,w=3,A=!1,C=!1,I=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Q){for(var ye=t(m);ye!==null;){if(ye.callback===null)i(m);else if(ye.startTime<=Q)i(m),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=t(m)}}function Y(Q){if(I=!1,z(Q),!C)if(t(f)!==null)C=!0,ge(B);else{var ye=t(m);ye!==null&&Ee(Y,ye.startTime-Q)}}function B(Q,ye){C=!1,I&&(I=!1,D(k),k=-1),A=!0;var b=w;try{for(z(ye),E=t(f);E!==null&&(!(E.expirationTime>ye)||Q&&!O());){var ne=E.callback;if(typeof ne=="function"){E.callback=null,w=E.priorityLevel;var ee=ne(E.expirationTime<=ye);ye=n.unstable_now(),typeof ee=="function"?E.callback=ee:E===t(f)&&i(f),z(ye)}else i(f);E=t(f)}if(E!==null)var X=!0;else{var ue=t(m);ue!==null&&Ee(Y,ue.startTime-ye),X=!1}return X}finally{E=null,w=b,A=!1}}var we=!1,V=null,k=-1,x=5,N=-1;function O(){return!(n.unstable_now()-N<x)}function j(){if(V!==null){var Q=n.unstable_now();N=Q;var ye=!0;try{ye=V(!0,Q)}finally{ye?R():(we=!1,V=null)}}else we=!1}var R;if(typeof F=="function")R=function(){F(j)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,pe=de.port2;de.port1.onmessage=j,R=function(){pe.postMessage(null)}}else R=function(){T(j,0)};function ge(Q){V=Q,we||(we=!0,R())}function Ee(Q,ye){k=T(function(){Q(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){C||A||(C=!0,ge(B))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ye=3;break;default:ye=w}var b=w;w=ye;try{return Q()}finally{w=b}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ye){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var b=w;w=Q;try{return ye()}finally{w=b}},n.unstable_scheduleCallback=function(Q,ye,b){var ne=n.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?ne+b:ne):b=ne,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=b+ee,Q={id:v++,callback:ye,priorityLevel:Q,startTime:b,expirationTime:ee,sortIndex:-1},b>ne?(Q.sortIndex=b,e(m,Q),t(f)===null&&Q===t(m)&&(I?(D(k),k=-1):I=!0,Ee(Y,b-ne))):(Q.sortIndex=ee,e(f,Q),C||A||(C=!0,ge(B))),Q},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Q){var ye=w;return function(){var b=w;w=ye;try{return Q.apply(this,arguments)}finally{w=b}}}}(jf)),jf}var fv;function i1(){return fv||(fv=1,Mf.exports=r1()),Mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function s1(){if(pv)return Un;pv=1;var n=$r(),e=i1();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function w(r){return f.call(E,r)?!0:f.call(v,r)?!1:m.test(r)?E[r]=!0:(v[r]=!0,!1)}function A(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,l,h){if(s===null||typeof s>"u"||A(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function I(r,s,l,h,p,y,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=S}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){T[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];T[s]=new I(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){T[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){T[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){T[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){T[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){T[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){T[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){T[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(D,F);T[s]=new I(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(D,F);T[s]=new I(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(D,F);T[s]=new I(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){T[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),T.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){T[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function z(r,s,l,h){var p=T.hasOwnProperty(s)?T[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,p,h)&&(l=null),h||p===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),we=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var b=Object.assign,ne;function ee(r){if(ne===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ne=s&&s[1]||""}return`
`+ne+r}var X=!1;function ue(r,s){if(!r||X)return"";X=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(se){var h=se}Reflect.construct(r,[],s)}else{try{s.call()}catch(se){h=se}r.call(s.prototype)}else{try{throw Error()}catch(se){h=se}r()}}catch(se){if(se&&h&&typeof se.stack=="string"){for(var p=se.stack.split(`
`),y=h.stack.split(`
`),S=p.length-1,M=y.length-1;1<=S&&0<=M&&p[S]!==y[M];)M--;for(;1<=S&&0<=M;S--,M--)if(p[S]!==y[M]){if(S!==1||M!==1)do if(S--,M--,0>M||p[S]!==y[M]){var $=`
`+p[S].replace(" at new "," at ");return r.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",r.displayName)),$}while(1<=S&&0<=M);break}}}finally{X=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?ee(r):""}function ke(r){switch(r.tag){case 5:return ee(r.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function G(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case V:return"Fragment";case we:return"Portal";case x:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case de:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pe:return s=r.displayName||null,s!==null?s:G(r.type)||"Memo";case ge:s=r._payload,r=r._init;try{return G(r(s))}catch{}}return null}function oe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(s);case 8:return s===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function K(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ne(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fe(r){var s=Ne(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ae(r){r._valueTracker||(r._valueTracker=fe(r))}function xe(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ne(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function Ye(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nt(r,s){var l=s.checked;return b({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ge(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=K(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function tt(r,s){s=s.checked,s!=null&&z(r,"checked",s,!1)}function He(r,s){tt(r,s);var l=K(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?wt(r,s.type,l):s.hasOwnProperty("defaultValue")&&wt(r,s.type,K(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ut(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function wt(r,s,l){(s!=="number"||Ye(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Xe=Array.isArray;function Nt(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+K(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function wn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return b({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function zt(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Xe(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:K(l)}}function Qe(r,s){var l=K(s.value),h=K(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function ht(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var H,ce=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(H=H||document.createElement("div"),H.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=H.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ie(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},De=["Webkit","ms","Moz","O"];Object.keys(Ae).forEach(function(r){De.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ae[s]=Ae[r]})});function je(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ae.hasOwnProperty(r)&&Ae[r]?(""+s).trim():s+"px"}function Ie(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=je(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Ce=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(r,s){if(s){if(Ce[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function me(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Le=null;function re(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ve=null,Se=null,Ve=null;function Je(r){if(r=pl(r)){if(typeof ve!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ku(s),ve(r.stateNode,r.type,s))}}function rt(r){Se?Ve?Ve.push(r):Ve=[r]:Se=r}function yt(){if(Se){var r=Se,s=Ve;if(Ve=Se=null,Je(r),s)for(r=0;r<s.length;r++)Je(s[r])}}function Tt(r,s){return r(s)}function Hn(){}var Qt=!1;function Gn(r,s,l){if(Qt)return r(s,l);Qt=!0;try{return Tt(r,s,l)}finally{Qt=!1,(Se!==null||Ve!==null)&&(Hn(),yt())}}function Ut(r,s){var l=r.stateNode;if(l===null)return null;var h=Ku(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Eo=!1;if(d)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Eo=!1}function bs(r,s,l,h,p,y,S,M,$){var se=Array.prototype.slice.call(arguments,3);try{s.apply(l,se)}catch(Re){this.onError(Re)}}var Ds=!1,To=null,wr=!1,Ka=null,ad={onError:function(r){Ds=!0,To=r}};function So(r,s,l,h,p,y,S,M,$){Ds=!1,To=null,bs.apply(ad,arguments)}function _u(r,s,l,h,p,y,S,M,$){if(So.apply(this,arguments),Ds){if(Ds){var se=To;Ds=!1,To=null}else throw Error(t(198));wr||(wr=!0,Ka=se)}}function Er(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Ns(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Tr(r){if(Er(r)!==r)throw Error(t(188))}function wu(r){var s=r.alternate;if(!s){if(s=Er(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Tr(p),r;if(y===h)return Tr(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var S=!1,M=p.child;M;){if(M===l){S=!0,l=p,h=y;break}if(M===h){S=!0,h=p,l=y;break}M=M.sibling}if(!S){for(M=y.child;M;){if(M===l){S=!0,l=y,h=p;break}if(M===h){S=!0,h=y,l=p;break}M=M.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Qa(r){return r=wu(r),r!==null?Io(r):null}function Io(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Io(r);if(s!==null)return s;r=r.sibling}return null}var Co=e.unstable_scheduleCallback,Ya=e.unstable_cancelCallback,Eu=e.unstable_shouldYield,ld=e.unstable_requestPaint,kt=e.unstable_now,Tu=e.unstable_getCurrentPriorityLevel,Os=e.unstable_ImmediatePriority,Vi=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,Ja=e.unstable_LowPriority,Su=e.unstable_IdlePriority,Ls=null,Kn=null;function Iu(r){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Ls,r,void 0,(r.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Au,Xa=Math.log,Cu=Math.LN2;function Au(r){return r>>>=0,r===0?32:31-(Xa(r)/Cu|0)|0}var Ao=64,Po=4194304;function Mi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,S=l&268435455;if(S!==0){var M=S&~p;M!==0?h=Mi(M):(y&=S,y!==0&&(h=Mi(y)))}else S=l&~p,S!==0?h=Mi(S):y!==0&&(h=Mi(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-xn(s),p=1<<l,h|=r[l],s&=~p;return h}function ud(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ai(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var S=31-xn(y),M=1<<S,$=p[S];$===-1?((M&l)===0||(M&h)!==0)&&(p[S]=ud(M,s)):$<=s&&(r.expiredLanes|=M),y&=~M}}function Qn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ms(){var r=Ao;return Ao<<=1,(Ao&4194240)===0&&(Ao=64),r}function ji(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Fi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-xn(s),r[s]=l}function Rt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-xn(l),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~y}}function zi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-xn(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var mt=0;function Ui(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Pu,Ro,Ru,ku,xu,Za=!1,Hr=[],fn=null,Sr=null,Ir=null,$i=new Map,sr=new Map,Gr=[],cd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bu(r,s){switch(r){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":$i.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sr.delete(s.pointerId)}}function On(r,s,l,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=pl(s),s!==null&&Ro(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function hd(r,s,l,h,p){switch(s){case"focusin":return fn=On(fn,r,s,l,h,p),!0;case"dragenter":return Sr=On(Sr,r,s,l,h,p),!0;case"mouseover":return Ir=On(Ir,r,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return $i.set(y,On($i.get(y)||null,r,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,sr.set(y,On(sr.get(y)||null,r,s,l,h,p)),!0}return!1}function Du(r){var s=$s(r.target);if(s!==null){var l=Er(s);if(l!==null){if(s=l.tag,s===13){if(s=Ns(l),s!==null){r.blockedOn=s,xu(r.priority,function(){Ru(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function li(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=ko(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Le=h,l.target.dispatchEvent(h),Le=null}else return s=pl(l),s!==null&&Ro(s),r.blockedOn=l,!1;s.shift()}return!0}function js(r,s,l){li(r)&&l.delete(s)}function Nu(){Za=!1,fn!==null&&li(fn)&&(fn=null),Sr!==null&&li(Sr)&&(Sr=null),Ir!==null&&li(Ir)&&(Ir=null),$i.forEach(js),sr.forEach(js)}function Cr(r,s){r.blockedOn===s&&(r.blockedOn=null,Za||(Za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nu)))}function Ar(r){function s(p){return Cr(p,r)}if(0<Hr.length){Cr(Hr[0],r);for(var l=1;l<Hr.length;l++){var h=Hr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(fn!==null&&Cr(fn,r),Sr!==null&&Cr(Sr,r),Ir!==null&&Cr(Ir,r),$i.forEach(s),sr.forEach(s),l=0;l<Gr.length;l++)h=Gr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Gr.length&&(l=Gr[0],l.blockedOn===null);)Du(l),l.blockedOn===null&&Gr.shift()}var ui=Y.ReactCurrentBatchConfig,Bi=!0;function Mt(r,s,l,h){var p=mt,y=ui.transition;ui.transition=null;try{mt=1,el(r,s,l,h)}finally{mt=p,ui.transition=y}}function dd(r,s,l,h){var p=mt,y=ui.transition;ui.transition=null;try{mt=4,el(r,s,l,h)}finally{mt=p,ui.transition=y}}function el(r,s,l,h){if(Bi){var p=ko(r,s,l,h);if(p===null)Sd(r,s,h,Fs,l),bu(r,h);else if(hd(p,r,s,l,h))h.stopPropagation();else if(bu(r,h),s&4&&-1<cd.indexOf(r)){for(;p!==null;){var y=pl(p);if(y!==null&&Pu(y),y=ko(r,s,l,h),y===null&&Sd(r,s,h,Fs,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else Sd(r,s,h,null,l)}}var Fs=null;function ko(r,s,l,h){if(Fs=null,r=re(h),r=$s(r),r!==null)if(s=Er(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Ns(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Fs=r,null}function tl(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tu()){case Os:return 1;case Vi:return 4;case ir:case Ja:return 16;case Su:return 536870912;default:return 16}default:return 16}}var Yn=null,xo=null,Ln=null;function nl(){if(Ln)return Ln;var r,s=xo,l=s.length,h,p="value"in Yn?Yn.value:Yn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var S=l-r;for(h=1;h<=S&&s[l-h]===p[y-h];h++);return Ln=p.slice(r,1<h?1-h:void 0)}function bo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function rl(){return!1}function pn(r){function s(l,h,p,y,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(l=r[M],this[M]=l?l(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Kr:rl,this.isPropagationStopped=rl,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),s}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=pn(Pr),Qr=b({},Pr,{view:0,detail:0}),fd=pn(Qr),No,ci,Wi,zs=b({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wi&&(Wi&&r.type==="mousemove"?(No=r.screenX-Wi.screenX,ci=r.screenY-Wi.screenY):ci=No=0,Wi=r),No)},movementY:function(r){return"movementY"in r?r.movementY:ci}}),Oo=pn(zs),il=b({},zs,{dataTransfer:0}),Ou=pn(il),Lo=b({},Qr,{relatedTarget:0}),Vo=pn(Lo),Lu=b({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),hi=pn(Lu),Vu=b({},Pr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Mu=pn(Vu),ju=b({},Pr,{data:0}),sl=pn(ju),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Fu[r])?!!s[r]:!1}function Yr(){return zu}var u=b({},Qr,{key:function(r){if(r.key){var s=Mo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=bo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?bn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(r){return r.type==="keypress"?bo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=pn(u),_=b({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=pn(_),J=b({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),le=pn(J),Me=b({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pt=pn(Me),tn=b({},zs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vt=pn(tn),on=[9,13,27,32],Yt=d&&"CompositionEvent"in window,or=null;d&&"documentMode"in document&&(or=document.documentMode);var Jn=d&&"TextEvent"in window&&!or,Us=d&&(!Yt||or&&8<or&&11>=or),jo=" ",tg=!1;function ng(r,s){switch(r){case"keyup":return on.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fo=!1;function JT(r,s){switch(r){case"compositionend":return rg(s);case"keypress":return s.which!==32?null:(tg=!0,jo);case"textInput":return r=s.data,r===jo&&tg?null:r;default:return null}}function XT(r,s){if(Fo)return r==="compositionend"||!Yt&&ng(r,s)?(r=nl(),Ln=xo=Yn=null,Fo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Us&&s.locale!=="ko"?null:s.data;default:return null}}var ZT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ZT[r.type]:s==="textarea"}function sg(r,s,l,h){rt(h),s=qu(s,"onChange"),0<s.length&&(l=new Do("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var ol=null,al=null;function eS(r){Sg(r,0)}function Uu(r){var s=Wo(r);if(xe(s))return r}function tS(r,s){if(r==="change")return s}var og=!1;if(d){var pd;if(d){var md="oninput"in document;if(!md){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),md=typeof ag.oninput=="function"}pd=md}else pd=!1;og=pd&&(!document.documentMode||9<document.documentMode)}function lg(){ol&&(ol.detachEvent("onpropertychange",ug),al=ol=null)}function ug(r){if(r.propertyName==="value"&&Uu(al)){var s=[];sg(s,al,r,re(r)),Gn(eS,s)}}function nS(r,s,l){r==="focusin"?(lg(),ol=s,al=l,ol.attachEvent("onpropertychange",ug)):r==="focusout"&&lg()}function rS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uu(al)}function iS(r,s){if(r==="click")return Uu(s)}function sS(r,s){if(r==="input"||r==="change")return Uu(s)}function oS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Rr=typeof Object.is=="function"?Object.is:oS;function ll(r,s){if(Rr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Rr(r[p],s[p]))return!1}return!0}function cg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hg(r,s){var l=cg(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cg(l)}}function dg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?dg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function fg(){for(var r=window,s=Ye();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Ye(r.document)}return s}function gd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function aS(r){var s=fg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&dg(l.ownerDocument.documentElement,l)){if(h!==null&&gd(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=hg(l,y);var S=hg(l,h);p&&S&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lS=d&&"documentMode"in document&&11>=document.documentMode,zo=null,yd=null,ul=null,vd=!1;function pg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vd||zo==null||zo!==Ye(h)||(h=zo,"selectionStart"in h&&gd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ul&&ll(ul,h)||(ul=h,h=qu(yd,"onSelect"),0<h.length&&(s=new Do("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=zo)))}function $u(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Uo={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},_d={},mg={};d&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Bu(r){if(_d[r])return _d[r];if(!Uo[r])return r;var s=Uo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in mg)return _d[r]=s[l];return r}var gg=Bu("animationend"),yg=Bu("animationiteration"),vg=Bu("animationstart"),_g=Bu("transitionend"),wg=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(r,s){wg.set(r,s),a(s,[r])}for(var wd=0;wd<Eg.length;wd++){var Ed=Eg[wd],uS=Ed.toLowerCase(),cS=Ed[0].toUpperCase()+Ed.slice(1);qi(uS,"on"+cS)}qi(gg,"onAnimationEnd"),qi(yg,"onAnimationIteration"),qi(vg,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(_g,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Tg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,_u(h,s,void 0,r),r.currentTarget=null}function Sg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var S=h.length-1;0<=S;S--){var M=h[S],$=M.instance,se=M.currentTarget;if(M=M.listener,$!==y&&p.isPropagationStopped())break e;Tg(p,M,se),y=$}else for(S=0;S<h.length;S++){if(M=h[S],$=M.instance,se=M.currentTarget,M=M.listener,$!==y&&p.isPropagationStopped())break e;Tg(p,M,se),y=$}}}if(wr)throw r=Ka,wr=!1,Ka=null,r}function Ot(r,s){var l=s[kd];l===void 0&&(l=s[kd]=new Set);var h=r+"__bubble";l.has(h)||(Ig(s,r,2,!1),l.add(h))}function Td(r,s,l){var h=0;s&&(h|=4),Ig(l,r,h,s)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function hl(r){if(!r[Wu]){r[Wu]=!0,i.forEach(function(l){l!=="selectionchange"&&(hS.has(l)||Td(l,!1,r),Td(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Wu]||(s[Wu]=!0,Td("selectionchange",!1,s))}}function Ig(r,s,l,h){switch(tl(s)){case 1:var p=Mt;break;case 4:p=dd;break;default:p=el}l=p.bind(null,s,l,r),p=void 0,!Eo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Sd(r,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(S===4)for(S=h.return;S!==null;){var $=S.tag;if(($===3||$===4)&&($=S.stateNode.containerInfo,$===p||$.nodeType===8&&$.parentNode===p))return;S=S.return}for(;M!==null;){if(S=$s(M),S===null)return;if($=S.tag,$===5||$===6){h=y=S;continue e}M=M.parentNode}}h=h.return}Gn(function(){var se=y,Re=re(l),be=[];e:{var Pe=wg.get(r);if(Pe!==void 0){var ze=Do,Be=r;switch(r){case"keypress":if(bo(l)===0)break e;case"keydown":case"keyup":ze=g;break;case"focusin":Be="focus",ze=Vo;break;case"focusout":Be="blur",ze=Vo;break;case"beforeblur":case"afterblur":ze=Vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=le;break;case gg:case yg:case vg:ze=hi;break;case _g:ze=Pt;break;case"scroll":ze=fd;break;case"wheel":ze=vt;break;case"copy":case"cut":case"paste":ze=Mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=P}var We=(s&4)!==0,Gt=!We&&r==="scroll",Z=We?Pe!==null?Pe+"Capture":null:Pe;We=[];for(var q=se,te;q!==null;){te=q;var Oe=te.stateNode;if(te.tag===5&&Oe!==null&&(te=Oe,Z!==null&&(Oe=Ut(q,Z),Oe!=null&&We.push(dl(q,Oe,te)))),Gt)break;q=q.return}0<We.length&&(Pe=new ze(Pe,Be,null,l,Re),be.push({event:Pe,listeners:We}))}}if((s&7)===0){e:{if(Pe=r==="mouseover"||r==="pointerover",ze=r==="mouseout"||r==="pointerout",Pe&&l!==Le&&(Be=l.relatedTarget||l.fromElement)&&($s(Be)||Be[di]))break e;if((ze||Pe)&&(Pe=Re.window===Re?Re:(Pe=Re.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,ze?(Be=l.relatedTarget||l.toElement,ze=se,Be=Be?$s(Be):null,Be!==null&&(Gt=Er(Be),Be!==Gt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(ze=null,Be=se),ze!==Be)){if(We=Oo,Oe="onMouseLeave",Z="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(We=P,Oe="onPointerLeave",Z="onPointerEnter",q="pointer"),Gt=ze==null?Pe:Wo(ze),te=Be==null?Pe:Wo(Be),Pe=new We(Oe,q+"leave",ze,l,Re),Pe.target=Gt,Pe.relatedTarget=te,Oe=null,$s(Re)===se&&(We=new We(Z,q+"enter",Be,l,Re),We.target=te,We.relatedTarget=Gt,Oe=We),Gt=Oe,ze&&Be)t:{for(We=ze,Z=Be,q=0,te=We;te;te=$o(te))q++;for(te=0,Oe=Z;Oe;Oe=$o(Oe))te++;for(;0<q-te;)We=$o(We),q--;for(;0<te-q;)Z=$o(Z),te--;for(;q--;){if(We===Z||Z!==null&&We===Z.alternate)break t;We=$o(We),Z=$o(Z)}We=null}else We=null;ze!==null&&Cg(be,Pe,ze,We,!1),Be!==null&&Gt!==null&&Cg(be,Gt,Be,We,!0)}}e:{if(Pe=se?Wo(se):window,ze=Pe.nodeName&&Pe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Pe.type==="file")var qe=tS;else if(ig(Pe))if(og)qe=sS;else{qe=rS;var Ze=nS}else(ze=Pe.nodeName)&&ze.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(qe=iS);if(qe&&(qe=qe(r,se))){sg(be,qe,l,Re);break e}Ze&&Ze(r,Pe,se),r==="focusout"&&(Ze=Pe._wrapperState)&&Ze.controlled&&Pe.type==="number"&&wt(Pe,"number",Pe.value)}switch(Ze=se?Wo(se):window,r){case"focusin":(ig(Ze)||Ze.contentEditable==="true")&&(zo=Ze,yd=se,ul=null);break;case"focusout":ul=yd=zo=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,pg(be,l,Re);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":pg(be,l,Re)}var et;if(Yt)e:{switch(r){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Fo?ng(r,l)&&(ot="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ot="onCompositionStart");ot&&(Us&&l.locale!=="ko"&&(Fo||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Fo&&(et=nl()):(Yn=Re,xo="value"in Yn?Yn.value:Yn.textContent,Fo=!0)),Ze=qu(se,ot),0<Ze.length&&(ot=new sl(ot,r,null,l,Re),be.push({event:ot,listeners:Ze}),et?ot.data=et:(et=rg(l),et!==null&&(ot.data=et)))),(et=Jn?JT(r,l):XT(r,l))&&(se=qu(se,"onBeforeInput"),0<se.length&&(Re=new sl("onBeforeInput","beforeinput",null,l,Re),be.push({event:Re,listeners:se}),Re.data=et))}Sg(be,s)})}function dl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function qu(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Ut(r,l),y!=null&&h.unshift(dl(r,y,p)),y=Ut(r,s),y!=null&&h.push(dl(r,y,p))),r=r.return}return h}function $o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Cg(r,s,l,h,p){for(var y=s._reactName,S=[];l!==null&&l!==h;){var M=l,$=M.alternate,se=M.stateNode;if($!==null&&$===h)break;M.tag===5&&se!==null&&(M=se,p?($=Ut(l,y),$!=null&&S.unshift(dl(l,$,M))):p||($=Ut(l,y),$!=null&&S.push(dl(l,$,M)))),l=l.return}S.length!==0&&r.push({event:s,listeners:S})}var dS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function Ag(r){return(typeof r=="string"?r:""+r).replace(dS,`
`).replace(fS,"")}function Hu(r,s,l){if(s=Ag(s),Ag(r)!==s&&l)throw Error(t(425))}function Gu(){}var Id=null,Cd=null;function Ad(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pd=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,Pg=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof Pg<"u"?function(r){return Pg.resolve(null).then(r).catch(gS)}:Pd;function gS(r){setTimeout(function(){throw r})}function Rd(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),Ar(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Ar(s)}function Hi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Rg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Bo,fl="__reactProps$"+Bo,di="__reactContainer$"+Bo,kd="__reactEvents$"+Bo,yS="__reactListeners$"+Bo,vS="__reactHandles$"+Bo;function $s(r){var s=r[Jr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[di]||l[Jr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Rg(r);r!==null;){if(l=r[Jr])return l;r=Rg(r)}return s}r=l,l=r.parentNode}return null}function pl(r){return r=r[Jr]||r[di],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Wo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ku(r){return r[fl]||null}var xd=[],qo=-1;function Gi(r){return{current:r}}function Lt(r){0>qo||(r.current=xd[qo],xd[qo]=null,qo--)}function xt(r,s){qo++,xd[qo]=r.current,r.current=s}var Ki={},En=Gi(Ki),Vn=Gi(!1),Bs=Ki;function Ho(r,s){var l=r.type.contextTypes;if(!l)return Ki;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Mn(r){return r=r.childContextTypes,r!=null}function Qu(){Lt(Vn),Lt(En)}function kg(r,s,l){if(En.current!==Ki)throw Error(t(168));xt(En,s),xt(Vn,l)}function xg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,oe(r)||"Unknown",p));return b({},l,h)}function Yu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ki,Bs=En.current,xt(En,r),xt(Vn,Vn.current),!0}function bg(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=xg(r,s,Bs),h.__reactInternalMemoizedMergedChildContext=r,Lt(Vn),Lt(En),xt(En,r)):Lt(Vn),xt(Vn,l)}var fi=null,Ju=!1,bd=!1;function Dg(r){fi===null?fi=[r]:fi.push(r)}function _S(r){Ju=!0,Dg(r)}function Qi(){if(!bd&&fi!==null){bd=!0;var r=0,s=mt;try{var l=fi;for(mt=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}fi=null,Ju=!1}catch(p){throw fi!==null&&(fi=fi.slice(r+1)),Co(Os,Qi),p}finally{mt=s,bd=!1}}return null}var Go=[],Ko=0,Xu=null,Zu=0,ar=[],lr=0,Ws=null,pi=1,mi="";function qs(r,s){Go[Ko++]=Zu,Go[Ko++]=Xu,Xu=r,Zu=s}function Ng(r,s,l){ar[lr++]=pi,ar[lr++]=mi,ar[lr++]=Ws,Ws=r;var h=pi;r=mi;var p=32-xn(h)-1;h&=~(1<<p),l+=1;var y=32-xn(s)+p;if(30<y){var S=p-p%5;y=(h&(1<<S)-1).toString(32),h>>=S,p-=S,pi=1<<32-xn(s)+p|l<<p|h,mi=y+r}else pi=1<<y|l<<p|h,mi=r}function Dd(r){r.return!==null&&(qs(r,1),Ng(r,1,0))}function Nd(r){for(;r===Xu;)Xu=Go[--Ko],Go[Ko]=null,Zu=Go[--Ko],Go[Ko]=null;for(;r===Ws;)Ws=ar[--lr],ar[lr]=null,mi=ar[--lr],ar[lr]=null,pi=ar[--lr],ar[lr]=null}var Xn=null,Zn=null,jt=!1,kr=null;function Og(r,s){var l=dr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Lg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Xn=r,Zn=Hi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Xn=r,Zn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ws!==null?{id:pi,overflow:mi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=dr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Xn=r,Zn=null,!0):!1;default:return!1}}function Od(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ld(r){if(jt){var s=Zn;if(s){var l=s;if(!Lg(r,s)){if(Od(r))throw Error(t(418));s=Hi(l.nextSibling);var h=Xn;s&&Lg(r,s)?Og(h,l):(r.flags=r.flags&-4097|2,jt=!1,Xn=r)}}else{if(Od(r))throw Error(t(418));r.flags=r.flags&-4097|2,jt=!1,Xn=r}}}function Vg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Xn=r}function ec(r){if(r!==Xn)return!1;if(!jt)return Vg(r),jt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ad(r.type,r.memoizedProps)),s&&(s=Zn)){if(Od(r))throw Mg(),Error(t(418));for(;s;)Og(r,s),s=Hi(s.nextSibling)}if(Vg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Zn=Hi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Zn=null}}else Zn=Xn?Hi(r.stateNode.nextSibling):null;return!0}function Mg(){for(var r=Zn;r;)r=Hi(r.nextSibling)}function Qo(){Zn=Xn=null,jt=!1}function Vd(r){kr===null?kr=[r]:kr.push(r)}var wS=Y.ReactCurrentBatchConfig;function xr(r,s){if(r&&r.defaultProps){s=b({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}var tc=Gi(null),nc=null,Yo=null,Md=null;function jd(){Md=Yo=nc=null}function Fd(r){var s=tc.current;Lt(tc),r._currentValue=s}function zd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Jo(r,s){nc=r,Md=Yo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(jn=!0),r.firstContext=null)}function ur(r){var s=r._currentValue;if(Md!==r)if(r={context:r,memoizedValue:s,next:null},Yo===null){if(nc===null)throw Error(t(308));Yo=r,nc.dependencies={lanes:0,firstContext:r}}else Yo=Yo.next=r;return s}var Hs=null;function Ud(r){Hs===null?Hs=[r]:Hs.push(r)}function jg(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Ud(s)):(l.next=p.next,p.next=l),s.interleaved=l,gi(r,h)}function gi(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Yi=!1;function $d(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ji(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Et&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,gi(r,l)}return p=h.interleaved,p===null?(s.next=s,Ud(h)):(s.next=p.next,p.next=s),h.interleaved=s,gi(r,l)}function rc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,zi(r,l)}}function zg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function ic(r,s,l,h){var p=r.updateQueue;Yi=!1;var y=p.firstBaseUpdate,S=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var $=M,se=$.next;$.next=null,S===null?y=se:S.next=se,S=$;var Re=r.alternate;Re!==null&&(Re=Re.updateQueue,M=Re.lastBaseUpdate,M!==S&&(M===null?Re.firstBaseUpdate=se:M.next=se,Re.lastBaseUpdate=$))}if(y!==null){var be=p.baseState;S=0,Re=se=$=null,M=y;do{var Pe=M.lane,ze=M.eventTime;if((h&Pe)===Pe){Re!==null&&(Re=Re.next={eventTime:ze,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Be=r,We=M;switch(Pe=s,ze=l,We.tag){case 1:if(Be=We.payload,typeof Be=="function"){be=Be.call(ze,be,Pe);break e}be=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=We.payload,Pe=typeof Be=="function"?Be.call(ze,be,Pe):Be,Pe==null)break e;be=b({},be,Pe);break e;case 2:Yi=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,Pe=p.effects,Pe===null?p.effects=[M]:Pe.push(M))}else ze={eventTime:ze,lane:Pe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Re===null?(se=Re=ze,$=be):Re=Re.next=ze,S|=Pe;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;Pe=M,M=Pe.next,Pe.next=null,p.lastBaseUpdate=Pe,p.shared.pending=null}}while(!0);if(Re===null&&($=be),p.baseState=$,p.firstBaseUpdate=se,p.lastBaseUpdate=Re,s=p.shared.interleaved,s!==null){p=s;do S|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Qs|=S,r.lanes=S,r.memoizedState=be}}function Ug(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var $g=new n.Component().refs;function Bd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:b({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var sc={isMounted:function(r){return(r=r._reactInternals)?Er(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Nn(),p=ts(r),y=yi(h,p);y.payload=s,l!=null&&(y.callback=l),s=Ji(r,y,p),s!==null&&(Nr(s,r,p,h),rc(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Nn(),p=ts(r),y=yi(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Ji(r,y,p),s!==null&&(Nr(s,r,p,h),rc(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Nn(),h=ts(r),p=yi(l,h);p.tag=2,s!=null&&(p.callback=s),s=Ji(r,p,h),s!==null&&(Nr(s,r,h,l),rc(s,r,h))}};function Bg(r,s,l,h,p,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,S):s.prototype&&s.prototype.isPureReactComponent?!ll(l,h)||!ll(p,y):!0}function Wg(r,s,l){var h=!1,p=Ki,y=s.contextType;return typeof y=="object"&&y!==null?y=ur(y):(p=Mn(s)?Bs:En.current,h=s.contextTypes,y=(h=h!=null)?Ho(r,p):Ki),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=sc,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function qg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&sc.enqueueReplaceState(s,s.state,null)}function Wd(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs=$g,$d(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=ur(y):(y=Mn(s)?Bs:En.current,p.context=Ho(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Bd(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&sc.enqueueReplaceState(p,p.state,null),ic(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function ml(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(S){var M=p.refs;M===$g&&(M=p.refs={}),S===null?delete M[y]:M[y]=S},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function oc(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Hg(r){var s=r._init;return s(r._payload)}function Gg(r){function s(Z,q){if(r){var te=Z.deletions;te===null?(Z.deletions=[q],Z.flags|=16):te.push(q)}}function l(Z,q){if(!r)return null;for(;q!==null;)s(Z,q),q=q.sibling;return null}function h(Z,q){for(Z=new Map;q!==null;)q.key!==null?Z.set(q.key,q):Z.set(q.index,q),q=q.sibling;return Z}function p(Z,q){return Z=rs(Z,q),Z.index=0,Z.sibling=null,Z}function y(Z,q,te){return Z.index=te,r?(te=Z.alternate,te!==null?(te=te.index,te<q?(Z.flags|=2,q):te):(Z.flags|=2,q)):(Z.flags|=1048576,q)}function S(Z){return r&&Z.alternate===null&&(Z.flags|=2),Z}function M(Z,q,te,Oe){return q===null||q.tag!==6?(q=Rf(te,Z.mode,Oe),q.return=Z,q):(q=p(q,te),q.return=Z,q)}function $(Z,q,te,Oe){var qe=te.type;return qe===V?Re(Z,q,te.props.children,Oe,te.key):q!==null&&(q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ge&&Hg(qe)===q.type)?(Oe=p(q,te.props),Oe.ref=ml(Z,q,te),Oe.return=Z,Oe):(Oe=Cc(te.type,te.key,te.props,null,Z.mode,Oe),Oe.ref=ml(Z,q,te),Oe.return=Z,Oe)}function se(Z,q,te,Oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==te.containerInfo||q.stateNode.implementation!==te.implementation?(q=kf(te,Z.mode,Oe),q.return=Z,q):(q=p(q,te.children||[]),q.return=Z,q)}function Re(Z,q,te,Oe,qe){return q===null||q.tag!==7?(q=Zs(te,Z.mode,Oe,qe),q.return=Z,q):(q=p(q,te),q.return=Z,q)}function be(Z,q,te){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Rf(""+q,Z.mode,te),q.return=Z,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return te=Cc(q.type,q.key,q.props,null,Z.mode,te),te.ref=ml(Z,null,q),te.return=Z,te;case we:return q=kf(q,Z.mode,te),q.return=Z,q;case ge:var Oe=q._init;return be(Z,Oe(q._payload),te)}if(Xe(q)||ye(q))return q=Zs(q,Z.mode,te,null),q.return=Z,q;oc(Z,q)}return null}function Pe(Z,q,te,Oe){var qe=q!==null?q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return qe!==null?null:M(Z,q,""+te,Oe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case B:return te.key===qe?$(Z,q,te,Oe):null;case we:return te.key===qe?se(Z,q,te,Oe):null;case ge:return qe=te._init,Pe(Z,q,qe(te._payload),Oe)}if(Xe(te)||ye(te))return qe!==null?null:Re(Z,q,te,Oe,null);oc(Z,te)}return null}function ze(Z,q,te,Oe,qe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Z=Z.get(te)||null,M(q,Z,""+Oe,qe);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case B:return Z=Z.get(Oe.key===null?te:Oe.key)||null,$(q,Z,Oe,qe);case we:return Z=Z.get(Oe.key===null?te:Oe.key)||null,se(q,Z,Oe,qe);case ge:var Ze=Oe._init;return ze(Z,q,te,Ze(Oe._payload),qe)}if(Xe(Oe)||ye(Oe))return Z=Z.get(te)||null,Re(q,Z,Oe,qe,null);oc(q,Oe)}return null}function Be(Z,q,te,Oe){for(var qe=null,Ze=null,et=q,ot=q=0,un=null;et!==null&&ot<te.length;ot++){et.index>ot?(un=et,et=null):un=et.sibling;var St=Pe(Z,et,te[ot],Oe);if(St===null){et===null&&(et=un);break}r&&et&&St.alternate===null&&s(Z,et),q=y(St,q,ot),Ze===null?qe=St:Ze.sibling=St,Ze=St,et=un}if(ot===te.length)return l(Z,et),jt&&qs(Z,ot),qe;if(et===null){for(;ot<te.length;ot++)et=be(Z,te[ot],Oe),et!==null&&(q=y(et,q,ot),Ze===null?qe=et:Ze.sibling=et,Ze=et);return jt&&qs(Z,ot),qe}for(et=h(Z,et);ot<te.length;ot++)un=ze(et,Z,ot,te[ot],Oe),un!==null&&(r&&un.alternate!==null&&et.delete(un.key===null?ot:un.key),q=y(un,q,ot),Ze===null?qe=un:Ze.sibling=un,Ze=un);return r&&et.forEach(function(is){return s(Z,is)}),jt&&qs(Z,ot),qe}function We(Z,q,te,Oe){var qe=ye(te);if(typeof qe!="function")throw Error(t(150));if(te=qe.call(te),te==null)throw Error(t(151));for(var Ze=qe=null,et=q,ot=q=0,un=null,St=te.next();et!==null&&!St.done;ot++,St=te.next()){et.index>ot?(un=et,et=null):un=et.sibling;var is=Pe(Z,et,St.value,Oe);if(is===null){et===null&&(et=un);break}r&&et&&is.alternate===null&&s(Z,et),q=y(is,q,ot),Ze===null?qe=is:Ze.sibling=is,Ze=is,et=un}if(St.done)return l(Z,et),jt&&qs(Z,ot),qe;if(et===null){for(;!St.done;ot++,St=te.next())St=be(Z,St.value,Oe),St!==null&&(q=y(St,q,ot),Ze===null?qe=St:Ze.sibling=St,Ze=St);return jt&&qs(Z,ot),qe}for(et=h(Z,et);!St.done;ot++,St=te.next())St=ze(et,Z,ot,St.value,Oe),St!==null&&(r&&St.alternate!==null&&et.delete(St.key===null?ot:St.key),q=y(St,q,ot),Ze===null?qe=St:Ze.sibling=St,Ze=St);return r&&et.forEach(function(ZS){return s(Z,ZS)}),jt&&qs(Z,ot),qe}function Gt(Z,q,te,Oe){if(typeof te=="object"&&te!==null&&te.type===V&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case B:e:{for(var qe=te.key,Ze=q;Ze!==null;){if(Ze.key===qe){if(qe=te.type,qe===V){if(Ze.tag===7){l(Z,Ze.sibling),q=p(Ze,te.props.children),q.return=Z,Z=q;break e}}else if(Ze.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ge&&Hg(qe)===Ze.type){l(Z,Ze.sibling),q=p(Ze,te.props),q.ref=ml(Z,Ze,te),q.return=Z,Z=q;break e}l(Z,Ze);break}else s(Z,Ze);Ze=Ze.sibling}te.type===V?(q=Zs(te.props.children,Z.mode,Oe,te.key),q.return=Z,Z=q):(Oe=Cc(te.type,te.key,te.props,null,Z.mode,Oe),Oe.ref=ml(Z,q,te),Oe.return=Z,Z=Oe)}return S(Z);case we:e:{for(Ze=te.key;q!==null;){if(q.key===Ze)if(q.tag===4&&q.stateNode.containerInfo===te.containerInfo&&q.stateNode.implementation===te.implementation){l(Z,q.sibling),q=p(q,te.children||[]),q.return=Z,Z=q;break e}else{l(Z,q);break}else s(Z,q);q=q.sibling}q=kf(te,Z.mode,Oe),q.return=Z,Z=q}return S(Z);case ge:return Ze=te._init,Gt(Z,q,Ze(te._payload),Oe)}if(Xe(te))return Be(Z,q,te,Oe);if(ye(te))return We(Z,q,te,Oe);oc(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,q!==null&&q.tag===6?(l(Z,q.sibling),q=p(q,te),q.return=Z,Z=q):(l(Z,q),q=Rf(te,Z.mode,Oe),q.return=Z,Z=q),S(Z)):l(Z,q)}return Gt}var Xo=Gg(!0),Kg=Gg(!1),gl={},Xr=Gi(gl),yl=Gi(gl),vl=Gi(gl);function Gs(r){if(r===gl)throw Error(t(174));return r}function qd(r,s){switch(xt(vl,s),xt(yl,r),xt(Xr,gl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:L(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=L(s,r)}Lt(Xr),xt(Xr,s)}function Zo(){Lt(Xr),Lt(yl),Lt(vl)}function Qg(r){Gs(vl.current);var s=Gs(Xr.current),l=L(s,r.type);s!==l&&(xt(yl,r),xt(Xr,l))}function Hd(r){yl.current===r&&(Lt(Xr),Lt(yl))}var $t=Gi(0);function ac(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gd=[];function Kd(){for(var r=0;r<Gd.length;r++)Gd[r]._workInProgressVersionPrimary=null;Gd.length=0}var lc=Y.ReactCurrentDispatcher,Qd=Y.ReactCurrentBatchConfig,Ks=0,Bt=null,nn=null,an=null,uc=!1,_l=!1,wl=0,ES=0;function Tn(){throw Error(t(321))}function Yd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Rr(r[l],s[l]))return!1;return!0}function Jd(r,s,l,h,p,y){if(Ks=y,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,lc.current=r===null||r.memoizedState===null?CS:AS,r=l(h,p),_l){y=0;do{if(_l=!1,wl=0,25<=y)throw Error(t(301));y+=1,an=nn=null,s.updateQueue=null,lc.current=PS,r=l(h,p)}while(_l)}if(lc.current=dc,s=nn!==null&&nn.next!==null,Ks=0,an=nn=Bt=null,uc=!1,s)throw Error(t(300));return r}function Xd(){var r=wl!==0;return wl=0,r}function Zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Bt.memoizedState=an=r:an=an.next=r,an}function cr(){if(nn===null){var r=Bt.alternate;r=r!==null?r.memoizedState:null}else r=nn.next;var s=an===null?Bt.memoizedState:an.next;if(s!==null)an=s,nn=r;else{if(r===null)throw Error(t(310));nn=r,r={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},an===null?Bt.memoizedState=an=r:an=an.next=r}return an}function El(r,s){return typeof s=="function"?s(r):s}function Zd(r){var s=cr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=nn,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var S=p.next;p.next=y.next,y.next=S}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var M=S=null,$=null,se=y;do{var Re=se.lane;if((Ks&Re)===Re)$!==null&&($=$.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),h=se.hasEagerState?se.eagerState:r(h,se.action);else{var be={lane:Re,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};$===null?(M=$=be,S=h):$=$.next=be,Bt.lanes|=Re,Qs|=Re}se=se.next}while(se!==null&&se!==y);$===null?S=h:$.next=M,Rr(h,s.memoizedState)||(jn=!0),s.memoizedState=h,s.baseState=S,s.baseQueue=$,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Bt.lanes|=y,Qs|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ef(r){var s=cr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do y=r(y,S.action),S=S.next;while(S!==p);Rr(y,s.memoizedState)||(jn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Yg(){}function Jg(r,s){var l=Bt,h=cr(),p=s(),y=!Rr(h.memoizedState,p);if(y&&(h.memoizedState=p,jn=!0),h=h.queue,tf(ey.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||an!==null&&an.memoizedState.tag&1){if(l.flags|=2048,Tl(9,Zg.bind(null,l,h,p,s),void 0,null),ln===null)throw Error(t(349));(Ks&30)!==0||Xg(l,s,p)}return p}function Xg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Zg(r,s,l,h){s.value=l,s.getSnapshot=h,ty(s)&&ny(r)}function ey(r,s,l){return l(function(){ty(s)&&ny(r)})}function ty(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Rr(r,l)}catch{return!0}}function ny(r){var s=gi(r,1);s!==null&&Nr(s,r,1,-1)}function ry(r){var s=Zr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:r},s.queue=r,r=r.dispatch=IS.bind(null,Bt,r),[s.memoizedState,r]}function Tl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function iy(){return cr().memoizedState}function cc(r,s,l,h){var p=Zr();Bt.flags|=r,p.memoizedState=Tl(1|s,l,void 0,h===void 0?null:h)}function hc(r,s,l,h){var p=cr();h=h===void 0?null:h;var y=void 0;if(nn!==null){var S=nn.memoizedState;if(y=S.destroy,h!==null&&Yd(h,S.deps)){p.memoizedState=Tl(s,l,y,h);return}}Bt.flags|=r,p.memoizedState=Tl(1|s,l,y,h)}function sy(r,s){return cc(8390656,8,r,s)}function tf(r,s){return hc(2048,8,r,s)}function oy(r,s){return hc(4,2,r,s)}function ay(r,s){return hc(4,4,r,s)}function ly(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function uy(r,s,l){return l=l!=null?l.concat([r]):null,hc(4,4,ly.bind(null,s,r),l)}function nf(){}function cy(r,s){var l=cr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Yd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function hy(r,s){var l=cr();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Yd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function dy(r,s,l){return(Ks&21)===0?(r.baseState&&(r.baseState=!1,jn=!0),r.memoizedState=l):(Rr(l,s)||(l=Ms(),Bt.lanes|=l,Qs|=l,r.baseState=!0),s)}function TS(r,s){var l=mt;mt=l!==0&&4>l?l:4,r(!0);var h=Qd.transition;Qd.transition={};try{r(!1),s()}finally{mt=l,Qd.transition=h}}function fy(){return cr().memoizedState}function SS(r,s,l){var h=ts(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},py(r))my(s,l);else if(l=jg(r,s,l,h),l!==null){var p=Nn();Nr(l,r,h,p),gy(l,s,h)}}function IS(r,s,l){var h=ts(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(py(r))my(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var S=s.lastRenderedState,M=y(S,l);if(p.hasEagerState=!0,p.eagerState=M,Rr(M,S)){var $=s.interleaved;$===null?(p.next=p,Ud(s)):(p.next=$.next,$.next=p),s.interleaved=p;return}}catch{}finally{}l=jg(r,s,p,h),l!==null&&(p=Nn(),Nr(l,r,h,p),gy(l,s,h))}}function py(r){var s=r.alternate;return r===Bt||s!==null&&s===Bt}function my(r,s){_l=uc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function gy(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,zi(r,l)}}var dc={readContext:ur,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},CS={readContext:ur,useCallback:function(r,s){return Zr().memoizedState=[r,s===void 0?null:s],r},useContext:ur,useEffect:sy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,cc(4194308,4,ly.bind(null,s,r),l)},useLayoutEffect:function(r,s){return cc(4194308,4,r,s)},useInsertionEffect:function(r,s){return cc(4,2,r,s)},useMemo:function(r,s){var l=Zr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Zr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=SS.bind(null,Bt,r),[h.memoizedState,r]},useRef:function(r){var s=Zr();return r={current:r},s.memoizedState=r},useState:ry,useDebugValue:nf,useDeferredValue:function(r){return Zr().memoizedState=r},useTransition:function(){var r=ry(!1),s=r[0];return r=TS.bind(null,r[1]),Zr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=Bt,p=Zr();if(jt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),ln===null)throw Error(t(349));(Ks&30)!==0||Xg(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,sy(ey.bind(null,h,y,r),[r]),h.flags|=2048,Tl(9,Zg.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=Zr(),s=ln.identifierPrefix;if(jt){var l=mi,h=pi;l=(h&~(1<<32-xn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=wl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=ES++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},AS={readContext:ur,useCallback:cy,useContext:ur,useEffect:tf,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:hy,useReducer:Zd,useRef:iy,useState:function(){return Zd(El)},useDebugValue:nf,useDeferredValue:function(r){var s=cr();return dy(s,nn.memoizedState,r)},useTransition:function(){var r=Zd(El)[0],s=cr().memoizedState;return[r,s]},useMutableSource:Yg,useSyncExternalStore:Jg,useId:fy,unstable_isNewReconciler:!1},PS={readContext:ur,useCallback:cy,useContext:ur,useEffect:tf,useImperativeHandle:uy,useInsertionEffect:oy,useLayoutEffect:ay,useMemo:hy,useReducer:ef,useRef:iy,useState:function(){return ef(El)},useDebugValue:nf,useDeferredValue:function(r){var s=cr();return nn===null?s.memoizedState=r:dy(s,nn.memoizedState,r)},useTransition:function(){var r=ef(El)[0],s=cr().memoizedState;return[r,s]},useMutableSource:Yg,useSyncExternalStore:Jg,useId:fy,unstable_isNewReconciler:!1};function ea(r,s){try{var l="",h=s;do l+=ke(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function rf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function sf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var RS=typeof WeakMap=="function"?WeakMap:Map;function yy(r,s,l){l=yi(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){_c||(_c=!0,wf=h),sf(r,s)},l}function vy(r,s,l){l=yi(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){sf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){sf(r,s),typeof h!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),l}function _y(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new RS;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=$S.bind(null,r,s,l),s.then(r,r))}function wy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ey(r,s,l,h,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=yi(-1,1),s.tag=2,Ji(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var kS=Y.ReactCurrentOwner,jn=!1;function Dn(r,s,l,h){s.child=r===null?Kg(s,null,l,h):Xo(s,r.child,l,h)}function Ty(r,s,l,h,p){l=l.render;var y=s.ref;return Jo(s,p),h=Jd(r,s,l,h,y,p),l=Xd(),r!==null&&!jn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,vi(r,s,p)):(jt&&l&&Dd(s),s.flags|=1,Dn(r,s,h,p),s.child)}function Sy(r,s,l,h,p){if(r===null){var y=l.type;return typeof y=="function"&&!Pf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Iy(r,s,y,h,p)):(r=Cc(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&p)===0){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:ll,l(S,h)&&r.ref===s.ref)return vi(r,s,p)}return s.flags|=1,r=rs(y,h),r.ref=s.ref,r.return=s,s.child=r}function Iy(r,s,l,h,p){if(r!==null){var y=r.memoizedProps;if(ll(y,h)&&r.ref===s.ref)if(jn=!1,s.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(jn=!0);else return s.lanes=r.lanes,vi(r,s,p)}return of(r,s,l,h,p)}function Cy(r,s,l){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(na,er),er|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,xt(na,er),er|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,xt(na,er),er|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,xt(na,er),er|=h;return Dn(r,s,p,l),s.child}function Ay(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function of(r,s,l,h,p){var y=Mn(l)?Bs:En.current;return y=Ho(s,y),Jo(s,p),l=Jd(r,s,l,h,y,p),h=Xd(),r!==null&&!jn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,vi(r,s,p)):(jt&&h&&Dd(s),s.flags|=1,Dn(r,s,l,p),s.child)}function Py(r,s,l,h,p){if(Mn(l)){var y=!0;Yu(s)}else y=!1;if(Jo(s,p),s.stateNode===null)pc(r,s),Wg(s,l,h),Wd(s,l,h,p),h=!0;else if(r===null){var S=s.stateNode,M=s.memoizedProps;S.props=M;var $=S.context,se=l.contextType;typeof se=="object"&&se!==null?se=ur(se):(se=Mn(l)?Bs:En.current,se=Ho(s,se));var Re=l.getDerivedStateFromProps,be=typeof Re=="function"||typeof S.getSnapshotBeforeUpdate=="function";be||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==h||$!==se)&&qg(s,S,h,se),Yi=!1;var Pe=s.memoizedState;S.state=Pe,ic(s,h,S,p),$=s.memoizedState,M!==h||Pe!==$||Vn.current||Yi?(typeof Re=="function"&&(Bd(s,l,Re,h),$=s.memoizedState),(M=Yi||Bg(s,l,M,h,Pe,$,se))?(be||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=$),S.props=h,S.state=$,S.context=se,h=M):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{S=s.stateNode,Fg(r,s),M=s.memoizedProps,se=s.type===s.elementType?M:xr(s.type,M),S.props=se,be=s.pendingProps,Pe=S.context,$=l.contextType,typeof $=="object"&&$!==null?$=ur($):($=Mn(l)?Bs:En.current,$=Ho(s,$));var ze=l.getDerivedStateFromProps;(Re=typeof ze=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==be||Pe!==$)&&qg(s,S,h,$),Yi=!1,Pe=s.memoizedState,S.state=Pe,ic(s,h,S,p);var Be=s.memoizedState;M!==be||Pe!==Be||Vn.current||Yi?(typeof ze=="function"&&(Bd(s,l,ze,h),Be=s.memoizedState),(se=Yi||Bg(s,l,se,h,Pe,Be,$)||!1)?(Re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Be,$),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Be,$)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===r.memoizedProps&&Pe===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&Pe===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Be),S.props=h,S.state=Be,S.context=$,h=se):(typeof S.componentDidUpdate!="function"||M===r.memoizedProps&&Pe===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&Pe===r.memoizedState||(s.flags|=1024),h=!1)}return af(r,s,l,h,y,p)}function af(r,s,l,h,p,y){Ay(r,s);var S=(s.flags&128)!==0;if(!h&&!S)return p&&bg(s,l,!1),vi(r,s,y);h=s.stateNode,kS.current=s;var M=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&S?(s.child=Xo(s,r.child,null,y),s.child=Xo(s,null,M,y)):Dn(r,s,M,y),s.memoizedState=h.state,p&&bg(s,l,!0),s.child}function Ry(r){var s=r.stateNode;s.pendingContext?kg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&kg(r,s.context,!1),qd(r,s.containerInfo)}function ky(r,s,l,h,p){return Qo(),Vd(p),s.flags|=256,Dn(r,s,l,h),s.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function uf(r){return{baseLanes:r,cachePool:null,transitions:null}}function xy(r,s,l){var h=s.pendingProps,p=$t.current,y=!1,S=(s.flags&128)!==0,M;if((M=S)||(M=r!==null&&r.memoizedState===null?!1:(p&2)!==0),M?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),xt($t,p&1),r===null)return Ld(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=h.children,r=h.fallback,y?(h=s.mode,y=s.child,S={mode:"hidden",children:S},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Ac(S,h,0,null),r=Zs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=uf(l),s.memoizedState=lf,r):cf(s,S));if(p=r.memoizedState,p!==null&&(M=p.dehydrated,M!==null))return xS(r,s,S,h,M,p,l);if(y){y=h.fallback,S=s.mode,p=r.child,M=p.sibling;var $={mode:"hidden",children:h.children};return(S&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=$,s.deletions=null):(h=rs(p,$),h.subtreeFlags=p.subtreeFlags&14680064),M!==null?y=rs(M,y):(y=Zs(y,S,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,S=r.child.memoizedState,S=S===null?uf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=r.childLanes&~l,s.memoizedState=lf,h}return y=r.child,r=y.sibling,h=rs(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function cf(r,s){return s=Ac({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function fc(r,s,l,h){return h!==null&&Vd(h),Xo(s,r.child,null,l),r=cf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function xS(r,s,l,h,p,y,S){if(l)return s.flags&256?(s.flags&=-257,h=rf(Error(t(422))),fc(r,s,S,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=Ac({mode:"visible",children:h.children},p,0,null),y=Zs(y,p,S,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Xo(s,r.child,null,S),s.child.memoizedState=uf(S),s.memoizedState=lf,y);if((s.mode&1)===0)return fc(r,s,S,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var M=h.dgst;return h=M,y=Error(t(419)),h=rf(y,h,void 0),fc(r,s,S,h)}if(M=(S&r.childLanes)!==0,jn||M){if(h=ln,h!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|S))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,gi(r,p),Nr(h,r,p,-1))}return Af(),h=rf(Error(t(421))),fc(r,s,S,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=BS.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Zn=Hi(p.nextSibling),Xn=s,jt=!0,kr=null,r!==null&&(ar[lr++]=pi,ar[lr++]=mi,ar[lr++]=Ws,pi=r.id,mi=r.overflow,Ws=s),s=cf(s,h.children),s.flags|=4096,s)}function by(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),zd(r.return,s,l)}function hf(r,s,l,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Dy(r,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Dn(r,s,h.children,l),h=$t.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&by(r,l,s);else if(r.tag===19)by(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(xt($t,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&ac(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),hf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&ac(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}hf(s,!0,l,null,y);break;case"together":hf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function pc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function vi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Qs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=rs(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=rs(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function bS(r,s,l){switch(s.tag){case 3:Ry(s),Qo();break;case 5:Qg(s);break;case 1:Mn(s.type)&&Yu(s);break;case 4:qd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;xt(tc,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(xt($t,$t.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?xy(r,s,l):(xt($t,$t.current&1),r=vi(r,s,l),r!==null?r.sibling:null);xt($t,$t.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Dy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),xt($t,$t.current),h)break;return null;case 22:case 23:return s.lanes=0,Cy(r,s,l)}return vi(r,s,l)}var Ny,df,Oy,Ly;Ny=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},df=function(){},Oy=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,Gs(Xr.current);var y=null;switch(l){case"input":p=nt(r,p),h=nt(r,h),y=[];break;case"select":p=b({},p,{value:void 0}),h=b({},h,{value:void 0}),y=[];break;case"textarea":p=wn(r,p),h=wn(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Gu)}he(l,h);var S;l=null;for(se in p)if(!h.hasOwnProperty(se)&&p.hasOwnProperty(se)&&p[se]!=null)if(se==="style"){var M=p[se];for(S in M)M.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(o.hasOwnProperty(se)?y||(y=[]):(y=y||[]).push(se,null));for(se in h){var $=h[se];if(M=p!=null?p[se]:void 0,h.hasOwnProperty(se)&&$!==M&&($!=null||M!=null))if(se==="style")if(M){for(S in M)!M.hasOwnProperty(S)||$&&$.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in $)$.hasOwnProperty(S)&&M[S]!==$[S]&&(l||(l={}),l[S]=$[S])}else l||(y||(y=[]),y.push(se,l)),l=$;else se==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,M=M?M.__html:void 0,$!=null&&M!==$&&(y=y||[]).push(se,$)):se==="children"?typeof $!="string"&&typeof $!="number"||(y=y||[]).push(se,""+$):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(o.hasOwnProperty(se)?($!=null&&se==="onScroll"&&Ot("scroll",r),y||M===$||(y=[])):(y=y||[]).push(se,$))}l&&(y=y||[]).push("style",l);var se=y;(s.updateQueue=se)&&(s.flags|=4)}},Ly=function(r,s,l,h){l!==h&&(s.flags|=4)};function Sl(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Sn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function DS(r,s,l){var h=s.pendingProps;switch(Nd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(s),null;case 1:return Mn(s.type)&&Qu(),Sn(s),null;case 3:return h=s.stateNode,Zo(),Lt(Vn),Lt(En),Kd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ec(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kr!==null&&(Sf(kr),kr=null))),df(r,s),Sn(s),null;case 5:Hd(s);var p=Gs(vl.current);if(l=s.type,r!==null&&s.stateNode!=null)Oy(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Sn(s),null}if(r=Gs(Xr.current),ec(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[Jr]=s,h[fl]=y,r=(s.mode&1)!==0,l){case"dialog":Ot("cancel",h),Ot("close",h);break;case"iframe":case"object":case"embed":Ot("load",h);break;case"video":case"audio":for(p=0;p<cl.length;p++)Ot(cl[p],h);break;case"source":Ot("error",h);break;case"img":case"image":case"link":Ot("error",h),Ot("load",h);break;case"details":Ot("toggle",h);break;case"input":Ge(h,y),Ot("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ot("invalid",h);break;case"textarea":zt(h,y),Ot("invalid",h)}he(l,y),p=null;for(var S in y)if(y.hasOwnProperty(S)){var M=y[S];S==="children"?typeof M=="string"?h.textContent!==M&&(y.suppressHydrationWarning!==!0&&Hu(h.textContent,M,r),p=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(y.suppressHydrationWarning!==!0&&Hu(h.textContent,M,r),p=["children",""+M]):o.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&Ot("scroll",h)}switch(l){case"input":ae(h),ut(h,y,!0);break;case"textarea":ae(h),ht(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Gu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=S.createElement(l,{is:h.is}):(r=S.createElement(l),l==="select"&&(S=r,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):r=S.createElementNS(r,l),r[Jr]=s,r[fl]=h,Ny(r,s,!1,!1),s.stateNode=r;e:{switch(S=me(l,h),l){case"dialog":Ot("cancel",r),Ot("close",r),p=h;break;case"iframe":case"object":case"embed":Ot("load",r),p=h;break;case"video":case"audio":for(p=0;p<cl.length;p++)Ot(cl[p],r);p=h;break;case"source":Ot("error",r),p=h;break;case"img":case"image":case"link":Ot("error",r),Ot("load",r),p=h;break;case"details":Ot("toggle",r),p=h;break;case"input":Ge(r,h),p=nt(r,h),Ot("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=b({},h,{value:void 0}),Ot("invalid",r);break;case"textarea":zt(r,h),p=wn(r,h),Ot("invalid",r);break;default:p=h}he(l,p),M=p;for(y in M)if(M.hasOwnProperty(y)){var $=M[y];y==="style"?Ie(r,$):y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&ce(r,$)):y==="children"?typeof $=="string"?(l!=="textarea"||$!=="")&&ie(r,$):typeof $=="number"&&ie(r,""+$):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?$!=null&&y==="onScroll"&&Ot("scroll",r):$!=null&&z(r,y,$,S))}switch(l){case"input":ae(r),ut(r,h,!1);break;case"textarea":ae(r),ht(r);break;case"option":h.value!=null&&r.setAttribute("value",""+K(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Nt(r,!!h.multiple,y,!1):h.defaultValue!=null&&Nt(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Gu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Sn(s),null;case 6:if(r&&s.stateNode!=null)Ly(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Gs(vl.current),Gs(Xr.current),ec(s)){if(h=s.stateNode,l=s.memoizedProps,h[Jr]=s,(y=h.nodeValue!==l)&&(r=Xn,r!==null))switch(r.tag){case 3:Hu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Hu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Jr]=s,s.stateNode=h}return Sn(s),null;case 13:if(Lt($t),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(jt&&Zn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Mg(),Qo(),s.flags|=98560,y=!1;else if(y=ec(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Jr]=s}else Qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Sn(s),y=!1}else kr!==null&&(Sf(kr),kr=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||($t.current&1)!==0?rn===0&&(rn=3):Af())),s.updateQueue!==null&&(s.flags|=4),Sn(s),null);case 4:return Zo(),df(r,s),r===null&&hl(s.stateNode.containerInfo),Sn(s),null;case 10:return Fd(s.type._context),Sn(s),null;case 17:return Mn(s.type)&&Qu(),Sn(s),null;case 19:if(Lt($t),y=s.memoizedState,y===null)return Sn(s),null;if(h=(s.flags&128)!==0,S=y.rendering,S===null)if(h)Sl(y,!1);else{if(rn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=ac(r),S!==null){for(s.flags|=128,Sl(y,!1),h=S.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,r=S.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return xt($t,$t.current&1|2),s.child}r=r.sibling}y.tail!==null&&kt()>ra&&(s.flags|=128,h=!0,Sl(y,!1),s.lanes=4194304)}else{if(!h)if(r=ac(S),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Sl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!jt)return Sn(s),null}else 2*kt()-y.renderingStartTime>ra&&l!==1073741824&&(s.flags|=128,h=!0,Sl(y,!1),s.lanes=4194304);y.isBackwards?(S.sibling=s.child,s.child=S):(l=y.last,l!==null?l.sibling=S:s.child=S,y.last=S)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=kt(),s.sibling=null,l=$t.current,xt($t,h?l&1|2:l&1),s):(Sn(s),null);case 22:case 23:return Cf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(er&1073741824)!==0&&(Sn(s),s.subtreeFlags&6&&(s.flags|=8192)):Sn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function NS(r,s){switch(Nd(s),s.tag){case 1:return Mn(s.type)&&Qu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Zo(),Lt(Vn),Lt(En),Kd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Hd(s),null;case 13:if(Lt($t),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Qo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Lt($t),null;case 4:return Zo(),null;case 10:return Fd(s.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var mc=!1,In=!1,OS=typeof WeakSet=="function"?WeakSet:Set,$e=null;function ta(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){qt(r,s,h)}else l.current=null}function ff(r,s,l){try{l()}catch(h){qt(r,s,h)}}var Vy=!1;function LS(r,s){if(Id=Bi,r=fg(),gd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,M=-1,$=-1,se=0,Re=0,be=r,Pe=null;t:for(;;){for(var ze;be!==l||p!==0&&be.nodeType!==3||(M=S+p),be!==y||h!==0&&be.nodeType!==3||($=S+h),be.nodeType===3&&(S+=be.nodeValue.length),(ze=be.firstChild)!==null;)Pe=be,be=ze;for(;;){if(be===r)break t;if(Pe===l&&++se===p&&(M=S),Pe===y&&++Re===h&&($=S),(ze=be.nextSibling)!==null)break;be=Pe,Pe=be.parentNode}be=ze}l=M===-1||$===-1?null:{start:M,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cd={focusedElem:r,selectionRange:l},Bi=!1,$e=s;$e!==null;)if(s=$e,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,$e=r;else for(;$e!==null;){s=$e;try{var Be=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var We=Be.memoizedProps,Gt=Be.memoizedState,Z=s.stateNode,q=Z.getSnapshotBeforeUpdate(s.elementType===s.type?We:xr(s.type,We),Gt);Z.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var te=s.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Oe){qt(s,s.return,Oe)}if(r=s.sibling,r!==null){r.return=s.return,$e=r;break}$e=s.return}return Be=Vy,Vy=!1,Be}function Il(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&ff(s,l,y)}p=p.next}while(p!==h)}}function gc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function pf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function My(r){var s=r.alternate;s!==null&&(r.alternate=null,My(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Jr],delete s[fl],delete s[kd],delete s[yS],delete s[vS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jy(r){return r.tag===5||r.tag===3||r.tag===4}function Fy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Gu));else if(h!==4&&(r=r.child,r!==null))for(mf(r,s,l),r=r.sibling;r!==null;)mf(r,s,l),r=r.sibling}function gf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(gf(r,s,l),r=r.sibling;r!==null;)gf(r,s,l),r=r.sibling}var mn=null,br=!1;function Xi(r,s,l){for(l=l.child;l!==null;)zy(r,s,l),l=l.sibling}function zy(r,s,l){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Ls,l)}catch{}switch(l.tag){case 5:In||ta(l,s);case 6:var h=mn,p=br;mn=null,Xi(r,s,l),mn=h,br=p,mn!==null&&(br?(r=mn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):mn.removeChild(l.stateNode));break;case 18:mn!==null&&(br?(r=mn,l=l.stateNode,r.nodeType===8?Rd(r.parentNode,l):r.nodeType===1&&Rd(r,l),Ar(r)):Rd(mn,l.stateNode));break;case 4:h=mn,p=br,mn=l.stateNode.containerInfo,br=!0,Xi(r,s,l),mn=h,br=p;break;case 0:case 11:case 14:case 15:if(!In&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&ff(l,s,S),p=p.next}while(p!==h)}Xi(r,s,l);break;case 1:if(!In&&(ta(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(M){qt(l,s,M)}Xi(r,s,l);break;case 21:Xi(r,s,l);break;case 22:l.mode&1?(In=(h=In)||l.memoizedState!==null,Xi(r,s,l),In=h):Xi(r,s,l);break;default:Xi(r,s,l)}}function Uy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new OS),s.forEach(function(h){var p=WS.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Dr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=r,S=s,M=S;e:for(;M!==null;){switch(M.tag){case 5:mn=M.stateNode,br=!1;break e;case 3:mn=M.stateNode.containerInfo,br=!0;break e;case 4:mn=M.stateNode.containerInfo,br=!0;break e}M=M.return}if(mn===null)throw Error(t(160));zy(y,S,p),mn=null,br=!1;var $=p.alternate;$!==null&&($.return=null),p.return=null}catch(se){qt(p,s,se)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)$y(s,r),s=s.sibling}function $y(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Dr(s,r),ei(r),h&4){try{Il(3,r,r.return),gc(3,r)}catch(We){qt(r,r.return,We)}try{Il(5,r,r.return)}catch(We){qt(r,r.return,We)}}break;case 1:Dr(s,r),ei(r),h&512&&l!==null&&ta(l,l.return);break;case 5:if(Dr(s,r),ei(r),h&512&&l!==null&&ta(l,l.return),r.flags&32){var p=r.stateNode;try{ie(p,"")}catch(We){qt(r,r.return,We)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,S=l!==null?l.memoizedProps:y,M=r.type,$=r.updateQueue;if(r.updateQueue=null,$!==null)try{M==="input"&&y.type==="radio"&&y.name!=null&&tt(p,y),me(M,S);var se=me(M,y);for(S=0;S<$.length;S+=2){var Re=$[S],be=$[S+1];Re==="style"?Ie(p,be):Re==="dangerouslySetInnerHTML"?ce(p,be):Re==="children"?ie(p,be):z(p,Re,be,se)}switch(M){case"input":He(p,y);break;case"textarea":Qe(p,y);break;case"select":var Pe=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ze=y.value;ze!=null?Nt(p,!!y.multiple,ze,!1):Pe!==!!y.multiple&&(y.defaultValue!=null?Nt(p,!!y.multiple,y.defaultValue,!0):Nt(p,!!y.multiple,y.multiple?[]:"",!1))}p[fl]=y}catch(We){qt(r,r.return,We)}}break;case 6:if(Dr(s,r),ei(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(We){qt(r,r.return,We)}}break;case 3:if(Dr(s,r),ei(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ar(s.containerInfo)}catch(We){qt(r,r.return,We)}break;case 4:Dr(s,r),ei(r);break;case 13:Dr(s,r),ei(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(_f=kt())),h&4&&Uy(r);break;case 22:if(Re=l!==null&&l.memoizedState!==null,r.mode&1?(In=(se=In)||Re,Dr(s,r),In=se):Dr(s,r),ei(r),h&8192){if(se=r.memoizedState!==null,(r.stateNode.isHidden=se)&&!Re&&(r.mode&1)!==0)for($e=r,Re=r.child;Re!==null;){for(be=$e=Re;$e!==null;){switch(Pe=$e,ze=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Il(4,Pe,Pe.return);break;case 1:ta(Pe,Pe.return);var Be=Pe.stateNode;if(typeof Be.componentWillUnmount=="function"){h=Pe,l=Pe.return;try{s=h,Be.props=s.memoizedProps,Be.state=s.memoizedState,Be.componentWillUnmount()}catch(We){qt(h,l,We)}}break;case 5:ta(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){qy(be);continue}}ze!==null?(ze.return=Pe,$e=ze):qy(be)}Re=Re.sibling}e:for(Re=null,be=r;;){if(be.tag===5){if(Re===null){Re=be;try{p=be.stateNode,se?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(M=be.stateNode,$=be.memoizedProps.style,S=$!=null&&$.hasOwnProperty("display")?$.display:null,M.style.display=je("display",S))}catch(We){qt(r,r.return,We)}}}else if(be.tag===6){if(Re===null)try{be.stateNode.nodeValue=se?"":be.memoizedProps}catch(We){qt(r,r.return,We)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===r)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===r)break e;for(;be.sibling===null;){if(be.return===null||be.return===r)break e;Re===be&&(Re=null),be=be.return}Re===be&&(Re=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Dr(s,r),ei(r),h&4&&Uy(r);break;case 21:break;default:Dr(s,r),ei(r)}}function ei(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(jy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ie(p,""),h.flags&=-33);var y=Fy(r);gf(r,y,p);break;case 3:case 4:var S=h.stateNode.containerInfo,M=Fy(r);mf(r,M,S);break;default:throw Error(t(161))}}catch($){qt(r,r.return,$)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function VS(r,s,l){$e=r,By(r)}function By(r,s,l){for(var h=(r.mode&1)!==0;$e!==null;){var p=$e,y=p.child;if(p.tag===22&&h){var S=p.memoizedState!==null||mc;if(!S){var M=p.alternate,$=M!==null&&M.memoizedState!==null||In;M=mc;var se=In;if(mc=S,(In=$)&&!se)for($e=p;$e!==null;)S=$e,$=S.child,S.tag===22&&S.memoizedState!==null?Hy(p):$!==null?($.return=S,$e=$):Hy(p);for(;y!==null;)$e=y,By(y),y=y.sibling;$e=p,mc=M,In=se}Wy(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,$e=y):Wy(r)}}function Wy(r){for(;$e!==null;){var s=$e;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:In||gc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!In)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:xr(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Ug(s,y,h);break;case 3:var S=s.updateQueue;if(S!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ug(s,S,l)}break;case 5:var M=s.stateNode;if(l===null&&s.flags&4){l=M;var $=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&l.focus();break;case"img":$.src&&(l.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var se=s.alternate;if(se!==null){var Re=se.memoizedState;if(Re!==null){var be=Re.dehydrated;be!==null&&Ar(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}In||s.flags&512&&pf(s)}catch(Pe){qt(s,s.return,Pe)}}if(s===r){$e=null;break}if(l=s.sibling,l!==null){l.return=s.return,$e=l;break}$e=s.return}}function qy(r){for(;$e!==null;){var s=$e;if(s===r){$e=null;break}var l=s.sibling;if(l!==null){l.return=s.return,$e=l;break}$e=s.return}}function Hy(r){for(;$e!==null;){var s=$e;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{gc(4,s)}catch($){qt(s,l,$)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch($){qt(s,p,$)}}var y=s.return;try{pf(s)}catch($){qt(s,y,$)}break;case 5:var S=s.return;try{pf(s)}catch($){qt(s,S,$)}}}catch($){qt(s,s.return,$)}if(s===r){$e=null;break}var M=s.sibling;if(M!==null){M.return=s.return,$e=M;break}$e=s.return}}var MS=Math.ceil,yc=Y.ReactCurrentDispatcher,yf=Y.ReactCurrentOwner,hr=Y.ReactCurrentBatchConfig,Et=0,ln=null,Jt=null,gn=0,er=0,na=Gi(0),rn=0,Cl=null,Qs=0,vc=0,vf=0,Al=null,Fn=null,_f=0,ra=1/0,_i=null,_c=!1,wf=null,Zi=null,wc=!1,es=null,Ec=0,Pl=0,Ef=null,Tc=-1,Sc=0;function Nn(){return(Et&6)!==0?kt():Tc!==-1?Tc:Tc=kt()}function ts(r){return(r.mode&1)===0?1:(Et&2)!==0&&gn!==0?gn&-gn:wS.transition!==null?(Sc===0&&(Sc=Ms()),Sc):(r=mt,r!==0||(r=window.event,r=r===void 0?16:tl(r.type)),r)}function Nr(r,s,l,h){if(50<Pl)throw Pl=0,Ef=null,Error(t(185));Fi(r,l,h),((Et&2)===0||r!==ln)&&(r===ln&&((Et&2)===0&&(vc|=l),rn===4&&ns(r,gn)),zn(r,h),l===1&&Et===0&&(s.mode&1)===0&&(ra=kt()+500,Ju&&Qi()))}function zn(r,s){var l=r.callbackNode;ai(r,s);var h=Vs(r,r===ln?gn:0);if(h===0)l!==null&&Ya(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Ya(l),s===1)r.tag===0?_S(Ky.bind(null,r)):Dg(Ky.bind(null,r)),mS(function(){(Et&6)===0&&Qi()}),l=null;else{switch(Ui(h)){case 1:l=Os;break;case 4:l=Vi;break;case 16:l=ir;break;case 536870912:l=Su;break;default:l=ir}l=nv(l,Gy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Gy(r,s){if(Tc=-1,Sc=0,(Et&6)!==0)throw Error(t(327));var l=r.callbackNode;if(ia()&&r.callbackNode!==l)return null;var h=Vs(r,r===ln?gn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=Ic(r,h);else{s=h;var p=Et;Et|=2;var y=Yy();(ln!==r||gn!==s)&&(_i=null,ra=kt()+500,Js(r,s));do try{zS();break}catch(M){Qy(r,M)}while(!0);jd(),yc.current=y,Et=p,Jt!==null?s=0:(ln=null,gn=0,s=rn)}if(s!==0){if(s===2&&(p=Qn(r),p!==0&&(h=p,s=Tf(r,p))),s===1)throw l=Cl,Js(r,0),ns(r,h),zn(r,kt()),l;if(s===6)ns(r,h);else{if(p=r.current.alternate,(h&30)===0&&!jS(p)&&(s=Ic(r,h),s===2&&(y=Qn(r),y!==0&&(h=y,s=Tf(r,y))),s===1))throw l=Cl,Js(r,0),ns(r,h),zn(r,kt()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Xs(r,Fn,_i);break;case 3:if(ns(r,h),(h&130023424)===h&&(s=_f+500-kt(),10<s)){if(Vs(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Nn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Pd(Xs.bind(null,r,Fn,_i),s);break}Xs(r,Fn,_i);break;case 4:if(ns(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var S=31-xn(h);y=1<<S,S=s[S],S>p&&(p=S),h&=~y}if(h=p,h=kt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*MS(h/1960))-h,10<h){r.timeoutHandle=Pd(Xs.bind(null,r,Fn,_i),h);break}Xs(r,Fn,_i);break;case 5:Xs(r,Fn,_i);break;default:throw Error(t(329))}}}return zn(r,kt()),r.callbackNode===l?Gy.bind(null,r):null}function Tf(r,s){var l=Al;return r.current.memoizedState.isDehydrated&&(Js(r,s).flags|=256),r=Ic(r,s),r!==2&&(s=Fn,Fn=l,s!==null&&Sf(s)),r}function Sf(r){Fn===null?Fn=r:Fn.push.apply(Fn,r)}function jS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Rr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ns(r,s){for(s&=~vf,s&=~vc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-xn(s),h=1<<l;r[l]=-1,s&=~h}}function Ky(r){if((Et&6)!==0)throw Error(t(327));ia();var s=Vs(r,0);if((s&1)===0)return zn(r,kt()),null;var l=Ic(r,s);if(r.tag!==0&&l===2){var h=Qn(r);h!==0&&(s=h,l=Tf(r,h))}if(l===1)throw l=Cl,Js(r,0),ns(r,s),zn(r,kt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Xs(r,Fn,_i),zn(r,kt()),null}function If(r,s){var l=Et;Et|=1;try{return r(s)}finally{Et=l,Et===0&&(ra=kt()+500,Ju&&Qi())}}function Ys(r){es!==null&&es.tag===0&&(Et&6)===0&&ia();var s=Et;Et|=1;var l=hr.transition,h=mt;try{if(hr.transition=null,mt=1,r)return r()}finally{mt=h,hr.transition=l,Et=s,(Et&6)===0&&Qi()}}function Cf(){er=na.current,Lt(na)}function Js(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,pS(l)),Jt!==null)for(l=Jt.return;l!==null;){var h=l;switch(Nd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Qu();break;case 3:Zo(),Lt(Vn),Lt(En),Kd();break;case 5:Hd(h);break;case 4:Zo();break;case 13:Lt($t);break;case 19:Lt($t);break;case 10:Fd(h.type._context);break;case 22:case 23:Cf()}l=l.return}if(ln=r,Jt=r=rs(r.current,null),gn=er=s,rn=0,Cl=null,vf=vc=Qs=0,Fn=Al=null,Hs!==null){for(s=0;s<Hs.length;s++)if(l=Hs[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var S=y.next;y.next=p,h.next=S}l.pending=h}Hs=null}return r}function Qy(r,s){do{var l=Jt;try{if(jd(),lc.current=dc,uc){for(var h=Bt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}uc=!1}if(Ks=0,an=nn=Bt=null,_l=!1,wl=0,yf.current=null,l===null||l.return===null){rn=1,Cl=s,Jt=null;break}e:{var y=r,S=l.return,M=l,$=s;if(s=gn,M.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var se=$,Re=M,be=Re.tag;if((Re.mode&1)===0&&(be===0||be===11||be===15)){var Pe=Re.alternate;Pe?(Re.updateQueue=Pe.updateQueue,Re.memoizedState=Pe.memoizedState,Re.lanes=Pe.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var ze=wy(S);if(ze!==null){ze.flags&=-257,Ey(ze,S,M,y,s),ze.mode&1&&_y(y,se,s),s=ze,$=se;var Be=s.updateQueue;if(Be===null){var We=new Set;We.add($),s.updateQueue=We}else Be.add($);break e}else{if((s&1)===0){_y(y,se,s),Af();break e}$=Error(t(426))}}else if(jt&&M.mode&1){var Gt=wy(S);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),Ey(Gt,S,M,y,s),Vd(ea($,M));break e}}y=$=ea($,M),rn!==4&&(rn=2),Al===null?Al=[y]:Al.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var Z=yy(y,$,s);zg(y,Z);break e;case 1:M=$;var q=y.type,te=y.stateNode;if((y.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Zi===null||!Zi.has(te)))){y.flags|=65536,s&=-s,y.lanes|=s;var Oe=vy(y,M,s);zg(y,Oe);break e}}y=y.return}while(y!==null)}Xy(l)}catch(qe){s=qe,Jt===l&&l!==null&&(Jt=l=l.return);continue}break}while(!0)}function Yy(){var r=yc.current;return yc.current=dc,r===null?dc:r}function Af(){(rn===0||rn===3||rn===2)&&(rn=4),ln===null||(Qs&268435455)===0&&(vc&268435455)===0||ns(ln,gn)}function Ic(r,s){var l=Et;Et|=2;var h=Yy();(ln!==r||gn!==s)&&(_i=null,Js(r,s));do try{FS();break}catch(p){Qy(r,p)}while(!0);if(jd(),Et=l,yc.current=h,Jt!==null)throw Error(t(261));return ln=null,gn=0,rn}function FS(){for(;Jt!==null;)Jy(Jt)}function zS(){for(;Jt!==null&&!Eu();)Jy(Jt)}function Jy(r){var s=tv(r.alternate,r,er);r.memoizedProps=r.pendingProps,s===null?Xy(r):Jt=s,yf.current=null}function Xy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=DS(l,s,er),l!==null){Jt=l;return}}else{if(l=NS(l,s),l!==null){l.flags&=32767,Jt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{rn=6,Jt=null;return}}if(s=s.sibling,s!==null){Jt=s;return}Jt=s=r}while(s!==null);rn===0&&(rn=5)}function Xs(r,s,l){var h=mt,p=hr.transition;try{hr.transition=null,mt=1,US(r,s,l,h)}finally{hr.transition=p,mt=h}return null}function US(r,s,l,h){do ia();while(es!==null);if((Et&6)!==0)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Rt(r,y),r===ln&&(Jt=ln=null,gn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||wc||(wc=!0,nv(ir,function(){return ia(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=hr.transition,hr.transition=null;var S=mt;mt=1;var M=Et;Et|=4,yf.current=null,LS(r,l),$y(l,r),aS(Cd),Bi=!!Id,Cd=Id=null,r.current=l,VS(l),ld(),Et=M,mt=S,hr.transition=y}else r.current=l;if(wc&&(wc=!1,es=r,Ec=p),y=r.pendingLanes,y===0&&(Zi=null),Iu(l.stateNode),zn(r,kt()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(_c)throw _c=!1,r=wf,wf=null,r;return(Ec&1)!==0&&r.tag!==0&&ia(),y=r.pendingLanes,(y&1)!==0?r===Ef?Pl++:(Pl=0,Ef=r):Pl=0,Qi(),null}function ia(){if(es!==null){var r=Ui(Ec),s=hr.transition,l=mt;try{if(hr.transition=null,mt=16>r?16:r,es===null)var h=!1;else{if(r=es,es=null,Ec=0,(Et&6)!==0)throw Error(t(331));var p=Et;for(Et|=4,$e=r.current;$e!==null;){var y=$e,S=y.child;if(($e.flags&16)!==0){var M=y.deletions;if(M!==null){for(var $=0;$<M.length;$++){var se=M[$];for($e=se;$e!==null;){var Re=$e;switch(Re.tag){case 0:case 11:case 15:Il(8,Re,y)}var be=Re.child;if(be!==null)be.return=Re,$e=be;else for(;$e!==null;){Re=$e;var Pe=Re.sibling,ze=Re.return;if(My(Re),Re===se){$e=null;break}if(Pe!==null){Pe.return=ze,$e=Pe;break}$e=ze}}}var Be=y.alternate;if(Be!==null){var We=Be.child;if(We!==null){Be.child=null;do{var Gt=We.sibling;We.sibling=null,We=Gt}while(We!==null)}}$e=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,$e=S;else e:for(;$e!==null;){if(y=$e,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Il(9,y,y.return)}var Z=y.sibling;if(Z!==null){Z.return=y.return,$e=Z;break e}$e=y.return}}var q=r.current;for($e=q;$e!==null;){S=$e;var te=S.child;if((S.subtreeFlags&2064)!==0&&te!==null)te.return=S,$e=te;else e:for(S=q;$e!==null;){if(M=$e,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:gc(9,M)}}catch(qe){qt(M,M.return,qe)}if(M===S){$e=null;break e}var Oe=M.sibling;if(Oe!==null){Oe.return=M.return,$e=Oe;break e}$e=M.return}}if(Et=p,Qi(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Ls,r)}catch{}h=!0}return h}finally{mt=l,hr.transition=s}}return!1}function Zy(r,s,l){s=ea(l,s),s=yy(r,s,1),r=Ji(r,s,1),s=Nn(),r!==null&&(Fi(r,1,s),zn(r,s))}function qt(r,s,l){if(r.tag===3)Zy(r,r,l);else for(;s!==null;){if(s.tag===3){Zy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Zi===null||!Zi.has(h))){r=ea(l,r),r=vy(s,r,1),s=Ji(s,r,1),r=Nn(),s!==null&&(Fi(s,1,r),zn(s,r));break}}s=s.return}}function $S(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Nn(),r.pingedLanes|=r.suspendedLanes&l,ln===r&&(gn&l)===l&&(rn===4||rn===3&&(gn&130023424)===gn&&500>kt()-_f?Js(r,0):vf|=l),zn(r,s)}function ev(r,s){s===0&&((r.mode&1)===0?s=1:(s=Po,Po<<=1,(Po&130023424)===0&&(Po=4194304)));var l=Nn();r=gi(r,s),r!==null&&(Fi(r,s,l),zn(r,l))}function BS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),ev(r,l)}function WS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ev(r,l)}var tv;tv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Vn.current)jn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return jn=!1,bS(r,s,l);jn=(r.flags&131072)!==0}else jn=!1,jt&&(s.flags&1048576)!==0&&Ng(s,Zu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;pc(r,s),r=s.pendingProps;var p=Ho(s,En.current);Jo(s,l),p=Jd(null,s,h,r,p,l);var y=Xd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mn(h)?(y=!0,Yu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,$d(s),p.updater=sc,s.stateNode=p,p._reactInternals=s,Wd(s,h,r,l),s=af(null,s,h,!0,y,l)):(s.tag=0,jt&&y&&Dd(s),Dn(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(pc(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=HS(h),r=xr(h,r),p){case 0:s=of(null,s,h,r,l);break e;case 1:s=Py(null,s,h,r,l);break e;case 11:s=Ty(null,s,h,r,l);break e;case 14:s=Sy(null,s,h,xr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:xr(h,p),of(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:xr(h,p),Py(r,s,h,p,l);case 3:e:{if(Ry(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,Fg(r,s),ic(s,h,null,l);var S=s.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=ea(Error(t(423)),s),s=ky(r,s,h,l,p);break e}else if(h!==p){p=ea(Error(t(424)),s),s=ky(r,s,h,l,p);break e}else for(Zn=Hi(s.stateNode.containerInfo.firstChild),Xn=s,jt=!0,kr=null,l=Kg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qo(),h===p){s=vi(r,s,l);break e}Dn(r,s,h,l)}s=s.child}return s;case 5:return Qg(s),r===null&&Ld(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,S=p.children,Ad(h,p)?S=null:y!==null&&Ad(h,y)&&(s.flags|=32),Ay(r,s),Dn(r,s,S,l),s.child;case 6:return r===null&&Ld(s),null;case 13:return xy(r,s,l);case 4:return qd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Xo(s,null,h,l):Dn(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:xr(h,p),Ty(r,s,h,p,l);case 7:return Dn(r,s,s.pendingProps,l),s.child;case 8:return Dn(r,s,s.pendingProps.children,l),s.child;case 12:return Dn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,S=p.value,xt(tc,h._currentValue),h._currentValue=S,y!==null)if(Rr(y.value,S)){if(y.children===p.children&&!Vn.current){s=vi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var M=y.dependencies;if(M!==null){S=y.child;for(var $=M.firstContext;$!==null;){if($.context===h){if(y.tag===1){$=yi(-1,l&-l),$.tag=2;var se=y.updateQueue;if(se!==null){se=se.shared;var Re=se.pending;Re===null?$.next=$:($.next=Re.next,Re.next=$),se.pending=$}}y.lanes|=l,$=y.alternate,$!==null&&($.lanes|=l),zd(y.return,l,s),M.lanes|=l;break}$=$.next}}else if(y.tag===10)S=y.type===s.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,M=S.alternate,M!==null&&(M.lanes|=l),zd(S,l,s),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===s){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Dn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Jo(s,l),p=ur(p),h=h(p),s.flags|=1,Dn(r,s,h,l),s.child;case 14:return h=s.type,p=xr(h,s.pendingProps),p=xr(h.type,p),Sy(r,s,h,p,l);case 15:return Iy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:xr(h,p),pc(r,s),s.tag=1,Mn(h)?(r=!0,Yu(s)):r=!1,Jo(s,l),Wg(s,h,p),Wd(s,h,p,l),af(null,s,h,!0,r,l);case 19:return Dy(r,s,l);case 22:return Cy(r,s,l)}throw Error(t(156,s.tag))};function nv(r,s){return Co(r,s)}function qS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,s,l,h){return new qS(r,s,l,h)}function Pf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function HS(r){if(typeof r=="function")return Pf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===pe)return 14}return 2}function rs(r,s){var l=r.alternate;return l===null?(l=dr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Cc(r,s,l,h,p,y){var S=2;if(h=r,typeof r=="function")Pf(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case V:return Zs(l.children,p,y,s);case k:S=8,p|=8;break;case x:return r=dr(12,l,s,p|2),r.elementType=x,r.lanes=y,r;case R:return r=dr(13,l,s,p),r.elementType=R,r.lanes=y,r;case de:return r=dr(19,l,s,p),r.elementType=de,r.lanes=y,r;case Ee:return Ac(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:S=10;break e;case O:S=9;break e;case j:S=11;break e;case pe:S=14;break e;case ge:S=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=dr(S,l,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function Zs(r,s,l,h){return r=dr(7,r,h,s),r.lanes=l,r}function Ac(r,s,l,h){return r=dr(22,r,h,s),r.elementType=Ee,r.lanes=l,r.stateNode={isHidden:!1},r}function Rf(r,s,l){return r=dr(6,r,null,s),r.lanes=l,r}function kf(r,s,l){return s=dr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function GS(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ji(0),this.expirationTimes=ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function xf(r,s,l,h,p,y,S,M,$){return r=new GS(r,s,l,M,$),s===1?(s=1,y===!0&&(s|=8)):s=0,y=dr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},$d(y),r}function KS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function rv(r){if(!r)return Ki;r=r._reactInternals;e:{if(Er(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Mn(l))return xg(r,l,s)}return s}function iv(r,s,l,h,p,y,S,M,$){return r=xf(l,h,!0,r,p,y,S,M,$),r.context=rv(null),l=r.current,h=Nn(),p=ts(l),y=yi(h,p),y.callback=s??null,Ji(l,y,p),r.current.lanes=p,Fi(r,p,h),zn(r,h),r}function Pc(r,s,l,h){var p=s.current,y=Nn(),S=ts(p);return l=rv(l),s.context===null?s.context=l:s.pendingContext=l,s=yi(y,S),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Ji(p,s,S),r!==null&&(Nr(r,p,S,y),rc(r,p,S)),S}function Rc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function bf(r,s){sv(r,s),(r=r.alternate)&&sv(r,s)}function QS(){return null}var ov=typeof reportError=="function"?reportError:function(r){console.error(r)};function Df(r){this._internalRoot=r}kc.prototype.render=Df.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Pc(r,s,null,null)},kc.prototype.unmount=Df.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ys(function(){Pc(null,r,null,null)}),s[di]=null}};function kc(r){this._internalRoot=r}kc.prototype.unstable_scheduleHydration=function(r){if(r){var s=ku();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Gr.length&&s!==0&&s<Gr[l].priority;l++);Gr.splice(l,0,r),l===0&&Du(r)}};function Nf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function xc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function av(){}function YS(r,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var se=Rc(S);y.call(se)}}var S=iv(s,h,r,0,null,!1,!1,"",av);return r._reactRootContainer=S,r[di]=S.current,hl(r.nodeType===8?r.parentNode:r),Ys(),S}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var M=h;h=function(){var se=Rc($);M.call(se)}}var $=xf(r,0,!1,null,null,!1,!1,"",av);return r._reactRootContainer=$,r[di]=$.current,hl(r.nodeType===8?r.parentNode:r),Ys(function(){Pc(s,$,l,h)}),$}function bc(r,s,l,h,p){var y=l._reactRootContainer;if(y){var S=y;if(typeof p=="function"){var M=p;p=function(){var $=Rc(S);M.call($)}}Pc(s,S,r,p)}else S=YS(l,s,r,p,h);return Rc(S)}Pu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Mi(s.pendingLanes);l!==0&&(zi(s,l|1),zn(s,kt()),(Et&6)===0&&(ra=kt()+500,Qi()))}break;case 13:Ys(function(){var h=gi(r,1);if(h!==null){var p=Nn();Nr(h,r,1,p)}}),bf(r,1)}},Ro=function(r){if(r.tag===13){var s=gi(r,134217728);if(s!==null){var l=Nn();Nr(s,r,134217728,l)}bf(r,134217728)}},Ru=function(r){if(r.tag===13){var s=ts(r),l=gi(r,s);if(l!==null){var h=Nn();Nr(l,r,s,h)}bf(r,s)}},ku=function(){return mt},xu=function(r,s){var l=mt;try{return mt=r,s()}finally{mt=l}},ve=function(r,s,l){switch(s){case"input":if(He(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=Ku(h);if(!p)throw Error(t(90));xe(h),He(h,p)}}}break;case"textarea":Qe(r,l);break;case"select":s=l.value,s!=null&&Nt(r,!!l.multiple,s,!1)}},Tt=If,Hn=Ys;var JS={usingClientEntryPoint:!1,Events:[pl,Wo,Ku,rt,yt,If]},Rl={findFiberByHostInstance:$s,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XS={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Qa(r),r===null?null:r.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||QS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Ls=Dc.inject(XS),Kn=Dc}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS,Un.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nf(s))throw Error(t(200));return KS(r,s,null,l)},Un.createRoot=function(r,s){if(!Nf(r))throw Error(t(299));var l=!1,h="",p=ov;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=xf(r,1,!1,null,null,l,!1,h,p),r[di]=s.current,hl(r.nodeType===8?r.parentNode:r),new Df(s)},Un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Qa(s),r=r===null?null:r.stateNode,r},Un.flushSync=function(r){return Ys(r)},Un.hydrate=function(r,s,l){if(!xc(s))throw Error(t(200));return bc(null,r,s,!0,l)},Un.hydrateRoot=function(r,s,l){if(!Nf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",S=ov;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),s=iv(s,null,r,1,l??null,p,!1,y,S),r[di]=s.current,hl(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new kc(s)},Un.render=function(r,s,l){if(!xc(s))throw Error(t(200));return bc(null,r,s,!1,l)},Un.unmountComponentAtNode=function(r){if(!xc(r))throw Error(t(40));return r._reactRootContainer?(Ys(function(){bc(null,null,r,!1,function(){r._reactRootContainer=null,r[di]=null})}),!0):!1},Un.unstable_batchedUpdates=If,Un.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!xc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return bc(r,s,l,!1,h)},Un.version="18.2.0-next-9e3b772b8-20220608",Un}var mv;function o1(){if(mv)return Vf.exports;mv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vf.exports=s1(),Vf.exports}var gv;function a1(){if(gv)return Nc;gv=1;var n=o1();return Nc.createRoot=n.createRoot,Nc.hydrateRoot=n.hydrateRoot,Nc}var l1=a1(),xl={},yv;function u1(){if(yv)return xl;yv=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=c,xl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,A){const C=new a,I=w.length;if(I<2)return C;const T=(A==null?void 0:A.decode)||v;let D=0;do{const F=w.indexOf("=",D);if(F===-1)break;const z=w.indexOf(";",D),Y=z===-1?I:z;if(F>Y){D=w.lastIndexOf(";",F-1)+1;continue}const B=d(w,D,F),we=f(w,F,B),V=w.slice(B,we);if(C[V]===void 0){let k=d(w,F+1,Y),x=f(w,Y,k);const N=T(w.slice(k,x));C[V]=N}D=Y+1}while(D<I);return C}function d(w,A,C){do{const I=w.charCodeAt(A);if(I!==32&&I!==9)return A}while(++A<C);return C}function f(w,A,C){for(;A>C;){const I=w.charCodeAt(--A);if(I!==32&&I!==9)return A+1}return C}function m(w,A,C){const I=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const T=I(A);if(!e.test(T))throw new TypeError(`argument val is invalid: ${A}`);let D=w+"="+T;if(!C)return D;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);D+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);D+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);D+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);D+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(D+="; HttpOnly"),C.secure&&(D+="; Secure"),C.partitioned&&(D+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return D}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function E(w){return o.call(w)==="[object Date]"}return xl}u1();var vv="popstate";function c1(n={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return cp("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Hl(o)}return d1(e,t,null,n)}function Ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function _v(n,e){return{usr:n.state,key:n.key,idx:e}}function cp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?La(e):e,state:t,key:e&&e.key||i||h1()}}function Hl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function La(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function d1(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",f=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let T=v(),D=T==null?null:T-m;m=T,f&&f({action:d,location:I.location,delta:D})}function w(T,D){d="PUSH";let F=cp(I.location,T,D);m=v()+1;let z=_v(F,m),Y=I.createHref(F);try{c.pushState(z,"",Y)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(Y)}a&&f&&f({action:d,location:I.location,delta:1})}function A(T,D){d="REPLACE";let F=cp(I.location,T,D);m=v();let z=_v(F,m),Y=I.createHref(F);c.replaceState(z,"",Y),a&&f&&f({action:d,location:I.location,delta:0})}function C(T){return f1(T)}let I={get action(){return d},get location(){return n(o,c)},listen(T){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(vv,E),f=T,()=>{o.removeEventListener(vv,E),f=null}},createHref(T){return e(o,T)},createURL:C,encodeLocation(T){let D=C(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:A,go(T){return c.go(T)}};return I}function f1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Hl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Nw(n,e,t="/"){return p1(n,e,t,!1)}function p1(n,e,t,i){let o=typeof e=="string"?La(e):e,a=Ri(o.pathname||"/",t);if(a==null)return null;let c=Ow(n);m1(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=A1(a);d=I1(c[f],m,i)}return d}function Ow(n,e=[],t=[],i=""){let o=(a,c,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(Ft(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=Ci([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Ft(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ow(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:T1(m,a.index),routesMeta:v})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let f of Lw(a.path))o(a,c,f)}),e}function Lw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Lw(i.join("/")),d=[];return d.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...c),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function m1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:S1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var g1=/^:[\w-]+$/,y1=3,v1=2,_1=1,w1=10,E1=-2,wv=n=>n==="*";function T1(n,e){let t=n.split("/"),i=t.length;return t.some(wv)&&(i+=E1),e&&(i+=v1),t.filter(o=>!wv(o)).reduce((o,a)=>o+(g1.test(a)?y1:a===""?_1:w1),i)}function S1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function I1(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=rh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),w=f.route;if(!E&&m&&t&&!i[i.length-1].route.index&&(E=rh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Ci([a,E.pathname]),pathnameBase:x1(Ci([a,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(a=Ci([a,E.pathnameBase]))}return c}function rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=C1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:E},w)=>{if(v==="*"){let C=d[w]||"";c=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const A=d[w];return E&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function C1(n,e=!1,t=!0){zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function A1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ri(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function P1(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?La(n):n;return{pathname:t?t.startsWith("/")?t:R1(t,e):e,search:b1(i),hash:D1(o)}}function R1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ff(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gp(n){let e=k1(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Kp(n,e,t,i=!1){let o;typeof n=="string"?o=La(n):(o={...n},Ft(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),Ft(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),Ft(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;o.pathname=w.join("/")}d=E>=0?e[E]:"/"}let f=P1(o,d),m=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),x1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,D1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function N1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Vw=["POST","PUT","PATCH","DELETE"];new Set(Vw);var O1=["GET",...Vw];new Set(O1);var Va=W.createContext(null);Va.displayName="DataRouter";var Ah=W.createContext(null);Ah.displayName="DataRouterState";var Mw=W.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var L1=W.createContext(new Map);L1.displayName="Fetchers";var V1=W.createContext(null);V1.displayName="Await";var Br=W.createContext(null);Br.displayName="Navigation";var eu=W.createContext(null);eu.displayName="Location";var Wr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Qp=W.createContext(null);Qp.displayName="RouteError";function M1(n,{relative:e}={}){Ft(Ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=W.useContext(Br),{hash:o,pathname:a,search:c}=nu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Ci([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Ma(){return W.useContext(eu)!=null}function As(){return Ft(Ma(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(eu).location}var jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fw(n){W.useContext(Br).static||W.useLayoutEffect(n)}function tu(){let{isDataRoute:n}=W.useContext(Wr);return n?Y1():j1()}function j1(){Ft(Ma(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Va),{basename:e,navigator:t}=W.useContext(Br),{matches:i}=W.useContext(Wr),{pathname:o}=As(),a=JSON.stringify(Gp(i)),c=W.useRef(!1);return Fw(()=>{c.current=!0}),W.useCallback((f,m={})=>{if(zr(c.current,jw),!c.current)return;if(typeof f=="number"){t.go(f);return}let v=Kp(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ci([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}W.createContext(null);function zw(){let{matches:n}=W.useContext(Wr),e=n[n.length-1];return e?e.params:{}}function nu(n,{relative:e}={}){let{matches:t}=W.useContext(Wr),{pathname:i}=As(),o=JSON.stringify(Gp(t));return W.useMemo(()=>Kp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function F1(n,e){return Uw(n,e)}function Uw(n,e,t,i){var F;Ft(Ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=W.useContext(Br),{matches:c}=W.useContext(Wr),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let z=E&&E.path||"";$w(m,!E||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let w=As(),A;if(e){let z=typeof e=="string"?La(e):e;Ft(v==="/"||((F=z.pathname)==null?void 0:F.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),A=z}else A=w;let C=A.pathname||"/",I=C;if(v!=="/"){let z=v.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let T=!a&&t&&t.matches&&t.matches.length>0?t.matches:Nw(n,{pathname:I});zr(E||T!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),zr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=W1(T&&T.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Ci([v,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Ci([v,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,t,i);return e&&D?W.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},D):D}function z1(){let n=Q1(),e=N1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:a},"ErrorBoundary")," or"," ",W.createElement("code",{style:a},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:o},t):null,c)}var U1=W.createElement(z1,null),$1=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Wr.Provider,{value:this.props.routeContext},W.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B1({routeContext:n,match:e,children:t}){let i=W.useContext(Va);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Wr.Provider,{value:n},t)}function W1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:v,errors:E}=t,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,v)=>{let E,w=!1,A=null,C=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,A=m.route.errorElement||U1,c&&(d<0&&v===0?($w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):d===v&&(w=!0,C=m.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,v+1)),T=()=>{let D;return E?D=A:w?D=C:m.route.Component?D=W.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=f,W.createElement(B1,{match:m,routeContext:{outlet:f,matches:I,isDataRoute:t!=null},children:D})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?W.createElement($1,{location:t.location,revalidation:t.revalidation,component:A,error:E,children:T(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):T()},null)}function Yp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q1(n){let e=W.useContext(Va);return Ft(e,Yp(n)),e}function H1(n){let e=W.useContext(Ah);return Ft(e,Yp(n)),e}function G1(n){let e=W.useContext(Wr);return Ft(e,Yp(n)),e}function Jp(n){let e=G1(n),t=e.matches[e.matches.length-1];return Ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function K1(){return Jp("useRouteId")}function Q1(){var i;let n=W.useContext(Qp),e=H1("useRouteError"),t=Jp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Y1(){let{router:n}=q1("useNavigate"),e=Jp("useNavigate"),t=W.useRef(!1);return Fw(()=>{t.current=!0}),W.useCallback(async(o,a={})=>{zr(t.current,jw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Ev={};function $w(n,e,t){!e&&!Ev[n]&&(Ev[n]=!0,zr(!1,t))}W.memo(J1);function J1({routes:n,future:e,state:t}){return Uw(n,void 0,t,e)}function hp({to:n,replace:e,state:t,relative:i}){Ft(Ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Br);zr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=W.useContext(Wr),{pathname:c}=As(),d=tu(),f=Kp(n,Gp(a),c,i==="path"),m=JSON.stringify(f);return W.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function cs(n){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Ft(!Ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=La(t));let{pathname:f="/",search:m="",hash:v="",state:E=null,key:w="default"}=t,A=W.useMemo(()=>{let C=Ri(f,c);return C==null?null:{location:{pathname:C,search:m,hash:v,state:E,key:w},navigationType:i}},[c,f,m,v,E,w,i]);return zr(A!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:W.createElement(Br.Provider,{value:d},W.createElement(eu.Provider,{children:e,value:A}))}function Bw({children:n,location:e}){return F1(dp(n),e)}function dp(n,e=[]){let t=[];return W.Children.forEach(n,(i,o)=>{if(!W.isValidElement(i))return;let a=[...e,o];if(i.type===W.Fragment){t.push.apply(t,dp(i.props.children,a));return}Ft(i.type===cs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=dp(i.props.children,a)),t.push(c)}),t}var Bc="get",Wc="application/x-www-form-urlencoded";function Ph(n){return n!=null&&typeof n.tagName=="string"}function Z1(n){return Ph(n)&&n.tagName.toLowerCase()==="button"}function eI(n){return Ph(n)&&n.tagName.toLowerCase()==="form"}function tI(n){return Ph(n)&&n.tagName.toLowerCase()==="input"}function nI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rI(n,e){return n.button===0&&(!e||e==="_self")&&!nI(n)}var Oc=null;function iI(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var sI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(n){return n!=null&&!sI.has(n)?(zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):n}function oI(n,e){let t,i,o,a,c;if(eI(n)){let d=n.getAttribute("action");i=d?Ri(d,e):null,t=n.getAttribute("method")||Bc,o=zf(n.getAttribute("enctype"))||Wc,a=new FormData(n)}else if(Z1(n)||tI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?Ri(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Bc,o=zf(n.getAttribute("formenctype"))||zf(d.getAttribute("enctype"))||Wc,a=new FormData(d,n),!iI()){let{name:m,type:v,value:E}=n;if(v==="image"){let w=m?`${m}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else m&&a.append(m,E)}}else{if(Ph(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Bc,i=null,o=Wc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Xp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function aI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uI(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await aI(a,t);return c.links?c.links():[]}return[]}));return fI(i.flat(1).filter(lI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Tv(n,e,t,i,o,a){let c=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{var E;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function cI(n,e,{includeHydrateFallback:t}={}){return hI(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function hI(n){return[...new Set(n)]}function dI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function fI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(dI(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var pI=new Set([100,101,204,205]);function mI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ri(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Ww(){let n=W.useContext(Va);return Xp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gI(){let n=W.useContext(Ah);return Xp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zp=W.createContext(void 0);Zp.displayName="FrameworkContext";function qw(){let n=W.useContext(Zp);return Xp(n,"You must render this element inside a <HydratedRouter> element"),n}function yI(n,e){let t=W.useContext(Zp),[i,o]=W.useState(!1),[a,c]=W.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:E}=e,w=W.useRef(null);W.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=D=>{D.forEach(F=>{c(F.isIntersecting)})},T=new IntersectionObserver(I,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[n]),W.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let A=()=>{o(!0)},C=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,w,{}]:[a,w,{onFocus:bl(d,A),onBlur:bl(f,C),onMouseEnter:bl(m,A),onMouseLeave:bl(v,C),onTouchStart:bl(E,A)}]:[!1,w,{}]}function bl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vI({page:n,...e}){let{router:t}=Ww(),i=W.useMemo(()=>Nw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?W.createElement(wI,{page:n,matches:i,...e}):null}function _I(n){let{manifest:e,routeModules:t}=qw(),[i,o]=W.useState([]);return W.useEffect(()=>{let a=!1;return uI(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function wI({page:n,matches:e,...t}){let i=As(),{manifest:o,routeModules:a}=qw(),{basename:c}=Ww(),{loaderData:d,matches:f}=gI(),m=W.useMemo(()=>Tv(n,e,f,o,i,"data"),[n,e,f,o,i]),v=W.useMemo(()=>Tv(n,e,f,o,i,"assets"),[n,e,f,o,i]),E=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,I=!1;if(e.forEach(D=>{var z;let F=o.routes[D.route.id];!F||!F.hasLoader||(!m.some(Y=>Y.route.id===D.route.id)&&D.route.id in d&&((z=a[D.route.id])!=null&&z.shouldRevalidate)||F.hasClientLoader?I=!0:C.add(D.route.id))}),C.size===0)return[];let T=mI(n,c);return I&&C.size>0&&T.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[c,d,i,o,m,e,n,a]),w=W.useMemo(()=>cI(v,o),[v,o]),A=_I(v);return W.createElement(W.Fragment,null,E.map(C=>W.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>W.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),A.map(({key:C,link:I})=>W.createElement("link",{key:C,...I})))}function EI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hw&&(window.__reactRouterVersion="7.6.0")}catch{}function TI({basename:n,children:e,window:t}){let i=W.useRef();i.current==null&&(i.current=c1({window:t,v5Compat:!0}));let o=i.current,[a,c]=W.useState({action:o.action,location:o.location}),d=W.useCallback(f=>{W.startTransition(()=>c(f))},[c]);return W.useLayoutEffect(()=>o.listen(d),[o,d]),W.createElement(X1,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kw=W.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:f,to:m,preventScrollReset:v,viewTransition:E,...w},A){let{basename:C}=W.useContext(Br),I=typeof m=="string"&&Gw.test(m),T,D=!1;if(typeof m=="string"&&I&&(T=m,Hw))try{let x=new URL(window.location.href),N=m.startsWith("//")?new URL(x.protocol+m):new URL(m),O=Ri(N.pathname,C);N.origin===x.origin&&O!=null?m=O+N.search+N.hash:D=!0}catch{zr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=M1(m,{relative:o}),[z,Y,B]=yI(i,w),we=AI(m,{replace:c,state:d,target:f,preventScrollReset:v,relative:o,viewTransition:E});function V(x){e&&e(x),x.defaultPrevented||we(x)}let k=W.createElement("a",{...w,...B,href:T||F,onClick:D||a?e:V,ref:EI(A,Y),target:f,"data-discover":!I&&t==="render"?"true":void 0});return z&&!I?W.createElement(W.Fragment,null,k,W.createElement(vI,{page:F})):k});Kw.displayName="Link";var SI=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:f,...m},v){let E=nu(c,{relative:m.relative}),w=As(),A=W.useContext(Ah),{navigator:C,basename:I}=W.useContext(Br),T=A!=null&&bI(E)&&d===!0,D=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,F=w.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(F=F.toLowerCase(),z=z?z.toLowerCase():null,D=D.toLowerCase()),z&&I&&(z=Ri(z,I)||z);const Y=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let B=F===D||!o&&F.startsWith(D)&&F.charAt(Y)==="/",we=z!=null&&(z===D||!o&&z.startsWith(D)&&z.charAt(D.length)==="/"),V={isActive:B,isPending:we,isTransitioning:T},k=B?e:void 0,x;typeof i=="function"?x=i(V):x=[i,B?"active":null,we?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(V):a;return W.createElement(Kw,{...m,"aria-current":k,className:x,ref:v,style:N,to:c,viewTransition:d},typeof f=="function"?f(V):f)});SI.displayName="NavLink";var II=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Bc,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:E,...w},A)=>{let C=kI(),I=xI(d,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&Gw.test(d),F=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let Y=z.nativeEvent.submitter,B=(Y==null?void 0:Y.getAttribute("formmethod"))||c;C(Y||z.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:E})};return W.createElement("form",{ref:A,method:T,action:I,onSubmit:i?f:F,...w,"data-discover":!D&&n==="render"?"true":void 0})});II.displayName="Form";function CI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(n){let e=W.useContext(Va);return Ft(e,CI(n)),e}function AI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=tu(),f=As(),m=nu(n,{relative:a});return W.useCallback(v=>{if(rI(v,e)){v.preventDefault();let E=t!==void 0?t:Hl(f)===Hl(m);d(n,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[f,d,m,t,i,e,n,o,a,c])}var PI=0,RI=()=>`__${String(++PI)}__`;function kI(){let{router:n}=Qw("useSubmit"),{basename:e}=W.useContext(Br),t=K1();return W.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:f,body:m}=oI(i,e);if(o.navigate===!1){let v=o.fetcherKey||RI();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function xI(n,{relative:e}={}){let{basename:t}=W.useContext(Br),i=W.useContext(Wr);Ft(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...nu(n||".",{relative:e})},c=As();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ci([t,a.pathname])),Hl(a)}function bI(n,e={}){let t=W.useContext(Mw);Ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Qw("useViewTransitionState"),o=nu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ri(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ri(t.nextLocation.pathname,i)||t.nextLocation.pathname;return rh(o.pathname,c)!=null||rh(o.pathname,a)!=null}[...pI];const DI=()=>{};var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},NI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Jw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,E=(a&3)<<4|d>>4;let w=(d&15)<<2|m>>6,A=m&63;f||(A=64,c||(w=64)),i.push(t[v],t[E],t[w],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Yw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||E==null)throw new OI;const w=a<<2|d>>4;if(i.push(w),m!==64){const A=d<<4&240|m>>2;if(i.push(A),E!==64){const C=m<<6&192|E;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LI=function(n){const e=Yw(n);return Jw.encodeByteArray(e,!0)},ih=function(n){return LI(n).replace(/\./g,"")},Xw=function(n){try{return Jw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=()=>VI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof Sv>"u")return;const n=Sv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xw(n[1]);return e&&JSON.parse(e)},Rh=()=>{try{return DI()||MI()||jI()||FI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Zw=n=>{var e,t;return(t=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},zI=n=>{const e=Zw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},e0=()=>{var n;return(n=Rh())===null||n===void 0?void 0:n.config},t0=n=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n){return n.endsWith(".cloudworkstations.dev")}async function n0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ih(JSON.stringify(t)),ih(JSON.stringify(c)),""].join(".")}const Fl={};function BI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?n.emulator.push(e):n.prod.push(e);return n}function WI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Iv=!1;function kh(n,e){if(typeof window>"u"||typeof document>"u"||!ru(window.location.host)||Fl[n]===e||Fl[n]||Iv)return;Fl[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",a=BI().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Iv=!0,c()},w}function v(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=WI(i),A=t("text"),C=document.getElementById(A)||document.createElement("span"),I=t("learnmore"),T=document.getElementById(I)||document.createElement("a"),D=t("preprendIcon"),F=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;d(z),v(T,I);const Y=m();f(F,D),z.append(F,C,T,Y),document.body.appendChild(z)}a?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function HI(){var n;const e=(n=Rh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YI(){const n=kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JI(){return!HI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XI(){try{return typeof indexedDB=="object"}catch{return!1}}function ZI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="FirebaseError";class Oi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=eC,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?tC(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Oi(o,d,i)}}function tC(n,e){return n.replace(nC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const nC=/\{\$([^}]+)}/g;function rC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ki(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Cv(a)&&Cv(c)){if(!ki(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Cv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ol(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function iC(n,e){const t=new sC(n,e);return t.subscribe.bind(t)}class sC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");oC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Uf),o.error===void 0&&(o.error=Uf),o.complete===void 0&&(o.complete=Uf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(n){return n&&n._delegate?n._delegate:n}class io{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new UI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uC(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lC(n){return n===to?void 0:n}function uC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ft||(ft={}));const hC={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},dC=ft.INFO,fC={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},pC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=fC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=pC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const mC=(n,e)=>e.some(t=>n instanceof t);let Av,Pv;function gC(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r0=new WeakMap,fp=new WeakMap,i0=new WeakMap,$f=new WeakMap,tm=new WeakMap;function vC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(ds(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&r0.set(t,n)}).catch(()=>{}),tm.set(e,n),e}function _C(n){if(fp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});fp.set(n,e)}let pp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wC(n){pp=n(pp)}function EC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Bf(this),e,...t);return i0.set(i,e.sort?e.sort():[e]),ds(i)}:yC().includes(n)?function(...e){return n.apply(Bf(this),e),ds(r0.get(this))}:function(...e){return ds(n.apply(Bf(this),e))}}function TC(n){return typeof n=="function"?EC(n):(n instanceof IDBTransaction&&_C(n),mC(n,gC())?new Proxy(n,pp):n)}function ds(n){if(n instanceof IDBRequest)return vC(n);if($f.has(n))return $f.get(n);const e=TC(n);return e!==n&&($f.set(n,e),tm.set(e,n)),e}const Bf=n=>tm.get(n);function SC(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=ds(c);return i&&c.addEventListener("upgradeneeded",f=>{i(ds(c.result),f.oldVersion,f.newVersion,ds(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const IC=["get","getKey","getAll","getAllKeys","count"],CC=["put","add","delete","clear"],Wf=new Map;function Rv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=CC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||IC.includes(t)))return;const a=async function(c,...d){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Wf.set(e,a),a}wC(n=>({...n,get:(e,t,i)=>Rv(e,t)||n.get(e,t,i),has:(e,t)=>!!Rv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function PC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",kv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new em("@firebase/app"),RC="@firebase/app-compat",kC="@firebase/analytics-compat",xC="@firebase/analytics",bC="@firebase/app-check-compat",DC="@firebase/app-check",NC="@firebase/auth",OC="@firebase/auth-compat",LC="@firebase/database",VC="@firebase/data-connect",MC="@firebase/database-compat",jC="@firebase/functions",FC="@firebase/functions-compat",zC="@firebase/installations",UC="@firebase/installations-compat",$C="@firebase/messaging",BC="@firebase/messaging-compat",WC="@firebase/performance",qC="@firebase/performance-compat",HC="@firebase/remote-config",GC="@firebase/remote-config-compat",KC="@firebase/storage",QC="@firebase/storage-compat",YC="@firebase/firestore",JC="@firebase/vertexai",XC="@firebase/firestore-compat",ZC="firebase",eA="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",tA={[mp]:"fire-core",[RC]:"fire-core-compat",[xC]:"fire-analytics",[kC]:"fire-analytics-compat",[DC]:"fire-app-check",[bC]:"fire-app-check-compat",[NC]:"fire-auth",[OC]:"fire-auth-compat",[LC]:"fire-rtdb",[VC]:"fire-data-connect",[MC]:"fire-rtdb-compat",[jC]:"fire-fn",[FC]:"fire-fn-compat",[zC]:"fire-iid",[UC]:"fire-iid-compat",[$C]:"fire-fcm",[BC]:"fire-fcm-compat",[WC]:"fire-perf",[qC]:"fire-perf-compat",[HC]:"fire-rc",[GC]:"fire-rc-compat",[KC]:"fire-gcs",[QC]:"fire-gcs-compat",[YC]:"fire-fst",[XC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,nA=new Map,yp=new Map;function xv(n,e){try{n.container.addComponent(e)}catch(t){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wa(n){const e=n.name;if(yp.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,n);for(const t of sh.values())xv(t,n);for(const t of nA.values())xv(t,n);return!0}function nm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new iu("app","Firebase",rA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=eA;function s0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(t||(t=e0()),!t)throw fs.create("no-options");const a=sh.get(o);if(a){if(ki(t,a.options)&&ki(i,a.config))return a;throw fs.create("duplicate-app",{appName:o})}const c=new cC(o);for(const f of yp.values())c.addComponent(f);const d=new iA(t,i,c);return sh.set(o,d),d}function o0(n=gp){const e=sh.get(n);if(!e&&n===gp&&e0())return s0();if(!e)throw fs.create("no-app",{appName:n});return e}function ps(n,e,t){var i;let o=(i=tA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(d.join(" "));return}wa(new io(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebase-heartbeat-database",oA=1,Gl="firebase-heartbeat-store";let qf=null;function a0(){return qf||(qf=SC(sA,oA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gl)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),qf}async function aA(n){try{const t=(await a0()).transaction(Gl),i=await t.objectStore(Gl).get(l0(n));return await t.done,i}catch(e){if(e instanceof Oi)xi.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(t.message)}}}async function bv(n,e){try{const i=(await a0()).transaction(Gl,"readwrite");await i.objectStore(Gl).put(e,l0(n)),await i.done}catch(t){if(t instanceof Oi)xi.warn(t.message);else{const i=fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}function l0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=1024,uA=30;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>uA){const c=fA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dv(),{heartbeatsToSend:i,unsentEntries:o}=hA(this._heartbeatsCache.heartbeats),a=ih(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return xi.warn(t),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function hA(n,e=lA){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),Nv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Nv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class dA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XI()?ZI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Nv(n){return ih(JSON.stringify({version:2,heartbeats:n})).length}function fA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){wa(new io("platform-logger",e=>new AC(e),"PRIVATE")),wa(new io("heartbeat",e=>new cA(e),"PRIVATE")),ps(mp,kv,n),ps(mp,kv,"esm2017"),ps("fire-js","")}pA("");var mA="firebase",gA="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(mA,gA,"app");function rm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yA=u0,c0=new iu("auth","Firebase",u0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new em("@firebase/auth");function vA(n,...e){oh.logLevel<=ft.WARN&&oh.warn(`Auth (${ja}): ${n}`,...e)}function qc(n,...e){oh.logLevel<=ft.ERROR&&oh.error(`Auth (${ja}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,...e){throw sm(n,...e)}function Fr(n,...e){return sm(n,...e)}function im(n,e,t){const i=Object.assign(Object.assign({},yA()),{[e]:t});return new iu("auth","Firebase",i).create(e,{appName:n.name})}function ms(n){return im(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _A(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&yr(n,"argument-error"),im(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return c0.create(n,...e)}function it(n,e,...t){if(!n)throw sm(e,...t)}function Si(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qc(e),new Error(e)}function bi(n,e){n||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wA(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wA()||KI()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,bi(t>e,"Short delay should be less than long delay!"),this.isMobile=qI()||QI()}get(){return EA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,e){bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CA=new ou(3e4,6e4);function po(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Li(n,e,t,i,o={}){return d0(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=su(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return GI()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ru(n.emulatorConfig.host)&&(m.credentials="include"),h0.fetch()(await f0(n,n.config.apiHost,t,d),m)})}async function d0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},SA),e);try{const o=new PA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Lc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Lc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Lc(n,"user-disabled",c);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw im(n,v,m);yr(n,v)}}catch(o){if(o instanceof Oi)throw o;yr(n,"network-request-failed",{message:String(o)})}}async function xh(n,e,t,i,o={}){const a=await Li(n,e,t,i,o);return"mfaPendingCredential"in a&&yr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function f0(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?om(n.config,o):`${n.config.apiScheme}://${o}`;return IA.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function AA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Fr(this.auth,"network-request-failed")),CA.get())})}}function Lc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Fr(n,e,i);return o.customData._tokenResponse=t,o}function Lv(n){return n!==void 0&&n.enterprise!==void 0}class RA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kA(n,e){return Li(n,"GET","/v2/recaptchaConfig",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(n,e){return Li(n,"POST","/v1/accounts:delete",e)}async function ah(n,e){return Li(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bA(n,e=!1){const t=en(n),i=await t.getIdToken(e),o=am(i);it(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:zl(Hf(o.auth_time)),issuedAtTime:zl(Hf(o.iat)),expirationTime:zl(Hf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Hf(n){return Number(n)*1e3}function am(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xw(t);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vv(n){const e=am(n);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Oi&&DA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function DA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ea(n,ah(t,{idToken:i}));it(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?p0(a.providerUserInfo):[],d=LA(n.providerData,c),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new _p(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function OA(n){const e=en(n);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function p0(n){return n.map(e=>{var{providerId:t}=e,i=rm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(n,e){const t=await d0(n,{},async()=>{const i=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await f0(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MA(n,e){return Li(n,"POST","/v2/accounts:revokeToken",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){it(e.length!==0,"internal-error");const t=Vv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await VA(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new pa;return i&&(it(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(it(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(it(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(n,e){it(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new _p(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ea(this,this.stsTokenManager.getToken(this.auth,e));return it(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bA(this,e)}reload(){return OA(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await lh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await Ea(this,xA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,f,m,v;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,I=(d=t.tenantId)!==null&&d!==void 0?d:void 0,T=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(m=t.createdAt)!==null&&m!==void 0?m:void 0,F=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:z,emailVerified:Y,isAnonymous:B,providerData:we,stsTokenManager:V}=t;it(z&&V,e,"internal-error");const k=pa.fromJSON(this.name,V);it(typeof z=="string",e,"internal-error"),ss(E,e.name),ss(w,e.name),it(typeof Y=="boolean",e,"internal-error"),it(typeof B=="boolean",e,"internal-error"),ss(A,e.name),ss(C,e.name),ss(I,e.name),ss(T,e.name),ss(D,e.name),ss(F,e.name);const x=new Vr({uid:z,auth:e,email:w,emailVerified:Y,displayName:E,isAnonymous:B,photoURL:C,phoneNumber:A,tenantId:I,stsTokenManager:k,createdAt:D,lastLoginAt:F});return we&&Array.isArray(we)&&(x.providerData=we.map(N=>Object.assign({},N))),T&&(x._redirectEventId=T),x}static async _fromIdTokenResponse(e,t,i=!1){const o=new pa;o.updateFromServerResponse(t);const a=new Vr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await lh(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];it(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?p0(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new pa;d.updateFromIdToken(i);const f=new Vr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new _p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function Ii(n){bi(n instanceof Function,"Expected a class definition");let e=Mv.get(n);return e?(bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Mv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}m0.type="NONE";const jv=m0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n,e,t){return`firebase:${n}:${e}:${t}`}class ma{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Hc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ah(this.auth,{idToken:e}).catch(()=>{});return t?Vr._fromGetAccountInfoResponse(this.auth,t,e):null}return Vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ma(Ii(jv),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Ii(jv);const c=Hc(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(c);if(v){let E;if(typeof v=="string"){const w=await ah(e,{idToken:v}).catch(()=>{});if(!w)break;E=await Vr._fromGetAccountInfoResponse(e,w,v)}else E=Vr._fromJSON(e,v);m!==a&&(d=E),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ma(a,e,i):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new ma(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E0(e))return"Blackberry";if(T0(e))return"Webos";if(y0(e))return"Safari";if((e.includes("chrome/")||v0(e))&&!e.includes("edge/"))return"Chrome";if(w0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function g0(n=kn()){return/firefox\//i.test(n)}function y0(n=kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v0(n=kn()){return/crios\//i.test(n)}function _0(n=kn()){return/iemobile/i.test(n)}function w0(n=kn()){return/android/i.test(n)}function E0(n=kn()){return/blackberry/i.test(n)}function T0(n=kn()){return/webos/i.test(n)}function lm(n=kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jA(n=kn()){var e;return lm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FA(){return YI()&&document.documentMode===10}function S0(n=kn()){return lm(n)||w0(n)||T0(n)||E0(n)||/windows phone/i.test(n)||_0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(n,e=[]){let t;switch(n){case"Browser":t=Fv(kn());break;case"Worker":t=`${Fv(kn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(n,e={}){return Li(n,"GET","/v2/passwordPolicy",po(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=6;class BA{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:$A,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new zA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ah(this,{idToken:e}),i=await Vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(ms(this));const t=e?en(e):null;return t&&it(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UA(this),t=new BA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await MA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ii(e)||this._popupRedirectResolver;it(t,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[Ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&vA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mo(n){return en(n)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=iC(t=>this.observer=t)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qA(n){bh=n}function C0(n){return bh.loadJS(n)}function HA(){return bh.recaptchaEnterpriseScript}function GA(){return bh.gapiScript}function KA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class QA{constructor(){this.enterprise=new YA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const JA="recaptcha-enterprise",A0="NO_RECAPTCHA";class XA{constructor(e){this.type=JA,this.auth=mo(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{kA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new RA(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,c,d){const f=window.grecaptcha;Lv(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(A0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QA().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&Lv(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=HA();f.length!==0&&(f+=d),C0(f).then(()=>{o(d,a,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function Uv(n,e,t,i=!1,o=!1){const a=new XA(n);let c;if(o)c=A0;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function $v(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Uv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Uv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n,e){const t=nm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ki(a,e??{}))return o;yr(o,"already-initialized")}return t.initialize({options:e})}function eP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ii);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tP(n,e,t){const i=mo(n);it(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=P0(e),{host:c,port:d}=nP(e),f=d===null?"":`:${d}`,m={url:`${a}//${c}${f}/`},v=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){it(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),it(ki(m,i.config.emulator)&&ki(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ru(c)?(kh("Auth",!0),n0(`${a}//${c}${f}`)):rP()}function P0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nP(n){const e=P0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Bv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Bv(c)}}}function Bv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,t){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function iP(n,e){return Li(n,"POST","/v1/accounts:update",e)}async function sP(n,e){return Li(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(n,e){return xh(n,"POST","/v1/accounts:signInWithPassword",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e){return xh(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}async function lP(n,e){return xh(n,"POST","/v1/accounts:signInWithEmailLink",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends um{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Kl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Kl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $v(e,t,"signInWithPassword",oP);case"emailLink":return aP(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $v(e,i,"signUpPassword",sP);case"emailLink":return lP(e,{idToken:t,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(n,e){return xh(n,"POST","/v1/accounts:signInWithIdp",po(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="http://localhost";class so extends um{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=rm(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new so(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ga(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ga(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ga(e,t)}buildRequest(){const e={requestUri:uP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hP(n){const e=Ol(Ll(n)).link,t=e?Ol(Ll(e)).deep_link_id:null,i=Ol(Ll(n)).deep_link_id;return(i?Ol(Ll(i)).link:null)||i||t||e||n}class cm{constructor(e){var t,i,o,a,c,d;const f=Ol(Ll(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,E=cP((o=f.mode)!==null&&o!==void 0?o:null);it(m&&v&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=hP(e);try{return new cm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.providerId=Fa.PROVIDER_ID}static credential(e,t){return Kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=cm.parseLink(t);return it(i,"argument-error"),Kl._fromEmailAndCode(e,i.code,i.tenantId)}}Fa.PROVIDER_ID="password";Fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends hm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends au{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return so._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ei.credential(t,i)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends au{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends au{constructor(){super("twitter.com")}static credential(e,t){return so._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return us.credential(t,i)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Vr._fromIdTokenResponse(e,i,o),c=Wv(i);return new Ta({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Wv(i);return new Ta({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Wv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Oi{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new uh(e,t,i,o)}}function R0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(n,a,e,i):a})}async function dP(n,e,t=!1){const i=await Ea(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ta._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e,t=!1){const{auth:i}=n;if(pr(i.app))return Promise.reject(ms(i));const o="reauthenticate";try{const a=await Ea(n,R0(i,o,e,n),t);it(a.idToken,i,"internal-error");const c=am(a.idToken);it(c,i,"internal-error");const{sub:d}=c;return it(n.uid===d,i,"user-mismatch"),Ta._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(n,e,t=!1){if(pr(n.app))return Promise.reject(ms(n));const i="signIn",o=await R0(n,i,e),a=await Ta._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function pP(n,e){return k0(mo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(n){const e=mo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function gP(n,e,t){return pr(n.app)?Promise.reject(ms(n)):pP(en(n),Fa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mP(n),i})}function yP(n,e){return vP(en(n),null,e)}async function vP(n,e,t){const{auth:i}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const c=await Ea(n,iP(i,a));await n._updateTokensIfNecessary(c,!0)}function _P(n,e,t,i){return en(n).onIdTokenChanged(e,t,i)}function wP(n,e,t){return en(n).beforeAuthStateChanged(e,t)}function EP(n,e,t,i){return en(n).onAuthStateChanged(e,t,i)}function TP(n){return en(n).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=1e3,IP=10;class b0 extends x0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);FA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},SP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}b0.type="LOCAL";const CP=b0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends x0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}D0.type="SESSION";const N0=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Dh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async m=>m(t.origin,a)),f=await AP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const m=dm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const w=E;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function RP(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function kP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bP(){return O0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firebaseLocalStorageDb",DP=1,hh="firebaseLocalStorage",V0="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nh(n,e){return n.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function NP(){const n=indexedDB.deleteDatabase(L0);return new lu(n).toPromise()}function wp(){const n=indexedDB.open(L0,DP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(hh,{keyPath:V0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(hh)?e(i):(i.close(),await NP(),e(await wp()))})})}async function qv(n,e,t){const i=Nh(n,!0).put({[V0]:e,value:t});return new lu(i).toPromise()}async function OP(n,e){const t=Nh(n,!1).get(e),i=await new lu(t).toPromise();return i===void 0?null:i.value}function Hv(n,e){const t=Nh(n,!0).delete(e);return new lu(t).toPromise()}const LP=800,VP=3;class M0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>VP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(bP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await kP(),!this.activeServiceWorker)return;this.sender=new PP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await qv(e,ch,"1"),await Hv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>qv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>OP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Hv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Nh(o,!1).getAll();return new lu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M0.type="LOCAL";const MP=M0;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n,e){return e?Ii(e):(it(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends um{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ga(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ga(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jP(n){return k0(n.auth,new fm(n),n.bypassAuthState)}function FP(n){const{auth:e,user:t}=n;return it(t,e,"internal-error"),fP(t,new fm(n),n.bypassAuthState)}async function zP(n){const{auth:e,user:t}=n;return it(t,e,"internal-error"),dP(t,new fm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jP;case"linkViaPopup":case"linkViaRedirect":return zP;case"reauthViaPopup":case"reauthViaRedirect":return FP;default:yr(this.auth,"internal-error")}}resolve(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new ou(2e3,1e4);async function $P(n,e,t){if(pr(n.app))return Promise.reject(Fr(n,"operation-not-supported-in-this-environment"));const i=mo(n);_A(n,e,hm);const o=j0(i,t);return new no(i,"signInViaPopup",e,o).executeNotNull()}class no extends F0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){bi(this.filter.length===1,"Popup operations only handle one event");const e=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UP.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="pendingRedirect",Gc=new Map;class WP extends F0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const i=await qP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qP(n,e){const t=KP(e),i=GP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function HP(n,e){Gc.set(n._key(),e)}function GP(n){return Ii(n._redirectPersistence)}function KP(n){return Hc(BP,n.config.apiKey,n.name)}async function QP(n,e,t=!1){if(pr(n.app))return Promise.reject(ms(n));const i=mo(n),o=j0(i,e),c=await new WP(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=10*60*1e3;class JP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!z0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Fr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function z0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,e={}){return Li(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function nR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ZP(n);for(const t of e)try{if(rR(t))return}catch{}yr(n,"unauthorized-domain")}function rR(n){const e=vp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!tR.test(t))return!1;if(eR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new ou(3e4,6e4);function Kv(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sR(n){return new Promise((e,t)=>{var i,o,a;function c(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),t(Fr(n,"network-request-failed"))},timeout:iR.get()})}if(!((o=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)c();else{const d=KA("iframefcb");return ri()[d]=()=>{gapi.load?c():t(Fr(n,"network-request-failed"))},C0(`${GA()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function oR(n){return Kc=Kc||sR(n),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new ou(5e3,15e3),lR="__/auth/iframe",uR="emulator/auth/iframe",cR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dR(n){const e=n.config;it(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?om(e,uR):`https://${n.config.authDomain}/${lR}`,i={apiKey:e.apiKey,appName:n.name,v:ja},o=hR.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${su(i).slice(1)}`}async function fR(n){const e=await oR(n),t=ri().gapi;return it(t,n,"internal-error"),e.open({where:document.body,url:dR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cR,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Fr(n,"network-request-failed"),d=ri().setTimeout(()=>{a(c)},aR.get());function f(){ri().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,gR=600,yR="_blank",vR="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(n,e,t,i=mR,o=gR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},pR),{width:i.toString(),height:o.toString(),top:a,left:c}),m=kn().toLowerCase();t&&(d=v0(m)?yR:t),g0(m)&&(e=e||vR,f.scrollbars="yes");const v=Object.entries(f).reduce((w,[A,C])=>`${w}${A}=${C},`,"");if(jA(m)&&d!=="_self")return wR(e||"",d),new Qv(null);const E=window.open(e||"",d,v);it(E,n,"popup-blocked");try{E.focus()}catch{}return new Qv(E)}function wR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__/auth/handler",TR="emulator/auth/handler",SR=encodeURIComponent("fac");async function Yv(n,e,t,i,o,a){it(n.config.authDomain,n,"auth-domain-config-required"),it(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ja,eventId:o};if(e instanceof hm){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",rC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof au){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${SR}=${encodeURIComponent(f)}`:"";return`${IR(n)}?${su(d).slice(1)}${m}`}function IR({config:n}){return n.emulator?om(n,TR):`https://${n.authDomain}/${ER}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class CR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N0,this._completeRedirectFn=QP,this._overrideRedirectResult=HP}async _openPopup(e,t,i,o){var a;bi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Yv(e,t,i,vp(),o);return _R(e,c,dm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Yv(e,t,i,vp(),o);return RP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(bi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await fR(e),i=new JP(e);return t.register("authEvent",o=>(it(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gf,{type:Gf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Gf];c!==void 0&&t(!!c),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return S0()||y0()||lm()}}const AR=CR;var Jv="@firebase/auth",Xv="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kR(n){wa(new io("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;it(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(n)},m=new WA(i,o,a,f);return eP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wa(new io("auth-internal",e=>{const t=mo(e.getProvider("auth").getImmediate());return(i=>new PR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(Jv,Xv,RR(n)),ps(Jv,Xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=5*60,bR=t0("authIdTokenMaxAge")||xR;let Zv=null;const DR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>bR)return;const o=t==null?void 0:t.token;Zv!==o&&(Zv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NR(n=o0()){const e=nm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZA(n,{popupRedirectResolver:AR,persistence:[MP,CP,N0]}),i=t0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=DR(a.toString());wP(t,c,()=>c(t.currentUser)),_P(t,d=>c(d))}}const o=Zw("auth");return o?tP(t,`http://${o}`):kh("Auth",!1),t}function OR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}qA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Fr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",OR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kR("Browser");var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,U0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,k){function x(){}x.prototype=k.prototype,V.D=k.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(N,O,j){for(var R=Array(arguments.length-2),de=2;de<arguments.length;de++)R[de-2]=arguments[de];return k.prototype[O].apply(N,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,k,x){x||(x=0);var N=Array(16);if(typeof k=="string")for(var O=0;16>O;++O)N[O]=k.charCodeAt(x++)|k.charCodeAt(x++)<<8|k.charCodeAt(x++)<<16|k.charCodeAt(x++)<<24;else for(O=0;16>O;++O)N[O]=k[x++]|k[x++]<<8|k[x++]<<16|k[x++]<<24;k=V.g[0],x=V.g[1],O=V.g[2];var j=V.g[3],R=k+(j^x&(O^j))+N[0]+3614090360&4294967295;k=x+(R<<7&4294967295|R>>>25),R=j+(O^k&(x^O))+N[1]+3905402710&4294967295,j=k+(R<<12&4294967295|R>>>20),R=O+(x^j&(k^x))+N[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=x+(k^O&(j^k))+N[3]+3250441966&4294967295,x=O+(R<<22&4294967295|R>>>10),R=k+(j^x&(O^j))+N[4]+4118548399&4294967295,k=x+(R<<7&4294967295|R>>>25),R=j+(O^k&(x^O))+N[5]+1200080426&4294967295,j=k+(R<<12&4294967295|R>>>20),R=O+(x^j&(k^x))+N[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=x+(k^O&(j^k))+N[7]+4249261313&4294967295,x=O+(R<<22&4294967295|R>>>10),R=k+(j^x&(O^j))+N[8]+1770035416&4294967295,k=x+(R<<7&4294967295|R>>>25),R=j+(O^k&(x^O))+N[9]+2336552879&4294967295,j=k+(R<<12&4294967295|R>>>20),R=O+(x^j&(k^x))+N[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=x+(k^O&(j^k))+N[11]+2304563134&4294967295,x=O+(R<<22&4294967295|R>>>10),R=k+(j^x&(O^j))+N[12]+1804603682&4294967295,k=x+(R<<7&4294967295|R>>>25),R=j+(O^k&(x^O))+N[13]+4254626195&4294967295,j=k+(R<<12&4294967295|R>>>20),R=O+(x^j&(k^x))+N[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=x+(k^O&(j^k))+N[15]+1236535329&4294967295,x=O+(R<<22&4294967295|R>>>10),R=k+(O^j&(x^O))+N[1]+4129170786&4294967295,k=x+(R<<5&4294967295|R>>>27),R=j+(x^O&(k^x))+N[6]+3225465664&4294967295,j=k+(R<<9&4294967295|R>>>23),R=O+(k^x&(j^k))+N[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=x+(j^k&(O^j))+N[0]+3921069994&4294967295,x=O+(R<<20&4294967295|R>>>12),R=k+(O^j&(x^O))+N[5]+3593408605&4294967295,k=x+(R<<5&4294967295|R>>>27),R=j+(x^O&(k^x))+N[10]+38016083&4294967295,j=k+(R<<9&4294967295|R>>>23),R=O+(k^x&(j^k))+N[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=x+(j^k&(O^j))+N[4]+3889429448&4294967295,x=O+(R<<20&4294967295|R>>>12),R=k+(O^j&(x^O))+N[9]+568446438&4294967295,k=x+(R<<5&4294967295|R>>>27),R=j+(x^O&(k^x))+N[14]+3275163606&4294967295,j=k+(R<<9&4294967295|R>>>23),R=O+(k^x&(j^k))+N[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=x+(j^k&(O^j))+N[8]+1163531501&4294967295,x=O+(R<<20&4294967295|R>>>12),R=k+(O^j&(x^O))+N[13]+2850285829&4294967295,k=x+(R<<5&4294967295|R>>>27),R=j+(x^O&(k^x))+N[2]+4243563512&4294967295,j=k+(R<<9&4294967295|R>>>23),R=O+(k^x&(j^k))+N[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=x+(j^k&(O^j))+N[12]+2368359562&4294967295,x=O+(R<<20&4294967295|R>>>12),R=k+(x^O^j)+N[5]+4294588738&4294967295,k=x+(R<<4&4294967295|R>>>28),R=j+(k^x^O)+N[8]+2272392833&4294967295,j=k+(R<<11&4294967295|R>>>21),R=O+(j^k^x)+N[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=x+(O^j^k)+N[14]+4259657740&4294967295,x=O+(R<<23&4294967295|R>>>9),R=k+(x^O^j)+N[1]+2763975236&4294967295,k=x+(R<<4&4294967295|R>>>28),R=j+(k^x^O)+N[4]+1272893353&4294967295,j=k+(R<<11&4294967295|R>>>21),R=O+(j^k^x)+N[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=x+(O^j^k)+N[10]+3200236656&4294967295,x=O+(R<<23&4294967295|R>>>9),R=k+(x^O^j)+N[13]+681279174&4294967295,k=x+(R<<4&4294967295|R>>>28),R=j+(k^x^O)+N[0]+3936430074&4294967295,j=k+(R<<11&4294967295|R>>>21),R=O+(j^k^x)+N[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=x+(O^j^k)+N[6]+76029189&4294967295,x=O+(R<<23&4294967295|R>>>9),R=k+(x^O^j)+N[9]+3654602809&4294967295,k=x+(R<<4&4294967295|R>>>28),R=j+(k^x^O)+N[12]+3873151461&4294967295,j=k+(R<<11&4294967295|R>>>21),R=O+(j^k^x)+N[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=x+(O^j^k)+N[2]+3299628645&4294967295,x=O+(R<<23&4294967295|R>>>9),R=k+(O^(x|~j))+N[0]+4096336452&4294967295,k=x+(R<<6&4294967295|R>>>26),R=j+(x^(k|~O))+N[7]+1126891415&4294967295,j=k+(R<<10&4294967295|R>>>22),R=O+(k^(j|~x))+N[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=x+(j^(O|~k))+N[5]+4237533241&4294967295,x=O+(R<<21&4294967295|R>>>11),R=k+(O^(x|~j))+N[12]+1700485571&4294967295,k=x+(R<<6&4294967295|R>>>26),R=j+(x^(k|~O))+N[3]+2399980690&4294967295,j=k+(R<<10&4294967295|R>>>22),R=O+(k^(j|~x))+N[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=x+(j^(O|~k))+N[1]+2240044497&4294967295,x=O+(R<<21&4294967295|R>>>11),R=k+(O^(x|~j))+N[8]+1873313359&4294967295,k=x+(R<<6&4294967295|R>>>26),R=j+(x^(k|~O))+N[15]+4264355552&4294967295,j=k+(R<<10&4294967295|R>>>22),R=O+(k^(j|~x))+N[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=x+(j^(O|~k))+N[13]+1309151649&4294967295,x=O+(R<<21&4294967295|R>>>11),R=k+(O^(x|~j))+N[4]+4149444226&4294967295,k=x+(R<<6&4294967295|R>>>26),R=j+(x^(k|~O))+N[11]+3174756917&4294967295,j=k+(R<<10&4294967295|R>>>22),R=O+(k^(j|~x))+N[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=x+(j^(O|~k))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+k&4294967295,V.g[1]=V.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+j&4294967295}i.prototype.u=function(V,k){k===void 0&&(k=V.length);for(var x=k-this.blockSize,N=this.B,O=this.h,j=0;j<k;){if(O==0)for(;j<=x;)o(this,V,j),j+=this.blockSize;if(typeof V=="string"){for(;j<k;)if(N[O++]=V.charCodeAt(j++),O==this.blockSize){o(this,N),O=0;break}}else for(;j<k;)if(N[O++]=V[j++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=k},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var k=1;k<V.length-8;++k)V[k]=0;var x=8*this.o;for(k=V.length-8;k<V.length;++k)V[k]=x&255,x/=256;for(this.u(V),V=Array(16),k=x=0;4>k;++k)for(var N=0;32>N;N+=8)V[x++]=this.g[k]>>>N&255;return V};function a(V,k){var x=d;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=k(V)}function c(V,k){this.h=k;for(var x=[],N=!0,O=V.length-1;0<=O;O--){var j=V[O]|0;N&&j==k||(x[O]=j,N=!1)}this.g=x}var d={};function f(V){return-128<=V&&128>V?a(V,function(k){return new c([k|0],0>k?-1:0)}):new c([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return T(m(-V));for(var k=[],x=1,N=0;V>=x;N++)k[N]=V/x|0,x*=4294967296;return new c(k,0)}function v(V,k){if(V.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(V.charAt(0)=="-")return T(v(V.substring(1),k));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(k,8)),N=E,O=0;O<V.length;O+=8){var j=Math.min(8,V.length-O),R=parseInt(V.substring(O,O+j),k);8>j?(j=m(Math.pow(k,j)),N=N.j(j).add(m(R))):(N=N.j(x),N=N.add(m(R)))}return N}var E=f(0),w=f(1),A=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-T(this).m();for(var V=0,k=1,x=0;x<this.g.length;x++){var N=this.i(x);V+=(0<=N?N:4294967296+N)*k,k*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(I(this))return"-"+T(this).toString(V);for(var k=m(Math.pow(V,6)),x=this,N="";;){var O=Y(x,k).g;x=D(x,O.j(k));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=O,C(x))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var k=0;k<V.g.length;k++)if(V.g[k]!=0)return!1;return!0}function I(V){return V.h==-1}n.l=function(V){return V=D(this,V),I(V)?-1:C(V)?0:1};function T(V){for(var k=V.g.length,x=[],N=0;N<k;N++)x[N]=~V.g[N];return new c(x,~V.h).add(w)}n.abs=function(){return I(this)?T(this):this},n.add=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],N=0,O=0;O<=k;O++){var j=N+(this.i(O)&65535)+(V.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);N=R>>>16,j&=65535,R&=65535,x[O]=R<<16|j}return new c(x,x[x.length-1]&-2147483648?-1:0)};function D(V,k){return V.add(T(k))}n.j=function(V){if(C(this)||C(V))return E;if(I(this))return I(V)?T(this).j(T(V)):T(T(this).j(V));if(I(V))return T(this.j(T(V)));if(0>this.l(A)&&0>V.l(A))return m(this.m()*V.m());for(var k=this.g.length+V.g.length,x=[],N=0;N<2*k;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<V.g.length;O++){var j=this.i(N)>>>16,R=this.i(N)&65535,de=V.i(O)>>>16,pe=V.i(O)&65535;x[2*N+2*O]+=R*pe,F(x,2*N+2*O),x[2*N+2*O+1]+=j*pe,F(x,2*N+2*O+1),x[2*N+2*O+1]+=R*de,F(x,2*N+2*O+1),x[2*N+2*O+2]+=j*de,F(x,2*N+2*O+2)}for(N=0;N<k;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=k;N<2*k;N++)x[N]=0;return new c(x,0)};function F(V,k){for(;(V[k]&65535)!=V[k];)V[k+1]+=V[k]>>>16,V[k]&=65535,k++}function z(V,k){this.g=V,this.h=k}function Y(V,k){if(C(k))throw Error("division by zero");if(C(V))return new z(E,E);if(I(V))return k=Y(T(V),k),new z(T(k.g),T(k.h));if(I(k))return k=Y(V,T(k)),new z(T(k.g),k.h);if(30<V.g.length){if(I(V)||I(k))throw Error("slowDivide_ only works with positive integers.");for(var x=w,N=k;0>=N.l(V);)x=B(x),N=B(N);var O=we(x,1),j=we(N,1);for(N=we(N,2),x=we(x,2);!C(N);){var R=j.add(N);0>=R.l(V)&&(O=O.add(x),j=R),N=we(N,1),x=we(x,1)}return k=D(V,O.j(k)),new z(O,k)}for(O=E;0<=V.l(k);){for(x=Math.max(1,Math.floor(V.m()/k.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=m(x),R=j.j(k);I(R)||0<R.l(V);)x-=N,j=m(x),R=j.j(k);C(j)&&(j=w),O=O.add(j),V=D(V,R)}return new z(O,V)}n.A=function(V){return Y(this,V).h},n.and=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],N=0;N<k;N++)x[N]=this.i(N)&V.i(N);return new c(x,this.h&V.h)},n.or=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],N=0;N<k;N++)x[N]=this.i(N)|V.i(N);return new c(x,this.h|V.h)},n.xor=function(V){for(var k=Math.max(this.g.length,V.g.length),x=[],N=0;N<k;N++)x[N]=this.i(N)^V.i(N);return new c(x,this.h^V.h)};function B(V){for(var k=V.g.length+1,x=[],N=0;N<k;N++)x[N]=V.i(N)<<1|V.i(N-1)>>>31;return new c(x,V.h)}function we(V,k){var x=k>>5;k%=32;for(var N=V.g.length-x,O=[],j=0;j<N;j++)O[j]=0<k?V.i(j+x)>>>k|V.i(j+x+1)<<32-k:V.i(j+x);return new c(O,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,U0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,gs=c}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $0,Vl,B0,Qc,Ep,W0,q0,H0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var P=0;P<u.length-1;P++){var J=u[P];if(!(J in _))break e;_=_[J]}u=u[u.length-1],P=_[u],g=g(P),g!=P&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var _=0,P=!1,J={next:function(){if(!P&&_<u.length){var le=_++;return{value:g(le,u[le]),done:!1}}return P=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function E(u,g,_){if(!u)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,P),u.apply(g,J)}}return function(){return u.apply(g,arguments)}}function w(u,g,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,w.apply(null,arguments)}function A(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),u.apply(this,P)}}function C(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(P,J,le){for(var Me=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Me[Pt-2]=arguments[Pt];return g.prototype[J].apply(P,Me)}}function I(u){const g=u.length;if(0<g){const _=Array(g);for(let P=0;P<g;P++)_[P]=u[P];return _}return[]}function T(u,g){for(let _=1;_<arguments.length;_++){const P=arguments[_];if(f(P)){const J=u.length||0,le=P.length||0;u.length=J+le;for(let Me=0;Me<le;Me++)u[J+Me]=P[Me]}else u.push(P)}}class D{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var B=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function we(u,g,_){for(const P in u)g.call(_,u[P],P,u)}function V(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function k(u){const g={};for(const _ in u)g[_]=u[_];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,g){let _,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(_ in P)u[_]=P[_];for(let le=0;le<x.length;le++)_=x[le],Object.prototype.hasOwnProperty.call(P,_)&&(u[_]=P[_])}}function O(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function j(u){d.setTimeout(()=>{throw u},0)}function R(){var u=ye;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class de{constructor(){this.h=this.g=null}add(g,_){const P=pe.get();P.set(g,_),this.h?this.h.next=P:this.g=P,this.h=P}}var pe=new D(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Q=!1,ye=new de,b=()=>{const u=d.Promise.resolve(void 0);Ee=()=>{u.then(ne)}};var ne=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){j(_)}var g=pe;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return u}();function ke(u,g){if(X.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,P=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(B){e:{try{Y(g.nodeName);var J=!0;break e}catch{}J=!1}J||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:G[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}C(ke,X);var G={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),K=0;function Ne(u,g,_,P,J){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!P,this.ha=J,this.key=++K,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,g,_,P,J){var le=u.toString();u=this.g[le],u||(u=this.g[le]=[],this.h++);var Me=Ye(u,g,P,J);return-1<Me?(g=u[Me],_||(g.fa=!1)):(g=new Ne(g,this.src,le,!!P,J),g.fa=_,u.push(g)),g};function xe(u,g){var _=g.type;if(_ in u.g){var P=u.g[_],J=Array.prototype.indexOf.call(P,g,void 0),le;(le=0<=J)&&Array.prototype.splice.call(P,J,1),le&&(fe(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ye(u,g,_,P){for(var J=0;J<u.length;++J){var le=u[J];if(!le.da&&le.listener==g&&le.capture==!!_&&le.ha==P)return J}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),Ge={};function tt(u,g,_,P,J){if(Array.isArray(g)){for(var le=0;le<g.length;le++)tt(u,g[le],_,P,J);return null}return _=ht(_),u&&u[oe]?u.K(g,_,m(P)?!!P.capture:!1,J):He(u,g,_,!1,P,J)}function He(u,g,_,P,J,le){if(!g)throw Error("Invalid event type");var Me=m(J)?!!J.capture:!!J,Pt=zt(u);if(Pt||(u[nt]=Pt=new ae(u)),_=Pt.add(g,_,P,Me,le),_.proxy)return _;if(P=ut(),_.proxy=P,P.src=u,P.listener=_,u.addEventListener)ue||(J=Me),J===void 0&&(J=!1),u.addEventListener(g.toString(),P,J);else if(u.attachEvent)u.attachEvent(Nt(g.toString()),P);else if(u.addListener&&u.removeListener)u.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ut(){function u(_){return g.call(u.src,u.listener,_)}const g=wn;return u}function wt(u,g,_,P,J){if(Array.isArray(g))for(var le=0;le<g.length;le++)wt(u,g[le],_,P,J);else P=m(P)?!!P.capture:!!P,_=ht(_),u&&u[oe]?(u=u.i,g=String(g).toString(),g in u.g&&(le=u.g[g],_=Ye(le,_,P,J),-1<_&&(fe(le[_]),Array.prototype.splice.call(le,_,1),le.length==0&&(delete u.g[g],u.h--)))):u&&(u=zt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ye(g,_,P,J)),(_=-1<u?g[u]:null)&&Xe(_))}function Xe(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[oe])xe(g.i,u);else{var _=u.type,P=u.proxy;g.removeEventListener?g.removeEventListener(_,P,u.capture):g.detachEvent?g.detachEvent(Nt(_),P):g.addListener&&g.removeListener&&g.removeListener(P),(_=zt(g))?(xe(_,u),_.h==0&&(_.src=null,g[nt]=null)):fe(u)}}}function Nt(u){return u in Ge?Ge[u]:Ge[u]="on"+u}function wn(u,g){if(u.da)u=!0;else{g=new ke(g,this);var _=u.listener,P=u.ha||u.src;u.fa&&Xe(u),u=_.call(P,g)}return u}function zt(u){return u=u[nt],u instanceof ae?u:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(u){return typeof u=="function"?u:(u[Qe]||(u[Qe]=function(g){return u.handleEvent(g)}),u[Qe])}function gt(){ee.call(this),this.i=new ae(this),this.M=this,this.F=null}C(gt,ee),gt.prototype[oe]=!0,gt.prototype.removeEventListener=function(u,g,_,P){wt(this,u,g,_,P)};function L(u,g){var _,P=u.F;if(P)for(_=[];P;P=P.F)_.push(P);if(u=u.M,P=g.type||g,typeof g=="string")g=new X(g,u);else if(g instanceof X)g.target=g.target||u;else{var J=g;g=new X(P,u),N(g,J)}if(J=!0,_)for(var le=_.length-1;0<=le;le--){var Me=g.g=_[le];J=H(Me,P,!0,g)&&J}if(Me=g.g=u,J=H(Me,P,!0,g)&&J,J=H(Me,P,!1,g)&&J,_)for(le=0;le<_.length;le++)Me=g.g=_[le],J=H(Me,P,!1,g)&&J}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],P=0;P<_.length;P++)fe(_[P]);delete u.g[g],u.h--}}this.F=null},gt.prototype.K=function(u,g,_,P){return this.i.add(String(u),g,!1,_,P)},gt.prototype.L=function(u,g,_,P){return this.i.add(String(u),g,!0,_,P)};function H(u,g,_,P){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var J=!0,le=0;le<g.length;++le){var Me=g[le];if(Me&&!Me.da&&Me.capture==_){var Pt=Me.listener,tn=Me.ha||Me.src;Me.fa&&xe(u.i,Me),J=Pt.call(tn,P)!==!1&&J}}return J&&!P.defaultPrevented}function ce(u,g,_){if(typeof u=="function")_&&(u=w(u,_));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(u,g||0)}function ie(u){u.g=ce(()=>{u.g=null,u.i&&(u.i=!1,ie(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Ae extends ee{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(u){ee.call(this),this.h=u,this.g={}}C(De,ee);var je=[];function Ie(u){we(u.g,function(g,_){this.g.hasOwnProperty(_)&&Xe(g)},u),u.g={}}De.prototype.N=function(){De.aa.N.call(this),Ie(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=d.JSON.stringify,he=d.JSON.parse,me=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Le(){}Le.prototype.h=null;function re(u){return u.h||(u.h=u.i())}function ve(){}var Se={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ve(){X.call(this,"d")}C(Ve,X);function Je(){X.call(this,"c")}C(Je,X);var rt={},yt=null;function Tt(){return yt=yt||new gt}rt.La="serverreachability";function Hn(u){X.call(this,rt.La,u)}C(Hn,X);function Qt(u){const g=Tt();L(g,new Hn(g))}rt.STAT_EVENT="statevent";function Gn(u,g){X.call(this,rt.STAT_EVENT,u),this.stat=g}C(Gn,X);function Ut(u){const g=Tt();L(g,new Gn(g,u))}rt.Ma="timingevent";function Eo(u,g){X.call(this,rt.Ma,u),this.size=g}C(Eo,X);function _r(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function bs(){this.g=!0}bs.prototype.xa=function(){this.g=!1};function Ds(u,g,_,P,J,le){u.info(function(){if(u.g)if(le)for(var Me="",Pt=le.split("&"),tn=0;tn<Pt.length;tn++){var vt=Pt[tn].split("=");if(1<vt.length){var on=vt[0];vt=vt[1];var Yt=on.split("_");Me=2<=Yt.length&&Yt[1]=="type"?Me+(on+"="+vt+"&"):Me+(on+"=redacted&")}}else Me=null;else Me=le;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+g+`
`+_+`
`+Me})}function To(u,g,_,P,J,le,Me){u.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+g+`
`+_+`
`+le+" "+Me})}function wr(u,g,_,P){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ad(u,_)+(P?" "+P:"")})}function Ka(u,g){u.info(function(){return"TIMEOUT: "+g})}bs.prototype.info=function(){};function ad(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var P=_[u];if(!(2>P.length)){var J=P[1];if(Array.isArray(J)&&!(1>J.length)){var le=J[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Me=1;Me<J.length;Me++)J[Me]=""}}}}return Ce(_)}catch{return g}}var So={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_u={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function Ns(){}C(Ns,Le),Ns.prototype.g=function(){return new XMLHttpRequest},Ns.prototype.i=function(){return{}},Er=new Ns;function Tr(u,g,_,P){this.j=u,this.i=g,this.l=_,this.R=P||1,this.U=new De(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wu}function wu(){this.i=null,this.g="",this.h=!1}var Qa={},Io={};function Co(u,g,_){u.L=1,u.v=zi(Qn(g)),u.m=_,u.P=!0,Ya(u,null)}function Ya(u,g){u.F=Date.now(),kt(u),u.A=Qn(u.v);var _=u.A,P=u.R;Array.isArray(P)||(P=[String(P)]),$i(_.i,"t",P),u.C=0,_=u.j.J,u.h=new wu,u.g=ju(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Ae(w(u.Y,u,u.g),u.O)),g=u.U,_=u.g,P=u.ca;var J="readystatechange";Array.isArray(J)||(J&&(je[0]=J.toString()),J=je);for(var le=0;le<J.length;le++){var Me=tt(_,J[le],P||g.handleEvent,!1,g.h||g);if(!Me)break;g.g[Me.key]=Me}g=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Qt(),Ds(u.i,u.u,u.A,u.l,u.R,u.m)}Tr.prototype.ca=function(u){u=u.target;const g=this.M;g&&Ln(u)==3?g.j():this.Y(u)},Tr.prototype.Y=function(u){try{if(u==this.g)e:{const Yt=Ln(this.g);var g=this.g.Ba();const or=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||nl(this.g)))){this.J||Yt!=4||g==7||(g==8||0>=or?Qt(3):Qt(2)),Os(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var P=nl(this.g);u="";var J=P.length,le=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Vi(this);var Me="";break t}this.h.i=new d.TextDecoder}for(g=0;g<J;g++)this.h.h=!0,u+=this.h.i.decode(P[g],{stream:!(le&&g==J-1)});P.length=0,this.h.g+=u,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=_==200,To(this.i,this.u,this.A,this.l,this.R,Yt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,tn=this.g;if((Pt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Pt)){var vt=Pt;break t}}vt=null}if(_=vt)wr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,_);else{this.o=!1,this.s=3,Ut(12),ir(this),Vi(this);break e}}if(this.P){_=!0;let Jn;for(;!this.J&&this.C<Me.length;)if(Jn=ld(this,Me),Jn==Io){Yt==4&&(this.s=4,Ut(14),_=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Qa){this.s=4,Ut(15),wr(this.i,this.l,Me,"[Invalid Chunk]"),_=!1;break}else wr(this.i,this.l,Jn,null),Ja(this,Jn);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||Me.length!=0||this.h.h||(this.s=1,Ut(16),_=!1),this.o=this.o&&_,!_)wr(this.i,this.l,Me,"[Invalid Chunked Response]"),ir(this),Vi(this);else if(0<Me.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),il(on),on.M=!0,Ut(11))}}else wr(this.i,this.l,Me,null),Ja(this,Me);Yt==4&&ir(this),this.o&&!this.J&&(Yt==4?Vo(this.j,this):(this.o=!1,kt(this)))}else bo(this.g),_==400&&0<Me.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),ir(this),Vi(this)}}}catch{}finally{}};function Eu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ld(u,g){var _=u.C,P=g.indexOf(`
`,_);return P==-1?Io:(_=Number(g.substring(_,P)),isNaN(_)?Qa:(P+=1,P+_>g.length?Io:(g=g.slice(P,P+_),u.C=P+_,g)))}Tr.prototype.cancel=function(){this.J=!0,ir(this)};function kt(u){u.S=Date.now()+u.I,Tu(u,u.I)}function Tu(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_r(w(u.ba,u),g)}function Os(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Tr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ka(this.i,this.A),this.L!=2&&(Qt(),Ut(17)),ir(this),this.s=2,Vi(this)):Tu(this,this.S-u)};function Vi(u){u.j.G==0||u.J||Vo(u.j,u)}function ir(u){Os(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ie(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Ja(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||xn(_.h,u))){if(!u.K&&xn(_.h,u)&&_.G==3){try{var P=_.Da.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Lo(_),Pr(_);else break e;Oo(_),Ut(18)}}else _.za=J[1],0<_.za-_.T&&37500>J[2]&&_.F&&_.v==0&&!_.C&&(_.C=_r(w(_.Za,_),6e3));if(1>=Iu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else hi(_,11)}else if((u.K||_.g==u)&&Lo(_),!F(g))for(J=_.Da.g.parse(g),g=0;g<J.length;g++){let vt=J[g];if(_.T=vt[0],vt=vt[1],_.G==2)if(vt[0]=="c"){_.K=vt[1],_.ia=vt[2];const on=vt[3];on!=null&&(_.la=on,_.j.info("VER="+_.la));const Yt=vt[4];Yt!=null&&(_.Aa=Yt,_.j.info("SVER="+_.Aa));const or=vt[5];or!=null&&typeof or=="number"&&0<or&&(P=1.5*or,_.L=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const Jn=u.g;if(Jn){const Us=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var le=P.h;le.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Xa(le,le.h),le.h=null))}if(P.D){const jo=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(P.ya=jo,Rt(P.I,P.D,jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),P=_;var Me=u;if(P.qa=Mu(P,P.J?P.ia:null,P.W),Me.K){Cu(P.h,Me);var Pt=Me,tn=P.L;tn&&(Pt.I=tn),Pt.B&&(Os(Pt),kt(Pt)),P.g=Me}else zs(P);0<_.i.length&&Qr(_)}else vt[0]!="stop"&&vt[0]!="close"||hi(_,7);else _.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?hi(_,7):pn(_):vt[0]!="noop"&&_.l&&_.l.ta(vt),_.v=0)}}Qt(4)}catch{}}var Su=class{constructor(u,g){this.g=u,this.map=g}};function Ls(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Iu(u){return u.h?1:u.g?u.g.size:0}function xn(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Xa(u,g){u.g?u.g.add(g):u.h=g}function Cu(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ls.prototype.cancel=function(){if(this.i=Au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Au(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return I(u.i)}function Ao(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],_=u.length,P=0;P<_;P++)g.push(u[P]);return g}g=[],_=0;for(P in u)g[_++]=u[P];return g}function Po(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const P in u)g[_++]=P;return g}}}function Mi(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Po(u),P=Ao(u),J=P.length,le=0;le<J;le++)g.call(void 0,P[le],_&&_[le],u)}var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var P=u[_].indexOf("="),J=null;if(0<=P){var le=u[_].substring(0,P);J=u[_].substring(P+1)}else le=u[_];g(le,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ai(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ai){this.h=u.h,Ms(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var g=u.i,_=new Hr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Fi(this,_),this.m=u.m}else u&&(g=String(u).match(Vs))?(this.h=!1,Ms(this,g[1]||"",!0),this.o=mt(g[2]||""),this.g=mt(g[3]||"",!0),ji(this,g[4]),this.l=mt(g[5]||"",!0),Fi(this,g[6]||"",!0),this.m=mt(g[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}ai.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Ui(g,Ro,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ui(g,Ro,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ui(_,_.charAt(0)=="/"?ku:Ru,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ui(_,Za)),u.join("")};function Qn(u){return new ai(u)}function Ms(u,g,_){u.j=_?mt(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Fi(u,g,_){g instanceof Hr?(u.i=g,Gr(u.i,u.h)):(_||(g=Ui(g,xu)),u.i=new Hr(g,u.h))}function Rt(u,g,_){u.i.set(g,_)}function zi(u){return Rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function mt(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ui(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Pu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ro=/[#\/\?@]/g,Ru=/[#\?:]/g,ku=/[#\?]/g,xu=/[#\?@]/g,Za=/#/g;function Hr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ud(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Hr.prototype,n.add=function(u,g){fn(this),this.i=null,u=sr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Sr(u,g){fn(u),g=sr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ir(u,g){return fn(u),g=sr(u,g),u.g.has(g)}n.forEach=function(u,g){fn(this),this.g.forEach(function(_,P){_.forEach(function(J){u.call(g,J,P,this)},this)},this)},n.na=function(){fn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let P=0;P<g.length;P++){const J=u[P];for(let le=0;le<J.length;le++)_.push(g[P])}return _},n.V=function(u){fn(this);let g=[];if(typeof u=="string")Ir(this,u)&&(g=g.concat(this.g.get(sr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return fn(this),this.i=null,u=sr(this,u),Ir(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function $i(u,g,_){Sr(u,g),0<_.length&&(u.i=null,u.g.set(sr(u,g),I(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var P=g[_];const le=encodeURIComponent(String(P)),Me=this.V(P);for(P=0;P<Me.length;P++){var J=le;Me[P]!==""&&(J+="="+encodeURIComponent(String(Me[P]))),u.push(J)}}return this.i=u.join("&")};function sr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Gr(u,g){g&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(_,P){var J=P.toLowerCase();P!=J&&(Sr(this,P),$i(this,J,_))},u)),u.j=g}function cd(u,g){const _=new bs;if(d.Image){const P=new Image;P.onload=A(On,_,"TestLoadImage: loaded",!0,g,P),P.onerror=A(On,_,"TestLoadImage: error",!1,g,P),P.onabort=A(On,_,"TestLoadImage: abort",!1,g,P),P.ontimeout=A(On,_,"TestLoadImage: timeout",!1,g,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=u}else g(!1)}function bu(u,g){const _=new bs,P=new AbortController,J=setTimeout(()=>{P.abort(),On(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:P.signal}).then(le=>{clearTimeout(J),le.ok?On(_,"TestPingServer: ok",!0,g):On(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(J),On(_,"TestPingServer: error",!1,g)})}function On(u,g,_,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(_)}catch{}}function hd(){this.g=new me}function Du(u,g,_){const P=_||"";try{Mi(u,function(J,le){let Me=J;m(J)&&(Me=Ce(J)),g.push(P+le+"="+encodeURIComponent(Me))})}catch(J){throw g.push(P+"type="+encodeURIComponent("_badmap")),J}}function li(u){this.l=u.Ub||null,this.j=u.eb||!1}C(li,Le),li.prototype.g=function(){return new js(this.l,this.j)},li.prototype.i=function(u){return function(){return u}}({});function js(u,g){gt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(js,gt),n=js.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Ar(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ar(this)),this.g&&(this.readyState=3,Ar(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Cr(this):Ar(this),this.readyState==3&&Nu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Cr(this))},n.Qa=function(u){this.g&&(this.response=u,Cr(this))},n.ga=function(){this.g&&Cr(this)};function Cr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ar(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Ar(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ui(u){let g="";return we(u,function(_,P){g+=P,g+=":",g+=_,g+=`\r
`}),g}function Bi(u,g,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=ui(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Rt(u,g,_))}function Mt(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Mt,gt);var dd=/^https?$/i,el=["POST","PUT"];n=Mt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?re(this.o):re(Er),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(le){Fs(this,le);return}if(u=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)_.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const le of P.keys())_.set(le,P.get(le));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(le=>le.toLowerCase()=="content-type"),J=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(el,g,void 0))||P||J||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Me]of _)this.g.setRequestHeader(le,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xo(this),this.u=!0,this.g.send(u),this.u=!1}catch(le){Fs(this,le)}};function Fs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ko(u),Yn(u)}function ko(u){u.A||(u.A=!0,L(u,"complete"),L(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,L(this,"complete"),L(this,"abort"),Yn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},n.bb=function(){tl(this)};function tl(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)ce(u.Ea,0,u);else if(L(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const Me=u.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var P;if(P=Me===0){var J=String(u.D).match(Vs)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),P=!dd.test(J?J.toLowerCase():"")}_=P}if(_)L(u,"complete"),L(u,"success");else{u.m=6;try{var le=2<Ln(u)?u.g.statusText:""}catch{le=""}u.l=le+" ["+u.Z()+"]",ko(u)}}finally{Yn(u)}}}}function Yn(u,g){if(u.g){xo(u);const _=u.g,P=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||L(u,"ready");try{_.onreadystatechange=P}catch{}}}function xo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),he(g)}};function nl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(u){const g={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<u.length;P++){if(F(u[P]))continue;var _=O(u[P]);const J=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const le=g[J]||[];g[J]=le,le.push(_)}V(g,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function rl(u){this.Aa=0,this.i=[],this.j=new bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ls(u&&u.concurrentRequestLimit),this.Da=new hd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rl.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,P){Ut(0),this.W=u,this.H=g||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.I=Mu(this,null,this.W),Qr(this)};function pn(u){if(Do(u),u.G==3){var g=u.U++,_=Qn(u.I);if(Rt(_,"SID",u.K),Rt(_,"RID",g),Rt(_,"TYPE","terminate"),ci(u,_),g=new Tr(u,u.j,g),g.L=2,g.v=zi(Qn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=ju(g.j,null),g.g.ea(g.v)),g.F=Date.now(),kt(g)}Vu(u)}function Pr(u){u.g&&(il(u),u.g.cancel(),u.g=null)}function Do(u){Pr(u),u.u&&(d.clearTimeout(u.u),u.u=null),Lo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Qr(u){if(!Kn(u.h)&&!u.s){u.s=!0;var g=u.Ga;Ee||b(),Q||(Ee(),Q=!0),ye.add(g,u),u.B=0}}function fd(u,g){return Iu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_r(w(u.Ga,u,g),Lu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const J=new Tr(this,this.j,u);let le=this.o;if(this.S&&(le?(le=k(le),N(le,this.S)):le=this.S),this.m!==null||this.O||(J.H=le,le=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Wi(this,J,g),_=Qn(this.I),Rt(_,"RID",u),Rt(_,"CVER",22),this.D&&Rt(_,"X-HTTP-Session-Id",this.D),ci(this,_),le&&(this.O?g="headers="+encodeURIComponent(String(ui(le)))+"&"+g:this.m&&Bi(_,this.m,le)),Xa(this.h,J),this.Ua&&Rt(_,"TYPE","init"),this.P?(Rt(_,"$req",g),Rt(_,"SID","null"),J.T=!0,Co(J,_,null)):Co(J,_,g),this.G=2}}else this.G==3&&(u?No(this,u):this.i.length==0||Kn(this.h)||No(this))};function No(u,g){var _;g?_=g.l:_=u.U++;const P=Qn(u.I);Rt(P,"SID",u.K),Rt(P,"RID",_),Rt(P,"AID",u.T),ci(u,P),u.m&&u.o&&Bi(P,u.m,u.o),_=new Tr(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Wi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xa(u.h,_),Co(_,P,g)}function ci(u,g){u.H&&we(u.H,function(_,P){Rt(g,P,_)}),u.l&&Mi({},function(_,P){Rt(g,P,_)})}function Wi(u,g,_){_=Math.min(u.i.length,_);var P=u.l?w(u.l.Na,u.l,u):null;e:{var J=u.i;let le=-1;for(;;){const Me=["count="+_];le==-1?0<_?(le=J[0].g,Me.push("ofs="+le)):le=0:Me.push("ofs="+le);let Pt=!0;for(let tn=0;tn<_;tn++){let vt=J[tn].g;const on=J[tn].map;if(vt-=le,0>vt)le=Math.max(0,J[tn].g-100),Pt=!1;else try{Du(on,Me,"req"+vt+"_")}catch{P&&P(on)}}if(Pt){P=Me.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,P}function zs(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Ee||b(),Q||(Ee(),Q=!0),ye.add(g,u),u.v=0}}function Oo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_r(w(u.Fa,u),Lu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_r(w(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Pr(this),Ou(this))};function il(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Ou(u){u.g=new Tr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Qn(u.qa);Rt(g,"RID","rpc"),Rt(g,"SID",u.K),Rt(g,"AID",u.T),Rt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Rt(g,"TO",u.ja),Rt(g,"TYPE","xmlhttp"),ci(u,g),u.m&&u.o&&Bi(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=zi(Qn(g)),_.m=null,_.P=!0,Ya(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Pr(this),Oo(this),Ut(19))};function Lo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vo(u,g){var _=null;if(u.g==g){Lo(u),il(u),u.g=null;var P=2}else if(xn(u.h,g))_=g.D,Cu(u.h,g),P=1;else return;if(u.G!=0){if(g.o)if(P==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var J=u.B;P=Tt(),L(P,new Eo(P,_)),Qr(u)}else zs(u);else if(J=g.s,J==3||J==0&&0<g.X||!(P==1&&fd(u,g)||P==2&&Oo(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),J){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function Lu(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function hi(u,g){if(u.j.info("Error code "+g),g==2){var _=w(u.fb,u),P=u.Xa;const J=!P;P=new ai(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ms(P,"https"),zi(P),J?cd(P.toString(),_):bu(P.toString(),_)}else Ut(2);u.G=0,u.l&&u.l.sa(g),Vu(u),Do(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Vu(u){if(u.G=0,u.ka=[],u.l){const g=Au(u.h);(g.length!=0||u.i.length!=0)&&(T(u.ka,g),T(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function Mu(u,g,_){var P=_ instanceof ai?Qn(_):new ai(_);if(P.g!="")g&&(P.g=g+"."+P.g),ji(P,P.s);else{var J=d.location;P=J.protocol,g=g?g+"."+J.hostname:J.hostname,J=+J.port;var le=new ai(null);P&&Ms(le,P),g&&(le.g=g),J&&ji(le,J),_&&(le.l=_),P=le}return _=u.D,g=u.ya,_&&g&&Rt(P,_,g),Rt(P,"VER",u.la),ci(u,P),P}function ju(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Mt(new li({eb:_})):new Mt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sl(){}n=sl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mo(){}Mo.prototype.g=function(u,g){return new bn(u,g)};function bn(u,g){gt.call(this),this.g=new rl(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!F(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Yr(this)}C(bn,gt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){pn(this.g)},bn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ce(u),u=_);g.i.push(new Su(g.Ya++,u)),g.G==3&&Qr(g)},bn.prototype.N=function(){this.g.l=null,delete this.j,pn(this.g),delete this.g,bn.aa.N.call(this)};function Fu(u){Ve.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}C(Fu,Ve);function zu(){Je.call(this),this.status=1}C(zu,Je);function Yr(u){this.g=u}C(Yr,sl),Yr.prototype.ua=function(){L(this.g,"a")},Yr.prototype.ta=function(u){L(this.g,new Fu(u))},Yr.prototype.sa=function(u){L(this.g,new zu)},Yr.prototype.ra=function(){L(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,H0=function(){return new Mo},q0=function(){return Tt()},W0=rt,Ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,Qc=So,_u.COMPLETE="complete",B0=_u,ve.EventType=Se,Se.OPEN="a",Se.CLOSE="b",Se.ERROR="c",Se.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Vl=ve,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,$0=Mt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore",n_="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new em("@firebase/firestore");function aa(){return oo.logLevel}function Ue(n,...e){if(oo.logLevel<=ft.DEBUG){const t=e.map(pm);oo.debug(`Firestore (${za}): ${n}`,...t)}}function Di(n,...e){if(oo.logLevel<=ft.ERROR){const t=e.map(pm);oo.error(`Firestore (${za}): ${n}`,...t)}}function ao(n,...e){if(oo.logLevel<=ft.WARN){const t=e.map(pm);oo.warn(`Firestore (${za}): ${n}`,...t)}}function pm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,G0(n,i,t)}function G0(n,e,t){let i=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Di(i),new Error(i)}function At(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||G0(e,o,i)}function lt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class LR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VR{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ai,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ai)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string",31837,{l:i}),new K0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class MR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new MR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const i=a=>{a.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new r_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=zR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function ct(n,e){return n<e?-1:n>e?1:0}function Tp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return ct(i,o);{const a=Y0(),c=UR(a.encode(i_(n,t)),a.encode(i_(e,t)));return c!==0?c:ct(i,o)}}t+=i>65535?2:1}return ct(n.length,e.length)}function i_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function UR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ct(n[t],e[t]);return ct(n.length,e.length)}function Sa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-62135596800,o_=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*o_);return new Ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<s_)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o_}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-s_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new Ht(0,0))}static max(){return new at(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class ni{constructor(e,t,i){t===void 0?t=0:t>e.length&&st(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&st(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=ni.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return ct(e.length,t.length)}static compareSegments(e,t){const i=ni.isNumericId(e),o=ni.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?ni.extractNumericId(e).compare(ni.extractNumericId(t)):Tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class bt extends ni{construct(e,t,i){return new bt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new bt(t)}static emptyPath(){return new bt([])}}const $R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends ni{construct(e,t,i){return new hn(e,t,i)}static isValidIdentifier(e){return $R.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new hn([a_])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(t)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(bt.fromString(e))}static fromName(e){return new Ke(bt.fromString(e).popFirst(5))}static empty(){return new Ke(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function BR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=at.fromTimestamp(i===1e9?new Ht(t+1,0):new Ht(t,i));return new vs(o,Ke.empty(),e)}function WR(n){return new vs(n.readTime,n.key,Ql)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(at.min(),Ke.empty(),Ql)}static max(){return new vs(at.max(),Ke.empty(),Ql)}}function qR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ke.comparator(n.documentKey,e.documentKey),t!==0?t:ct(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==HR)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&st(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,i)=>{t(e)})}static reject(e){return new Te((t,i)=>{i(e)})}static waitFor(e){return new Te((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},f=>i(f))}),c=!0,a===o&&t()})}static or(e){let t=Te.resolve(!1);for(const i of e)t=t.next(o=>o?Te.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Te((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{c[m]=v,++d,d===a&&i(c)},v=>o(v))}})}static doWhile(e,t){return new Te((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function KR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $a(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function Lh(n){return n==null}function dh(n){return n===0&&1/n==-1/0}function QR(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="";function YR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=l_(e)),e=JR(n.get(t),e);return l_(e)}function JR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case J0:t+="";break;default:t+=a}}return t}function l_(n){return n+J0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function X0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??vn.RED,this.left=o??vn.EMPTY,this.right=a??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new vn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw st(43730,{key:this.key,value:this.value});if(this.right.isRed())throw st(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw st(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw st(57766)}get value(){throw st(16141)}get color(){throw st(16727)}get left(){throw st(29726)}get right(){throw st(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new tr([])}unionWith(e){let t=new sn(hn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Z0("Invalid base64 string: "+a):a}}(e);return new dn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(At(!!n,39018),typeof n=="string"){let e=0;const t=XR.exec(n);if(At(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="server_timestamp",tE="__type__",nE="__previous_value__",rE="__local_write_time__";function Vh(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tE])===null||t===void 0?void 0:t.stringValue)===eE}function Mh(n){const e=n.mapValue.fields[nE];return Vh(e)?Mh(e):e}function Yl(n){const e=_s(n.mapValue.fields[rE].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t,i,o,a,c,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const fh="(default)";class Ia{constructor(e,t){this.projectId=e,this.database=t||fh}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="__type__",ek="__max__",jc={mapValue:{}},sE="__vector__",ph="value";function Es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vh(n)?4:nk(n)?9007199254740991:tk(n)?10:11:st(28295,{value:n})}function oi(n,e){if(n===e)return!0;const t=Es(n);if(t!==Es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yl(n).isEqual(Yl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=_s(o.timestampValue),d=_s(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ws(o.bytesValue).isEqual(ws(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Kt(o.geoPointValue.latitude)===Kt(a.geoPointValue.latitude)&&Kt(o.geoPointValue.longitude)===Kt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Kt(o.integerValue)===Kt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Kt(o.doubleValue),d=Kt(a.doubleValue);return c===d?dh(c)===dh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Sa(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(u_(c)!==u_(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!oi(c[f],d[f])))return!1;return!0}(n,e);default:return st(52216,{left:n})}}function Jl(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function Ca(n,e){if(n===e)return 0;const t=Es(n),i=Es(e);if(t!==i)return ct(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ct(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=Kt(a.integerValue||a.doubleValue),f=Kt(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return h_(n.timestampValue,e.timestampValue);case 4:return h_(Yl(n),Yl(e));case 5:return Tp(n.stringValue,e.stringValue);case 6:return function(a,c){const d=ws(a),f=ws(c);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=ct(d[m],f[m]);if(v!==0)return v}return ct(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=ct(Kt(a.latitude),Kt(c.latitude));return d!==0?d:ct(Kt(a.longitude),Kt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return d_(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,f,m,v;const E=a.fields||{},w=c.fields||{},A=(d=E[ph])===null||d===void 0?void 0:d.arrayValue,C=(f=w[ph])===null||f===void 0?void 0:f.arrayValue,I=ct(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return I!==0?I:d_(A,C)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===jc.mapValue&&c===jc.mapValue)return 0;if(a===jc.mapValue)return 1;if(c===jc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=c.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const w=Tp(f[E],v[E]);if(w!==0)return w;const A=Ca(d[f[E]],m[v[E]]);if(A!==0)return A}return ct(f.length,v.length)}(n.mapValue,e.mapValue);default:throw st(23264,{Pe:t})}}function h_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ct(n,e);const t=_s(n),i=_s(e),o=ct(t.seconds,i.seconds);return o!==0?o:ct(t.nanos,i.nanos)}function d_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Ca(t[o],i[o]);if(a)return a}return ct(t.length,i.length)}function Aa(n){return Sp(n)}function Sp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=_s(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ws(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Sp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Sp(t.fields[c])}`;return o+"}"}(n.mapValue):st(61005,{value:n})}function Yc(n){switch(Es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(n);return e?16+Yc(e):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Yc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Ps(i.fields,(a,c)=>{o+=a.length+Yc(c)}),o}(n.mapValue);default:throw st(13486,{value:n})}}function mh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ip(n){return!!n&&"integerValue"in n}function ym(n){return!!n&&"arrayValue"in n}function f_(n){return!!n&&"nullValue"in n}function p_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jc(n){return!!n&&"mapValue"in n}function tk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[iE])===null||t===void 0?void 0:t.stringValue)===sE}function Ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ps(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ul(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ek}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=hn.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Ul(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ps(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new qn(Ul(this.value))}}function oE(n){const e=[];return Ps(n.fields,(t,i)=>{const o=new hn([t]);if(Jc(i)){const a=oE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Pn(e,0,at.min(),at.min(),at.min(),qn.empty(),0)}static newFoundDocument(e,t,i,o){return new Pn(e,1,t,at.min(),i,o,0)}static newNoDocument(e,t){return new Pn(e,2,t,at.min(),at.min(),qn.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,at.min(),at.min(),qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t){this.position=e,this.inclusive=t}}function m_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ke.comparator(Ke.fromName(c.referenceValue),t.key):i=Ca(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function g_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t="asc"){this.field=e,this.dir=t}}function rk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class Zt extends aE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new sk(e,t,i):t==="array-contains"?new lk(e,i):t==="in"?new uk(e,i):t==="not-in"?new ck(e,i):t==="array-contains-any"?new hk(e,i):new Zt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ok(e,i):new ak(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ca(t,this.value)):t!==null&&Es(this.value)===Es(t)&&this.matchesComparison(Ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return st(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends aE{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ur(e,t)}matches(e){return lE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lE(n){return n.op==="and"}function uE(n){return ik(n)&&lE(n)}function ik(n){for(const e of n.filters)if(e instanceof Ur)return!1;return!0}function Cp(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Aa(n.value);if(uE(n))return n.filters.map(e=>Cp(e)).join(",");{const e=n.filters.map(t=>Cp(t)).join(",");return`${n.op}(${e})`}}function cE(n,e){return n instanceof Zt?function(i,o){return o instanceof Zt&&i.op===o.op&&i.field.isEqual(o.field)&&oi(i.value,o.value)}(n,e):n instanceof Ur?function(i,o){return o instanceof Ur&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&cE(c,o.filters[d]),!0):!1}(n,e):void st(19439)}function hE(n){return n instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${Aa(t.value)}`}(n):n instanceof Ur?function(t){return t.op.toString()+" {"+t.getFilters().map(hE).join(" ,")+"}"}(n):"Filter"}class sk extends Zt{constructor(e,t,i){super(e,t,i),this.key=Ke.fromName(i.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class ok extends Zt{constructor(e,t){super(e,"in",t),this.keys=dE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ak extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=dE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ke.fromName(i.referenceValue))}class lk extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ym(t)&&Jl(t.arrayValue,this.value)}}class uk extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jl(this.value.arrayValue,t)}}class ck extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Jl(this.value.arrayValue,t)}}class hk extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Jl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function y_(n,e=null,t=[],i=[],o=null,a=null,c=null){return new dk(n,e,t,i,o,a,c)}function vm(n){const e=lt(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Cp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Aa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Aa(i)).join(",")),e.Ie=t}return e.Ie}function _m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!g_(n.startAt,e.startAt)&&g_(n.endAt,e.endAt)}function Ap(n){return Ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function fk(n,e,t,i,o,a,c,d){return new Rs(n,e,t,i,o,a,c,d)}function wm(n){return new Rs(n)}function v_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Em(n){return n.collectionGroup!==null}function ya(n){const e=lt(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new sn(hn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Xl(a,i))}),t.has(hn.keyField().canonicalString())||e.Ee.push(new Xl(hn.keyField(),i))}return e.Ee}function ii(n){const e=lt(n);return e.de||(e.de=pk(e,ya(n))),e.de}function pk(n,e){if(n.limitType==="F")return y_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Xl(o.field,a)});const t=n.endAt?new Pa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pa(n.startAt.position,n.startAt.inclusive):null;return y_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Pp(n,e){const t=n.filters.concat([e]);return new Rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gh(n,e,t){return new Rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jh(n,e){return _m(ii(n),ii(e))&&n.limitType===e.limitType}function fE(n){return`${vm(ii(n))}|lt:${n.limitType}`}function la(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>hE(o)).join(", ")}]`),Lh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Aa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Aa(o)).join(",")),`Target(${i})`}(ii(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ke.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of ya(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,f){const m=m_(c,d,f);return c.inclusive?m<=0:m<0}(i.startAt,ya(i),o)||i.endAt&&!function(c,d,f){const m=m_(c,d,f);return c.inclusive?m>=0:m>0}(i.endAt,ya(i),o))}(n,e)}function mk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pE(n){return(e,t)=>{let i=!1;for(const o of ya(n)){const a=gk(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function gk(n,e,t){const i=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(a,c,d){const f=c.data.field(a),m=d.data.field(a);return f!==null&&m!==null?Ca(f,m):st(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return st(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Wt(Ke.comparator);function Ni(){return yk}const mE=new Wt(Ke.comparator);function Ml(...n){let e=mE;for(const t of n)e=e.insert(t.key,t);return e}function gE(n){let e=mE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ro(){return $l()}function yE(){return $l()}function $l(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}const vk=new Wt(Ke.comparator),_k=new sn(Ke.comparator);function pt(...n){let e=_k;for(const t of n)e=e.add(t);return e}const wk=new sn(ct);function Ek(){return wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function vE(n){return{integerValue:""+n}}function Tk(n,e){return QR(e)?vE(e):Tm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function Sk(n,e,t){return n instanceof yh?function(o,a){const c={fields:{[tE]:{stringValue:eE},[rE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Vh(a)&&(a=Mh(a)),a&&(c.fields[nE]=a),{mapValue:c}}(t,e):n instanceof Ra?wE(n,e):n instanceof ka?EE(n,e):function(o,a){const c=_E(o,a),d=__(c)+__(o.Re);return Ip(c)&&Ip(o.Re)?vE(d):Tm(o.serializer,d)}(n,e)}function Ik(n,e,t){return n instanceof Ra?wE(n,e):n instanceof ka?EE(n,e):t}function _E(n,e){return n instanceof vh?function(i){return Ip(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class yh extends zh{}class Ra extends zh{constructor(e){super(),this.elements=e}}function wE(n,e){const t=TE(e);for(const i of n.elements)t.some(o=>oi(o,i))||t.push(i);return{arrayValue:{values:t}}}class ka extends zh{constructor(e){super(),this.elements=e}}function EE(n,e){let t=TE(e);for(const i of n.elements)t=t.filter(o=>!oi(o,i));return{arrayValue:{values:t}}}class vh extends zh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function __(n){return Kt(n.integerValue||n.doubleValue)}function TE(n){return ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t){this.field=e,this.transform=t}}function Ck(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Ra&&o instanceof Ra||i instanceof ka&&o instanceof ka?Sa(i.elements,o.elements,oi):i instanceof vh&&o instanceof vh?oi(i.Re,o.Re):i instanceof yh&&o instanceof yh}(n.transform,e.transform)}class Ak{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Uh{}function IE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Sm(n.key,gr.none()):new uu(n.key,n.data,gr.none());{const t=n.data,i=qn.empty();let o=new sn(hn.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ks(n.key,i,new tr(o.toArray()),gr.none())}}function Pk(n,e,t){n instanceof uu?function(o,a,c){const d=o.value.clone(),f=E_(o.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ks?function(o,a,c){if(!Xc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=E_(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(CE(o)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Bl(n,e,t,i){return n instanceof uu?function(a,c,d,f){if(!Xc(a.precondition,c))return d;const m=a.value.clone(),v=T_(a.fieldTransforms,f,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof ks?function(a,c,d,f){if(!Xc(a.precondition,c))return d;const m=T_(a.fieldTransforms,f,c),v=c.data;return v.setAll(CE(a)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,d){return Xc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Rk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=_E(i.transform,o||null);a!=null&&(t===null&&(t=qn.empty()),t.set(i.field,a))}return t||null}function w_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Sa(i,o,(a,c)=>Ck(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uu extends Uh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ks extends Uh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function CE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function E_(n,e,t){const i=new Map;At(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,Ik(c,d,t[o]))}return i}function T_(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,Sk(a,c,e))}return i}class Sm extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kk extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Pk(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Bl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Bl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=yE();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const f=IE(c,d);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(at.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pt())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(t,i)=>w_(t,i))&&Sa(this.baseMutations,e.baseMutations,(t,i)=>w_(t,i))}}class Im{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){At(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return vk}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Im(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,_t;function Nk(n){switch(n){case _e.OK:return st(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return st(15467,{code:n})}}function AE(n){if(n===void 0)return Di("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Xt.OK:return _e.OK;case Xt.CANCELLED:return _e.CANCELLED;case Xt.UNKNOWN:return _e.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return _e.INTERNAL;case Xt.UNAVAILABLE:return _e.UNAVAILABLE;case Xt.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Xt.NOT_FOUND:return _e.NOT_FOUND;case Xt.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Xt.ABORTED:return _e.ABORTED;case Xt.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Xt.DATA_LOSS:return _e.DATA_LOSS;default:return st(39323,{code:n})}}(_t=Xt||(Xt={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new gs([4294967295,4294967295],0);function S_(n){const e=Y0().encode(n),t=new U0;return t.update(e),new Uint8Array(t.digest())}function I_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gs([t,i],0),new gs([o,a],0)]}class Cm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new jl(`Invalid padding: ${t}`);if(i<0)throw new jl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new jl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=gs.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(gs.fromNumber(i)));return o.compare(Ok)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=S_(e),[i,o]=I_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Cm(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=S_(e),[i,o]=I_(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $h(at.min(),o,new Wt(ct),Ni(),pt())}}class cu{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new cu(i,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class PE{constructor(e,t){this.targetId=e,this.Ce=t}}class RE{constructor(e,t,i=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class C_{constructor(){this.Fe=0,this.Me=A_(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pt(),t=pt(),i=pt();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:st(38017,{changeType:a})}}),new cu(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=A_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,At(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Lk{constructor(e){this.ze=e,this.je=new Map,this.He=Ni(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new Wt(ct)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:st(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(Ap(a))if(i===0){const c=new Ke(a.path);this.tt(t,c,Pn.newNoDocument(c,at.min()))}else At(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),f=d?this.lt(d,e,c):1;if(f!==0){this.st(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=ws(i).toUint8Array()}catch(f){if(f instanceof Z0)return ao("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Cm(c,o,a)}catch(f){return ao(f instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&Ap(d.target)){const f=new Ke(d.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,Pn.newNoDocument(f,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=pt();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new $h(e,t,this.Ze,this.He,i);return this.He=Ni(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new Wt(ct),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new C_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new sn(ct),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new sn(ct),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new C_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Fc(){return new Wt(Ke.comparator)}function A_(){return new Wt(Ke.comparator)}const Vk={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jk={and:"AND",or:"OR"};class Fk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rp(n,e){return n.useProto3Json||Lh(e)?e:{value:e}}function _h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zk(n,e){return _h(n,e.toTimestamp())}function si(n){return At(!!n,49232),at.fromTimestamp(function(t){const i=_s(t);return new Ht(i.seconds,i.nanos)}(n))}function Am(n,e){return kp(n,e).canonicalString()}function kp(n,e){const t=function(o){return new bt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xE(n){const e=bt.fromString(n);return At(LE(e),10190,{key:e.toString()}),e}function xp(n,e){return Am(n.databaseId,e.path)}function Kf(n,e){const t=xE(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(DE(t))}function bE(n,e){return Am(n.databaseId,e)}function Uk(n){const e=xE(n);return e.length===4?bt.emptyPath():DE(e)}function bp(n){return new bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DE(n){return At(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function P_(n,e,t){return{name:xp(n,e),fields:t.value.mapValue.fields}}function $k(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:st(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(At(v===void 0||typeof v=="string",58123),dn.fromBase64String(v||"")):(At(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),dn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const v=m.code===void 0?_e.UNKNOWN:AE(m.code);return new Fe(v,m.message||"")}(c);t=new RE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Kf(n,i.document.name),a=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):at.min(),d=new qn({mapValue:{fields:i.document.fields}}),f=Pn.newFoundDocument(o,a,c,d),m=i.targetIds||[],v=i.removedTargetIds||[];t=new Zc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Kf(n,i.document),a=i.readTime?si(i.readTime):at.min(),c=Pn.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Zc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Kf(n,i.document),a=i.removedTargetIds||[];t=new Zc([],a,o,null)}else{if(!("filter"in e))return st(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new Dk(o,a),d=i.targetId;t=new PE(d,c)}}return t}function Bk(n,e){let t;if(e instanceof uu)t={update:P_(n,e.key,e.value)};else if(e instanceof Sm)t={delete:xp(n,e.key)};else if(e instanceof ks)t={update:P_(n,e.key,e.data),updateMask:Xk(e.fieldMask)};else{if(!(e instanceof kk))return st(16599,{ft:e.type});t={verify:xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof yh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ra)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ka)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw st(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:zk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:st(27497)}(n,e.precondition)),t}function Wk(n,e){return n&&n.length>0?(At(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?si(o.updateTime):si(a);return c.isEqual(at.min())&&(c=si(a)),new Ak(c,o.transformResults||[])}(t,e))):[]}function qk(n,e){return{documents:[bE(n,e.path)]}}function Hk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=bE(n,o);const a=function(m){if(m.length!==0)return OE(Ur.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(v=>function(w){return{field:ua(w.field),direction:Qk(w.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Rp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function Gk(n){let e=Uk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){At(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(E){const w=NE(E);return w instanceof Ur&&uE(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(w=>function(C){return new Xl(ca(C.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(E){let w;return w=typeof E=="object"?E.value:E,Lh(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(E){const w=!!E.before,A=E.values||[];return new Pa(A,w)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const w=!E.before,A=E.values||[];return new Pa(A,w)}(t.endAt)),fk(e,o,c,a,d,"F",f,m)}function Kk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function NE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ca(t.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ca(t.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ca(t.unaryFilter.field);return Zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ca(t.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return st(61313);default:return st(60726)}}(n):n.fieldFilter!==void 0?function(t){return Zt.create(ca(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return st(58110);default:return st(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ur.create(t.compositeFilter.filters.map(i=>NE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return st(1026)}}(t.compositeFilter.op))}(n):st(30097,{filter:n})}function Qk(n){return Vk[n]}function Yk(n){return Mk[n]}function Jk(n){return jk[n]}function ua(n){return{fieldPath:n.canonicalString()}}function ca(n){return hn.fromServerFormat(n.fieldPath)}function OE(n){return n instanceof Zt?function(t){if(t.op==="=="){if(p_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NAN"}};if(f_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(p_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NAN"}};if(f_(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(t.field),op:Yk(t.op),value:t.value}}}(n):n instanceof Ur?function(t){const i=t.getFilters().map(o=>OE(o));return i.length===1?i[0]:{compositeFilter:{op:Jk(t.op),filters:i}}}(n):st(54877,{filter:n})}function Xk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t,i,o,a=at.min(),c=at.min(),d=dn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.wt=e}}function ex(n){const e=Gk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.yn=new nx}addToCollectionParentIndex(e,t){return this.yn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(vs.min())}updateCollectionGroup(e,t,i){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class nx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new sn(bt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new sn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VE=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(VE,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new xa(0)}static ir(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="LruGarbageCollector",rx=1048576;function x_([n,e],[t,i]){const o=ct(n,t);return o===0?ct(e,i):o}class ix{constructor(e){this.cr=e,this.buffer=new sn(x_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();x_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sx{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ue(k_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$a(t)?Ue(k_,"Ignoring IndexedDB error during garbage collection: ",t):await Ua(t)}await this.Ir(3e5)})}}class ox{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Te.resolve(Oh.le);const i=new ix(t);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(R_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,o,a,c,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),aa()<=ft.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function ax(n,e){return new ox(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Te.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Bl(i.mutation,o,tr.empty(),Ht.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pt()){const o=ro();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Ml();return a.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pt()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=Ni();const c=$l(),d=function(){return $l()}();return t.forEach((f,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof ks)?a=a.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),Bl(v.mutation,m,v.mutation.getFieldMask(),Ht.now())):c.set(m.key,tr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>c.set(m,v)),t.forEach((m,v)=>{var E;return d.set(m,new ux(v,(E=c.get(m))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=$l();let o=new Wt((c,d)=>c-d),a=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||tr.empty();v=d.applyToLocalView(m,v),i.set(f,v);const E=(o.get(d.batchId)||pt()).add(f);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,E=yE();v.forEach(w=>{if(!a.has(w)){const A=IE(t.get(w),i.get(w));A!==null&&E.set(w,A),a=a.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return Te.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Em(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Te.resolve(ro());let d=Ql,f=a;return c.next(m=>Te.forEach(m,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(v)?Te.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{f=f.insert(v,w)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,pt())).next(v=>({batchId:d,changes:gE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(i=>{let o=Ml();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Ml();return this.indexManager.getCollectionParents(e,a).next(d=>Te.forEach(d,f=>{const m=function(E,w){return new Rs(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((E,w)=>{c=c.insert(E,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((f,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,Pn.newInvalidDocument(v)))});let d=Ml();return c.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Bl(v.mutation,m,tr.empty(),Ht.now()),Fh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return Te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(t)),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:ex(o.bundledQuery),readTime:si(o.readTime)}}(t)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.overlays=new Wt(Ke.comparator),this.Or=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ro();return Te.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),Te.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),Te.resolve()}getOverlaysForCollection(e,t,i){const o=ro(),a=t.length+1,c=new Ke(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return Te.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Wt((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=ro(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=ro(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return Te.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new bk(t,i));let a=this.Or.get(t);a===void 0&&(a=pt(),this.Or.set(t,a)),this.Or.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Nr=new sn(cn.Br),this.Lr=new sn(cn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new cn(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new cn(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ke(new bt([])),i=new cn(t,e),o=new cn(t,e+1),a=[];return this.Lr.forEachInRange([i,o],c=>{this.Qr(c),a.push(c.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ke(new bt([])),i=new cn(t,e),o=new cn(t,e+1);let a=pt();return this.Lr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new cn(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class cn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ke.comparator(e.key,t.key)||ct(e.Gr,t.Gr)}static kr(e,t){return ct(e.Gr,t.Gr)||Ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new sn(cn.Br)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new xk(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.zr=this.zr.add(new cn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Te.resolve(c)}lookupMutationBatch(e,t){return Te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Hr(i),a=o<0?0:o;return Te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?gm:this.Jn-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new cn(t,0),o=new cn(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,o],c=>{const d=this.jr(c.Gr);a.push(d)}),Te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new sn(ct);return t.forEach(o=>{const a=new cn(o,0),c=new cn(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,c],d=>{i=i.add(d.Gr)})}),Te.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ke.isDocumentKey(a)||(a=a.child(""));const c=new cn(new Ke(a),0);let d=new sn(ct);return this.zr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Gr)),!0)},c),Te.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){At(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return Te.forEach(t.mutations,o=>{const a=new cn(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new cn(t,0),o=this.zr.firstAfterOrEqual(i);return Te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.Zr=e,this.docs=function(){return new Wt(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Te.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let i=Ni();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Pn.newInvalidDocument(o))}),Te.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Ni();const c=t.path,d=new Ke(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||qR(WR(v),i)<=0||(o.has(v.key)||Fh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Te.resolve(a)}getAllFromCollectionGroup(e,t,i,o){st(9500)}Xr(e,t){return Te.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gx(this)}getSize(e){return Te.resolve(this.size)}}class gx extends lx{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),Te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.persistence=e,this.ei=new go(t=>vm(t),_m),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.ti=0,this.ni=new Pm,this.targetCount=0,this.ri=xa.rr()}forEachTarget(e,t){return this.ei.forEach((i,o)=>t(o)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),Te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new xa(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.ar(t),Te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Te.waitFor(a).next(()=>o)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return Te.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),Te.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),Te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return Te.resolve(i)}containsKey(e,t){return Te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,t){this.ii={},this.overlays={},this.si=new Oh(0),this.oi=!1,this.oi=!0,this._i=new fx,this.referenceDelegate=e(this),this.ai=new yx(this),this.indexManager=new tx,this.remoteDocumentCache=function(o){return new mx(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new Zk(t),this.ci=new hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new px(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){Ue("MemoryPersistence","Starting transaction:",e);const o=new vx(this.si.next());return this.referenceDelegate.li(),i(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return Te.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class vx extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Ti=new Pm,this.Ii=null}static Ei(e){return new Rm(e)}get di(){if(this.Ii)return this.Ii;throw st(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),Te.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.di,i=>{const o=Ke.fromPath(i);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,at.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return Te.or([()=>Te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.Ri=new go(i=>YR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ax(this,t)}static Ei(e,t){return new wh(e,t)}li(){}hi(e){return Te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return Te.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(a=>a?Te.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,a.removeEntry(c,at.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),Te.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),Te.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),Te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yc(e.data.value)),t}gr(e,t,i){return Te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return Te.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=o}static Ps(e,t){let i=pt(),o=pt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new km(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return JI()?8:KR(kn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Vs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new _x;return this.fs(e,t,c).next(d=>{if(a.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>a.result)}gs(e,t,i,o){return i.documentReadCount<this.Es?(aa()<=ft.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",la(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Te.resolve()):(aa()<=ft.DEBUG&&Ue("QueryEngine","Query:",la(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(aa()<=ft.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",la(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):Te.resolve())}Rs(e,t){if(v_(t))return Te.resolve(null);let i=ii(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=gh(t,null,"F"),i=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=pt(...a);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.ps(t,d);return this.ys(t,m,c,f.readTime)?this.Rs(e,gh(t,null,"F")):this.ws(e,m,t,f)}))})))}Vs(e,t,i,o){return v_(t)||o.isEqual(at.min())?Te.resolve(null):this.As.getDocuments(e,i).next(a=>{const c=this.ps(t,a);return this.ys(t,c,i,o)?Te.resolve(null):(aa()<=ft.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),la(t)),this.ws(e,c,t,BR(o,Ql)).next(d=>d))})}ps(e,t){let i=new sn(pE(e));return t.forEach((o,a)=>{Fh(e,a)&&(i=i.add(a))}),i}ys(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,i){return aa()<=ft.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",la(t)),this.As.getDocumentsMatchingQuery(e,t,vs.min(),i)}ws(e,t,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",Ex=3e8;class Tx{constructor(e,t,i,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new Wt(ct),this.Ds=new go(a=>vm(a),_m),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cx(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function Sx(n,e,t,i){return new Tx(n,e,t,i)}async function jE(n,e){const t=lt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let f=pt();for(const m of o){c.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Ms:m,removedBatchIds:c,addedBatchIds:d}))})})}function Ix(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const E=m.batch,w=E.keys();let A=Te.resolve();return w.forEach(C=>{A=A.next(()=>v.getEntry(f,C)).next(I=>{const T=m.docVersions.get(C);At(T!==null,48541),I.version.compareTo(T)<0&&(E.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),v.addEntry(I)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=pt();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function FE(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Cx(n,e){const t=lt(n),i=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const d=[];e.targetChanges.forEach((v,E)=>{const w=o.get(E);if(!w)return;d.push(t.ai.removeMatchingKeys(a,v.removedDocuments,E).next(()=>t.ai.addMatchingKeys(a,v.addedDocuments,E)));let A=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(dn.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,i)),o=o.insert(E,A),function(I,T,D){return I.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Ex?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,A,v)&&d.push(t.ai.updateTargetData(a,A))});let f=Ni(),m=pt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(Ax(a,c,e.documentUpdates).next(v=>{f=v.xs,m=v.Os})),!i.isEqual(at.min())){const v=t.ai.getLastRemoteSnapshotVersion(a).next(E=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(v)}return Te.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ss=o,a))}function Ax(n,e,t){let i=pt(),o=pt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Ni();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(at.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):Ue(xm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{xs:c,Os:o}})}function Px(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=gm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Rx(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.ai.getTargetData(i,e).next(a=>a?(o=a,Te.resolve(o)):t.ai.allocateTargetId(i).next(c=>(o=new hs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function Dp(n,e,t){const i=lt(n),o=i.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!$a(c))throw c;Ue(xm,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function b_(n,e,t){const i=lt(n);let o=at.min(),a=pt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,v){const E=lt(f),w=E.Ds.get(v);return w!==void 0?Te.resolve(E.Ss.get(w)):E.ai.getTargetData(m,v)}(i,c,ii(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(f=>{a=f})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?o:at.min(),t?a:pt())).next(d=>(kx(i,mk(e),d),{documents:d,Ns:a})))}function kx(n,e,t){let i=n.vs.get(e)||at.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.vs.set(e,i)}class D_{constructor(){this.activeTargetIds=Ek()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xx{constructor(){this.So=new D_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new D_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="ConnectivityMonitor";class O_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ue(N_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ue(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Np(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="RestConnection",Dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===fh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,t,i,o,a){const c=Np(),d=this.$o(e,t.toUriEncodedString());Ue(Qf,`Sending RPC '${e}' ${c}:`,d,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,o,a);const{host:m}=new URL(d),v=ru(m);return this.Ko(e,d,f,i,v).then(E=>(Ue(Qf,`Received RPC '${e}' ${c}: `,E),E),E=>{throw ao(Qf,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E})}Wo(e,t,i,o,a,c){return this.Qo(e,t,i,o,a)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const i=Dx[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class Lx extends Nx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,o,a){const c=Np();return new Promise((d,f)=>{const m=new $0;m.setWithCredentials(!0),m.listenOnce(B0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Qc.NO_ERROR:const E=m.getResponseJson();Ue(Cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Qc.TIMEOUT:Ue(Cn,`RPC '${e}' ${c} timed out`),f(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const w=m.getStatus();if(Ue(Cn,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const I=function(D){const F=D.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(F)>=0?F:_e.UNKNOWN}(C.status);f(new Fe(I,C.message))}else f(new Fe(_e.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:st(9055,{s_:e,streamId:c,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{Ue(Cn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);Ue(Cn,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",v,i,15)})}a_(e,t,i){const o=Np(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=H0(),d=q0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");Ue(Cn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const E=c.createWebChannel(v,f);let w=!1,A=!1;const C=new Ox({Go:T=>{A?Ue(Cn,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(w||(Ue(Cn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),w=!0),Ue(Cn,`RPC '${e}' stream ${o} sending:`,T),E.send(T))},zo:()=>E.close()}),I=(T,D,F)=>{T.listen(D,z=>{try{F(z)}catch(Y){setTimeout(()=>{throw Y},0)}})};return I(E,Vl.EventType.OPEN,()=>{A||(Ue(Cn,`RPC '${e}' stream ${o} transport opened.`),C.t_())}),I(E,Vl.EventType.CLOSE,()=>{A||(A=!0,Ue(Cn,`RPC '${e}' stream ${o} transport closed`),C.r_())}),I(E,Vl.EventType.ERROR,T=>{A||(A=!0,ao(Cn,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),C.r_(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))}),I(E,Vl.EventType.MESSAGE,T=>{var D;if(!A){const F=T.data[0];At(!!F,16349);const z=F,Y=(z==null?void 0:z.error)||((D=z[0])===null||D===void 0?void 0:D.error);if(Y){Ue(Cn,`RPC '${e}' stream ${o} received error:`,Y);const B=Y.status;let we=function(x){const N=Xt[x];if(N!==void 0)return AE(N)}(B),V=Y.message;we===void 0&&(we=_e.INTERNAL,V="Unknown error status: "+B+" with message "+Y.message),A=!0,C.r_(new Fe(we,V)),E.close()}else Ue(Cn,`RPC '${e}' stream ${o} received:`,F),C.i_(F)}}),I(d,W0.STAT_EVENT,T=>{T.stat===Ep.PROXY?Ue(Cn,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===Ep.NOPROXY&&Ue(Cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n){return new Fk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-i);o>0&&Ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class UE{constructor(e,t,i,o,a,c,d,f){this.bi=e,this.R_=i,this.V_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new zE(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===t&&this.B_(i,o)},i=>{e(()=>{const o=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ue(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ue(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vx extends UE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=$k(this.serializer,e),i=function(a){if(!("targetChange"in a))return at.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?at.min():c.readTime?si(c.readTime):at.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=bp(this.serializer),t.addTarget=function(a,c){let d;const f=c.target;if(d=Ap(f)?{documents:qk(a,f)}:{query:Hk(a,f).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=kE(a,c.resumeToken);const m=Rp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(at.min())>0){d.readTime=_h(a,c.snapshotVersion.toTimestamp());const m=Rp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=Kk(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=bp(this.serializer),t.removeTarget=e,this.F_(t)}}class Mx extends UE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=Wk(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=bp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Bk(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class Fx extends jx{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Qo(e,kp(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Fe(_e.UNKNOWN,a.toString())})}Wo(e,t,i,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,kp(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Fe(_e.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class zx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Di(t),this.ea=!1):Ue("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class Ux{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(c=>{i.enqueueAndForget(async()=>{yo(this)&&(Ue(lo,"Restarting streams for network reachability change."),await async function(f){const m=lt(f);m.aa.add(4),await hu(m),m.la.set("Unknown"),m.aa.delete(4),await Wh(m)}(this))})}),this.la=new zx(i,o)}}async function Wh(n){if(yo(n))for(const e of n.ua)await e(!0)}async function hu(n){for(const e of n.ua)await e(!1)}function $E(n,e){const t=lt(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Om(t)?Nm(t):Ba(t).b_()&&Dm(t,e))}function bm(n,e){const t=lt(n),i=Ba(t);t._a.delete(e),i.b_()&&BE(t,e),t._a.size===0&&(i.b_()?i.v_():yo(t)&&t.la.set("Unknown"))}function Dm(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ba(n).U_(e)}function BE(n,e){n.ha.Ke(e),Ba(n).K_(e)}function Nm(n){n.ha=new Lk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ba(n).start(),n.la.ta()}function Om(n){return yo(n)&&!Ba(n).w_()&&n._a.size>0}function yo(n){return lt(n).aa.size===0}function WE(n){n.ha=void 0}async function $x(n){n.la.set("Online")}async function Bx(n){n._a.forEach((e,t)=>{Dm(n,e)})}async function Wx(n,e){WE(n),Om(n)?(n.la.ia(e),Nm(n)):n.la.set("Unknown")}async function qx(n,e,t){if(n.la.set("Online"),e instanceof RE&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o._a.delete(d),o.ha.removeTarget(d))}(n,e)}catch(i){Ue(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Eh(n,i)}else if(e instanceof Zc?n.ha.Xe(e):e instanceof PE?n.ha.ot(e):n.ha.nt(e),!t.isEqual(at.min()))try{const i=await FE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.ha.It(c);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a._a.get(m);v&&a._a.set(m,v.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,m)=>{const v=a._a.get(f);if(!v)return;a._a.set(f,v.withResumeToken(dn.EMPTY_BYTE_STRING,v.snapshotVersion)),BE(a,f);const E=new hs(v.target,f,m,v.sequenceNumber);Dm(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){Ue(lo,"Failed to raise snapshot:",i),await Eh(n,i)}}async function Eh(n,e,t){if(!$a(e))throw e;n.aa.add(1),await hu(n),n.la.set("Offline"),t||(t=()=>FE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ue(lo,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Wh(n)})}function qE(n,e){return e().catch(t=>Eh(n,t,e))}async function qh(n){const e=lt(n),t=Ts(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:gm;for(;Hx(e);)try{const o=await Px(e.localStore,i);if(o===null){e.oa.length===0&&t.v_();break}i=o.batchId,Gx(e,o)}catch(o){await Eh(e,o)}HE(e)&&GE(e)}function Hx(n){return yo(n)&&n.oa.length<10}function Gx(n,e){n.oa.push(e);const t=Ts(n);t.b_()&&t.W_&&t.G_(e.mutations)}function HE(n){return yo(n)&&!Ts(n).w_()&&n.oa.length>0}function GE(n){Ts(n).start()}async function Kx(n){Ts(n).H_()}async function Qx(n){const e=Ts(n);for(const t of n.oa)e.G_(t.mutations)}async function Yx(n,e,t){const i=n.oa.shift(),o=Im.from(i,e,t);await qE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await qh(n)}async function Jx(n,e){e&&Ts(n).W_&&await async function(i,o){if(function(c){return Nk(c)&&c!==_e.ABORTED}(o.code)){const a=i.oa.shift();Ts(i).D_(),await qE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await qh(i)}}(n,e),HE(n)&&GE(n)}async function V_(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),Ue(lo,"RemoteStore received new credentials");const i=yo(t);t.aa.add(3),await hu(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Wh(t)}async function Xx(n,e){const t=lt(n);e?(t.aa.delete(2),await Wh(t)):e||(t.aa.add(2),await hu(t),t.la.set("Unknown"))}function Ba(n){return n.Pa||(n.Pa=function(t,i,o){const a=lt(t);return a.Y_(),new Vx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:$x.bind(null,n),Jo:Bx.bind(null,n),Zo:Wx.bind(null,n),Q_:qx.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Om(n)?Nm(n):n.la.set("Unknown")):(await n.Pa.stop(),WE(n))})),n.Pa}function Ts(n){return n.Ta||(n.Ta=function(t,i,o){const a=lt(t);return a.Y_(),new Mx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:Kx.bind(null,n),Zo:Jx.bind(null,n),z_:Qx.bind(null,n),j_:Yx.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await qh(n)):(await n.Ta.stop(),n.oa.length>0&&(Ue(lo,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new Lm(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(n,e){if(Di("AsyncQueue",`${e}: ${n}`),$a(n))return new Fe(_e.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ke.comparator(t.key,i.key):(t,i)=>Ke.comparator(t.key,i.key),this.keyedMap=Ml(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new va;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.Ia=new Wt(Ke.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):st(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class ba{constructor(e,t,i,o,a,c,d,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ba(e,t,va.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class eb{constructor(){this.queries=j_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const o=lt(t),a=o.queries;o.queries=j_(),a.forEach((c,d)=>{for(const f of d.Ra)f.onError(i)})})(this,new Fe(_e.ABORTED,"Firestore shutting down"))}}function j_(){return new go(n=>fE(n),jh)}async function KE(n,e){const t=lt(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(i=2):(a=new Zx,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Vm(c,`Initialization of query '${la(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Mm(t)}async function QE(n,e){const t=lt(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Ra.indexOf(e);c>=0&&(a.Ra.splice(c,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tb(n,e){const t=lt(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Ra)d.pa(o)&&(i=!0);c.Aa=o}}i&&Mm(t)}function nb(n,e,t){const i=lt(n),o=i.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);i.queries.delete(e)}function Mm(n){n.fa.forEach(e=>{e.next()})}var Op,F_;(F_=Op||(Op={})).ya="default",F_.Cache="cache";class YE{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ba(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.key=e}}class XE{constructor(e){this.key=e}}class rb{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=pt(),this.mutatedKeys=pt(),this.Ua=pE(e),this.Ka=new va(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new M_,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const w=o.get(v),A=Fh(this.query,E)?E:null,C=!!w&&this.mutatedKeys.has(w.key),I=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let T=!1;w&&A?w.data.isEqual(A.data)?C!==I&&(i.track({type:3,doc:A}),T=!0):this.ja(w,A)||(i.track({type:2,doc:A}),T=!0,(f&&this.Ua(A,f)>0||m&&this.Ua(A,m)<0)&&(d=!0)):!w&&A?(i.track({type:0,doc:A}),T=!0):w&&!A&&(i.track({type:1,doc:w}),T=!0,(f||m)&&(d=!0)),T&&(A?(c=c.add(A),a=I?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{Ka:c,za:i,ys:d,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((v,E)=>function(A,C){const I=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st(20277,{Vt:T})}};return I(A)-I(C)}(v.type,E.type)||this.Ua(v.doc,E.doc)),this.Ha(i),o=o!=null&&o;const d=t&&!o?this.Ja():[],f=this.$a.size===0&&this.current&&!o?1:0,m=f!==this.Qa;return this.Qa=f,c.length!==0||m?{snapshot:new ba(this.query,e.Ka,a,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new M_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=pt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new XE(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new JE(i))}),t}Xa(e){this.qa=e.Ns,this.$a=pt();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ba.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const jm="SyncEngine";class ib{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sb{constructor(e){this.key=e,this.tu=!1}}class ob{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new go(d=>fE(d),jh),this.iu=new Map,this.su=new Set,this.ou=new Wt(Ke.comparator),this._u=new Map,this.au=new Pm,this.uu={},this.cu=new Map,this.lu=xa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function ab(n,e,t=!0){const i=iT(n);let o;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await ZE(i,e,t,!0),o}async function lb(n,e){const t=iT(n);await ZE(t,e,!0,!1)}async function ZE(n,e,t,i){const o=await Rx(n.localStore,ii(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await ub(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&$E(n.remoteStore,o),d}async function ub(n,e,t,i,o){n.Pu=(E,w,A)=>async function(I,T,D,F){let z=T.view.Ga(D);z.ys&&(z=await b_(I.localStore,T.query,!1).then(({documents:V})=>T.view.Ga(V,z)));const Y=F&&F.targetChanges.get(T.targetId),B=F&&F.targetMismatches.get(T.targetId)!=null,we=T.view.applyChanges(z,I.isPrimaryClient,Y,B);return U_(I,T.targetId,we.Ya),we.snapshot}(n,E,w,A);const a=await b_(n.localStore,e,!0),c=new rb(e,a.Ns),d=c.Ga(a.documents),f=cu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(d,n.isPrimaryClient,f);U_(n,t,m.Ya);const v=new ib(e,t,c);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function cb(n,e,t){const i=lt(n),o=i.ru.get(e),a=i.iu.get(o.targetId);if(a.length>1)return i.iu.set(o.targetId,a.filter(c=>!jh(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&bm(i.remoteStore,o.targetId),Lp(i,o.targetId)}).catch(Ua)):(Lp(i,o.targetId),await Dp(i.localStore,o.targetId,!0))}async function hb(n,e){const t=lt(n),i=t.ru.get(e),o=t.iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),bm(t.remoteStore,i.targetId))}async function db(n,e,t){const i=_b(n);try{const o=await function(c,d){const f=lt(c),m=Ht.now(),v=d.reduce((A,C)=>A.add(C.key),pt());let E,w;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Ni(),I=pt();return f.Cs.getEntries(A,v).next(T=>{C=T,C.forEach((D,F)=>{F.isValidDocument()||(I=I.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,C)).next(T=>{E=T;const D=[];for(const F of d){const z=Rk(F,E.get(F.key).overlayedDocument);z!=null&&D.push(new ks(F.key,z,oE(z.value.mapValue),gr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,D,d)}).next(T=>{w=T;const D=T.applyToLocalDocumentSet(E,I);return f.documentOverlayCache.saveOverlays(A,T.batchId,D)})}).then(()=>({batchId:w.batchId,changes:gE(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,f){let m=c.uu[c.currentUser.toKey()];m||(m=new Wt(ct)),m=m.insert(d,f),c.uu[c.currentUser.toKey()]=m}(i,o.batchId,t),await du(i,o.changes),await qh(i.remoteStore)}catch(o){const a=Vm(o,"Failed to persist write");t.reject(a)}}async function eT(n,e){const t=lt(n);try{const i=await Cx(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t._u.get(a);c&&(At(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.tu=!0:o.modifiedDocuments.size>0?At(c.tu,14607):o.removedDocuments.size>0&&(At(c.tu,42227),c.tu=!1))}),await du(t,i,e)}catch(i){await Ua(i)}}function z_(n,e,t){const i=lt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ru.forEach((a,c)=>{const d=c.view.ga(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const f=lt(c);f.onlineState=d;let m=!1;f.queries.forEach((v,E)=>{for(const w of E.Ra)w.ga(d)&&(m=!0)}),m&&Mm(f)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function fb(n,e,t){const i=lt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i._u.get(e),a=o&&o.key;if(a){let c=new Wt(Ke.comparator);c=c.insert(a,Pn.newNoDocument(a,at.min()));const d=pt().add(a),f=new $h(at.min(),new Map,new Wt(ct),c,d);await eT(i,f),i.ou=i.ou.remove(a),i._u.delete(e),Fm(i)}else await Dp(i.localStore,e,!1).then(()=>Lp(i,e,t)).catch(Ua)}async function pb(n,e){const t=lt(n),i=e.batch.batchId;try{const o=await Ix(t.localStore,e);nT(t,i,null),tT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await du(t,o)}catch(o){await Ua(o)}}async function mb(n,e,t){const i=lt(n);try{const o=await function(c,d){const f=lt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(E=>(At(E!==null,37113),v=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(i.localStore,e);nT(i,e,t),tT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await du(i,o)}catch(o){await Ua(o)}}function tT(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function nT(n,e,t){const i=lt(n);let o=i.uu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function Lp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||rT(n,i)})}function rT(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(bm(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Fm(n))}function U_(n,e,t){for(const i of t)i instanceof JE?(n.au.addReference(i.key,e),gb(n,i)):i instanceof XE?(Ue(jm,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||rT(n,i.key)):st(19791,{Iu:i})}function gb(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(Ue(jm,"New document in limbo: "+t),n.su.add(i),Fm(n))}function Fm(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ke(bt.fromString(e)),i=n.lu.next();n._u.set(i,new sb(t)),n.ou=n.ou.insert(t,i),$E(n.remoteStore,new hs(ii(wm(t.path)),i,"TargetPurposeLimboResolution",Oh.le))}}async function du(n,e,t){const i=lt(n),o=[],a=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,f)=>{c.push(i.Pu(f,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){o.push(m);const E=km.Ps(f.targetId,m);a.push(E)}}))}),await Promise.all(c),i.nu.Q_(o),await async function(f,m){const v=lt(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Te.forEach(m,w=>Te.forEach(w.ls,A=>v.persistence.referenceDelegate.addReference(E,w.targetId,A)).next(()=>Te.forEach(w.hs,A=>v.persistence.referenceDelegate.removeReference(E,w.targetId,A)))))}catch(E){if(!$a(E))throw E;Ue(xm,"Failed to update sequence numbers: "+E)}for(const E of m){const w=E.targetId;if(!E.fromCache){const A=v.Ss.get(w),C=A.snapshotVersion,I=A.withLastLimboFreeSnapshotVersion(C);v.Ss=v.Ss.insert(w,I)}}}(i.localStore,a))}async function yb(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){Ue(jm,"User change. New user:",e.toKey());const i=await jE(t.localStore,e);t.currentUser=e,function(a,c){a.cu.forEach(d=>{d.forEach(f=>{f.reject(new Fe(_e.CANCELLED,c))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await du(t,i.Ms)}}function vb(n,e){const t=lt(n),i=t._u.get(e);if(i&&i.tu)return pt().add(i.key);{let o=pt();const a=t.iu.get(e);if(!a)return o;for(const c of a){const d=t.ru.get(c);o=o.unionWith(d.view.Wa)}return o}}function iT(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=eT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fb.bind(null,e),e.nu.Q_=tb.bind(null,e.eventManager),e.nu.Tu=nb.bind(null,e.eventManager),e}function _b(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mb.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Sx(this.persistence,new wx,e.initialUser,this.serializer)}Ru(e){return new ME(Rm.Ei,this.serializer)}Au(e){return new xx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class wb extends Th{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){At(this.persistence.referenceDelegate instanceof wh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new sx(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new ME(i=>wh.Ei(i,t),this.serializer)}}class Vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>z_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yb.bind(null,this.syncEngine),await Xx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eb}()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),i=function(a){return new Lx(a)}(e.databaseInfo);return function(a,c,d,f){return new Fx(a,c,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new Ux(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>z_(this.syncEngine,t,0),function(){return O_.C()?new O_:new bx}())}createSyncEngine(e,t){return function(o,a,c,d,f,m,v){const E=new ob(o,a,c,d,f,m);return v&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=lt(o);Ue(lo,"RemoteStore shutting down."),a.aa.add(5),await hu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class Eb{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{Ue(Ss,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Ue(Ss,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Vm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Jf(n,e){n.asyncQueue.verifyOperationInProgress(),Ue(Ss,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await jE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function $_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Tb(n);Ue(Ss,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>V_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>V_(e.remoteStore,o)),n._onlineComponents=e}async function Tb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue(Ss,"Using user provided OfflineComponentProvider");try{await Jf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===_e.FAILED_PRECONDITION||o.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ao("Error using user provided cache. Falling back to memory cache: "+t),await Jf(n,new Th)}}else Ue(Ss,"Using default OfflineComponentProvider"),await Jf(n,new wb(void 0));return n._offlineComponents}async function oT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue(Ss,"Using user provided OnlineComponentProvider"),await $_(n,n._uninitializedComponentsProvider._online)):(Ue(Ss,"Using default OnlineComponentProvider"),await $_(n,new Vp))),n._onlineComponents}function Sb(n){return oT(n).then(e=>e.syncEngine)}async function aT(n){const e=await oT(n),t=e.eventManager;return t.onListen=ab.bind(null,e.syncEngine),t.onUnlisten=cb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hb.bind(null,e.syncEngine),t}function Ib(n,e,t={}){const i=new Ai;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,m){const v=new sT({next:w=>{v.yu(),c.enqueueAndForget(()=>QE(a,E));const A=w.docs.has(d);!A&&w.fromCache?m.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&f&&f.source==="server"?m.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new YE(wm(d.path),v,{includeMetadataChanges:!0,Fa:!0});return KE(a,E)}(await aT(n),n.asyncQueue,e,t,i)),i.promise}function Cb(n,e,t={}){const i=new Ai;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,f,m){const v=new sT({next:w=>{v.yu(),c.enqueueAndForget(()=>QE(a,E)),w.fromCache&&f.source==="server"?m.reject(new Fe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),E=new YE(d,v,{includeMetadataChanges:!0,Fa:!0});return KE(a,E)}(await aT(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(n,e,t){if(!t)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cT(n,e,t,i){if(e===!0&&i===!0)throw new Fe(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W_(n){if(!Ke.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function q_(n){if(Ke.isDocumentKey(n))throw new Fe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":st(12329,{type:typeof n})}function vr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hh(n);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function hT(n,e){if(e<=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firestore.googleapis.com",H_=!0;class G_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dT,this.ssl=H_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:H_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rx)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Fe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Fe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Fe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Q0;switch(i.type){case"firstParty":return new jR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,kh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=B_.get(t);i&&(Ue("ComponentProvider","Removing Datastore"),B_.delete(t),i.terminate())}(this),Promise.resolve()}}function fT(n,e,t,i={}){var o;n=vr(n,Gh);const a=ru(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;c.host!==dT&&c.host!==f&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:f,ssl:a,emulatorOptions:i});if(!ki(m,d)&&(n._setSettings(m),a&&(n0(`https://${f}`),kh("Firestore",!0)),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=An.MOCK_USER;else{v=$I(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new An(w)}n._authCredentials=new LR(new K0(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Rn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class Pi extends qr{constructor(e,t,i){super(e,t,wm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ke(e))}withConverter(e){return new Pi(this.firestore,e,this._path)}}function mr(n,e,...t){if(n=en(n),uT("collection","path",e),n instanceof Gh){const i=bt.fromString(e,...t);return q_(i),new Pi(n,null,i)}{if(!(n instanceof Rn||n instanceof Pi))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bt.fromString(e,...t));return q_(i),new Pi(n.firestore,null,i)}}function _n(n,e,...t){if(n=en(n),arguments.length===1&&(e=mm.newId()),uT("doc","path",e),n instanceof Gh){const i=bt.fromString(e,...t);return W_(i),new Rn(n,null,new Ke(i))}{if(!(n instanceof Rn||n instanceof Pi))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bt.fromString(e,...t));return W_(i),new Rn(n.firestore,n instanceof Pi?n.converter:null,new Ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class Q_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new zE(this,"async_queue_retry"),this.ju=()=>{const i=Yf();i&&Ue(K_,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Yf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Yf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ai;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!$a(e))throw e;Ue(K_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Di("INTERNAL UNHANDLED ERROR: ",Y_(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=Lm.createAndSchedule(this,e,t,i,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&st(47125,{ec:Y_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function Y_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class xs extends Gh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Q_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q_(e),this._firestoreClient=void 0,await e}}}function pT(n,e){const t=typeof n=="object"?n:o0(),i=typeof n=="string"?n:e||fh,o=nm(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=zI("firestore");a&&fT(o,...a)}return o}function Kh(n){if(n._terminated)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ab(n),n._firestoreClient}function Ab(n){var e,t,i;const o=n._freezeSettings(),a=function(d,f,m,v){return new ZR(d,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,lT(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Eb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(dn.fromBase64String(e))}catch(t){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uo(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=/^__.*__$/;class Rb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new uu(e,this.data,t,this.fieldTransforms)}}class mT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ks(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st(40011,{oc:n})}}class Jh{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Sh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(gT(this.oc)&&Pb.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class kb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bh(e)}dc(e,t,i,o=!1){return new Jh({oc:e,methodName:t,Ec:i,path:hn.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pu(n){const e=n._freezeSettings(),t=Bh(n._databaseId);return new kb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yT(n,e,t,i,o,a={}){const c=n.dc(a.merge||a.mergeFields?2:0,e,t,o);$m("Data must be an object, but it was:",c,i);const d=wT(i,c);let f,m;if(a.merge)f=new tr(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const w=Mp(e,E,t);if(!c.contains(w))throw new Fe(_e.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);TT(v,w)||v.push(w)}f=new tr(v),m=c.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=c.fieldTransforms;return new Rb(new qn(d),f,m)}class Xh extends Wa{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function vT(n,e,t){return new Jh({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class zm extends Wa{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=vT(this,e,!0),i=this.Ac.map(a=>vo(a,t)),o=new Ra(i);return new SE(e.path,o)}isEqual(e){return e instanceof zm&&ki(this.Ac,e.Ac)}}class Um extends Wa{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=vT(this,e,!0),i=this.Ac.map(a=>vo(a,t)),o=new ka(i);return new SE(e.path,o)}isEqual(e){return e instanceof Um&&ki(this.Ac,e.Ac)}}function xb(n,e,t,i){const o=n.dc(1,e,t);$m("Data must be an object, but it was:",o,i);const a=[],c=qn.empty();Ps(i,(f,m)=>{const v=Bm(e,f,t);m=en(m);const E=o.hc(v);if(m instanceof Xh)a.push(v);else{const w=vo(m,E);w!=null&&(a.push(v),c.set(v,w))}});const d=new tr(a);return new mT(c,d,o.fieldTransforms)}function bb(n,e,t,i,o,a){const c=n.dc(1,e,t),d=[Mp(e,i,t)],f=[o];if(a.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)d.push(Mp(e,a[w])),f.push(a[w+1]);const m=[],v=qn.empty();for(let w=d.length-1;w>=0;--w)if(!TT(m,d[w])){const A=d[w];let C=f[w];C=en(C);const I=c.hc(A);if(C instanceof Xh)m.push(A);else{const T=vo(C,I);T!=null&&(m.push(A),v.set(A,T))}}const E=new tr(m);return new mT(v,E,c.fieldTransforms)}function _T(n,e,t,i=!1){return vo(t,n.dc(i?4:3,e))}function vo(n,e){if(ET(n=en(n)))return $m("Unsupported field value:",e,n),wT(n,e);if(n instanceof Wa)return function(i,o){if(!gT(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let f=vo(d,o.Pc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=en(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Tk(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Ht.fromDate(i);return{timestampValue:_h(o.serializer,a)}}if(i instanceof Ht){const a=new Ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_h(o.serializer,a)}}if(i instanceof Qh)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof uo)return{bytesValue:kE(o.serializer,i._byteString)};if(i instanceof Rn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Am(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Yh)return function(c,d){return{mapValue:{fields:{[iE]:{stringValue:sE},[ph]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Tc("VectorValues must only contain numeric values.");return Tm(d.serializer,m)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${Hh(i)}`)}(n,e)}function wT(n,e){const t={};return X0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(n,(i,o)=>{const a=vo(o,e.uc(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function ET(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof Qh||n instanceof uo||n instanceof Rn||n instanceof Wa||n instanceof Yh)}function $m(n,e,t){if(!ET(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Hh(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function Mp(n,e,t){if((e=en(e))instanceof fu)return e._internalPath;if(typeof e=="string")return Bm(n,e);throw Sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Db=new RegExp("[~\\*/\\[\\]]");function Bm(n,e,t){if(e.search(Db)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fu(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sh(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new Fe(_e.INVALID_ARGUMENT,d+n+f)}function TT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Nb extends Wm{data(){return super.data()}}function Zh(n,e){return typeof e=="string"?Bm(n,e):e instanceof fu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Fe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class qa extends qm{}function _a(n,e,...t){let i=[];e instanceof qm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(f=>f instanceof ed).length,d=a.filter(f=>f instanceof mu).length;if(c>1||c>0&&d>0)throw new Fe(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class mu extends qa{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new mu(e,t,i)}_apply(e){const t=this._parse(e);return PT(e._query,t),new qr(e.firestore,e.converter,Pp(e._query,t))}_parse(e){const t=pu(e.firestore);return function(a,c,d,f,m,v,E){let w;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){X_(E,v);const C=[];for(const I of E)C.push(J_(f,a,I));w={arrayValue:{values:C}}}else w=J_(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||X_(E,v),w=_T(d,c,E,v==="in"||v==="not-in");return Zt.create(m,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ti(n,e,t){const i=e,o=Zh("where",n);return mu._create(o,i,t)}class ed extends qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ed(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const f of d)PT(c,f),c=Pp(c,f)}(e._query,t),new qr(e.firestore,e.converter,Pp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class td extends qa{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new td(e,t)}_apply(e){const t=function(o,a,c){if(o.startAt!==null)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(a,c)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new Rs(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function jp(n,e="asc"){const t=e,i=Zh("orderBy",n);return td._create(i,t)}class gu extends qa{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new gu(e,t,i)}_apply(e){return new qr(e.firestore,e.converter,gh(e._query,this._limit,this._limitType))}}function eh(n){return hT("limit",n),gu._create("limit",n,"F")}function ST(n){return hT("limitToLast",n),gu._create("limitToLast",n,"L")}class nd extends qa{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new nd(e,t,i)}_apply(e){const t=AT(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,function(o,a){return new Rs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function IT(...n){return nd._create("startAfter",n,!1)}class rd extends qa{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new rd(e,t,i)}_apply(e){const t=AT(e,this.type,this._docOrFields,this._inclusive);return new qr(e.firestore,e.converter,function(o,a){return new Rs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,a)}(e._query,t))}}function CT(...n){return rd._create("endBefore",n,!1)}function AT(n,e,t,i){if(t[0]=en(t[0]),t[0]instanceof Wm)return function(a,c,d,f,m){if(!f)throw new Fe(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const E of ya(a))if(E.field.isKeyField())v.push(mh(c,f.key));else{const w=f.data.field(E.field);if(Vh(w))throw new Fe(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const A=E.field.canonicalString();throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}v.push(w)}return new Pa(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const o=pu(n.firestore);return function(c,d,f,m,v,E){const w=c.explicitOrderBy;if(v.length>w.length)throw new Fe(_e.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let C=0;C<v.length;C++){const I=v[C];if(w[C].field.isKeyField()){if(typeof I!="string")throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof I}`);if(!Em(c)&&I.indexOf("/")!==-1)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${I}' contains a slash.`);const T=c.path.child(bt.fromString(I));if(!Ke.isDocumentKey(T))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${T}' is not because it contains an odd number of segments.`);const D=new Ke(T);A.push(mh(d,D))}else{const T=_T(f,m,I);A.push(T)}}return new Pa(A,E)}(n._query,n.firestore._databaseId,o,e,t,i)}}function J_(n,e,t){if(typeof(t=en(t))=="string"){if(t==="")throw new Fe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Em(e)&&t.indexOf("/")!==-1)throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(bt.fromString(t));if(!Ke.isDocumentKey(i))throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return mh(n,new Ke(i))}if(t instanceof Rn)return mh(n,t._key);throw new Fe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(t)}.`)}function X_(n,e){if(!Array.isArray(n)||n.length===0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PT(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Fe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class RT{convertValue(e,t="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw st(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ps(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[ph].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>Kt(c.doubleValue));return new Yh(a)}convertGeoPoint(e){return new Qh(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Mh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const t=_s(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=bt.fromString(e);At(LE(i),9688,{name:e});const o=new Ia(i.get(1),i.get(3)),a=new Ke(i.popFirst(5));return o.isEqual(t)||Di(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hm extends Wm{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Zh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Wl extends Hm{data(e={}){return super.data(e)}}class xT{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new da(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wl(this._firestore,this._userDataWriter,i.key,i,new da(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const f=new Wl(o._firestore,o._userDataWriter,d.doc.key,d.doc,new da(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Wl(o._firestore,o._userDataWriter,d.doc.key,d.doc,new da(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Lb(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(n){n=vr(n,Rn);const e=vr(n.firestore,xs);return Ib(Kh(e),n._key).then(t=>Mb(e,n,t))}class bT extends RT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function Mr(n){n=vr(n,qr);const e=vr(n.firestore,xs),t=Kh(e),i=new bT(e);return Ob(n._query),Cb(t,n._query).then(o=>new xT(e,i,n,o))}function yu(n,e,t){n=vr(n,Rn);const i=vr(n.firestore,xs),o=kT(n.converter,e,t);return vu(i,[yT(pu(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,gr.none())])}function Da(n,e,t,...i){n=vr(n,Rn);const o=vr(n.firestore,xs),a=pu(o);let c;return c=typeof(e=en(e))=="string"||e instanceof fu?bb(a,"updateDoc",n._key,e,t,i):xb(a,"updateDoc",n._key,e),vu(o,[c.toMutation(n._key,gr.exists(!0))])}function Gm(n){return vu(vr(n.firestore,xs),[new Sm(n._key,gr.none())])}function Vb(n,e){const t=vr(n.firestore,xs),i=_n(n),o=kT(n.converter,e);return vu(t,[yT(pu(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,gr.exists(!1))]).then(()=>i)}function vu(n,e){return function(i,o){const a=new Ai;return i.asyncQueue.enqueueAndForget(async()=>db(await Sb(i),o,a)),a.promise}(Kh(n),e)}function Mb(n,e,t){const i=t.docs.get(e._key),o=new bT(n);return new Hm(n,o,e._key,i,new da(t.hasPendingWrites,t.fromCache),e.converter)}function Km(...n){return new zm("arrayUnion",n)}function Qm(...n){return new Um("arrayRemove",n)}(function(e,t=!0){(function(o){za=o})(ja),wa(new io("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new xs(new VR(i.getProvider("auth-internal")),new FR(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(m.options.projectId,v)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),ps(t_,n_,e),ps(t_,n_,"esm2017")})();const jb=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:RT,Bytes:uo,CollectionReference:Pi,DocumentReference:Rn,DocumentSnapshot:Hm,FieldPath:fu,FieldValue:Wa,Firestore:xs,FirestoreError:Fe,GeoPoint:Qh,Query:qr,QueryCompositeFilterConstraint:ed,QueryConstraint:qa,QueryDocumentSnapshot:Wl,QueryEndAtConstraint:rd,QueryFieldFilterConstraint:mu,QueryLimitConstraint:gu,QueryOrderByConstraint:td,QuerySnapshot:xT,QueryStartAtConstraint:nd,SnapshotMetadata:da,Timestamp:Ht,VectorValue:Yh,_AutoId:mm,_ByteString:dn,_DatabaseId:Ia,_DocumentKey:Ke,_EmptyAuthCredentialsProvider:Q0,_FieldPath:hn,_cast:vr,_logWarn:ao,_validateIsNotUsedTogether:cT,addDoc:Vb,arrayRemove:Qm,arrayUnion:Km,collection:mr,connectFirestoreEmulator:fT,deleteDoc:Gm,doc:_n,endBefore:CT,ensureFirestoreConfigured:Kh,executeWrite:vu,getDoc:co,getDocs:Mr,getFirestore:pT,limit:eh,limitToLast:ST,orderBy:jp,query:_a,setDoc:yu,startAfter:IT,updateDoc:Da,where:Ti},Symbol.toStringTag,{value:"Module"})),Fb={apiKey:"AIzaSyAQ_SsjWagL4VemB06Jm8KsEHEjK6Rn42A",authDomain:"we-are-the-walrus.firebaseapp.com",projectId:"we-are-the-walrus",storageBucket:"we-are-the-walrus.firebasestorage.app",messagingSenderId:"267097892790",appId:"1:267097892790:web:bed96f56aaeb465e200317"},DT=s0(Fb),ha=NR(DT),Dt=pT(DT,"crossword"),zb=Object.freeze(Object.defineProperty({__proto__:null,auth:ha,db:Dt},Symbol.toStringTag,{value:"Module"})),NT=W.createContext();function Ub({children:n}){const[e,t]=W.useState(null),[i,o]=W.useState(!0);W.useEffect(()=>EP(ha,async v=>{if(v){const E=await co(_n(Dt,"users",v.uid));let w=E.exists()?E.data():{};console.log("firebaseUser:"),console.log(v),console.log(E);const A=w.admin;t({uid:v.uid,email:v.email,admin:A,...w}),console.log(`isAdmin: ${A}`)}else t(null);o(!1)}),[]);const f={user:e,login:(m,v)=>{if(m==="google"){const E=new Ei;return $P(ha,E)}return gP(ha,m,v)},logout:()=>TP(ha),changePassword:m=>yP(ha.currentUser,m)};return U.jsx(NT.Provider,{value:f,children:!i&&n})}function _o(){return W.useContext(NT)}function Z_({children:n}){const{user:e}=_o();return e?n:U.jsx(hp,{to:"/crossworder/login",replace:!0})}function $b({children:n}){const{user:e}=_o();return e===null?null:e?e.admin?n:U.jsx(hp,{to:"/crossworder/",replace:!0}):U.jsx(hp,{to:"/crossworder/login",replace:!0})}function Bb(){const{login:n,user:e}=_o(),t=tu(),[i,o]=W.useState(""),[a,c]=W.useState(""),[d,f]=W.useState("");W.useEffect(()=>{e&&t("/crossworder/")},[e,t]);const m=async E=>{E.preventDefault(),f("");try{await n(i,a)}catch{f("Invalid email or password")}},v=async()=>{f("");try{await n("google")}catch{f("Google login failed")}};return U.jsxs("div",{className:"login-container",children:[U.jsx("h2",{children:"Login"}),U.jsxs("form",{onSubmit:m,children:[U.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:E=>o(E.target.value),required:!0}),U.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:E=>c(E.target.value),required:!0}),U.jsx("button",{type:"submit",children:"Login"}),U.jsx("button",{type:"button",onClick:v,style:{marginTop:12,background:"#fff",color:"#222",border:"1.5px solid #4285F4"},children:"Sign in with Google"}),d&&U.jsx("div",{className:"error",children:d})]})]})}var Dl={},Xf={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function Wb(){if(ew)return It;ew=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),C;C=Symbol.for("react.module.reference");function I(T){if(typeof T=="object"&&T!==null){var D=T.$$typeof;switch(D){case n:switch(T=T.type,T){case t:case o:case i:case m:case v:return T;default:switch(T=T&&T.$$typeof,T){case d:case c:case f:case w:case E:case a:return T;default:return D}}case e:return D}}}return It.ContextConsumer=c,It.ContextProvider=a,It.Element=n,It.ForwardRef=f,It.Fragment=t,It.Lazy=w,It.Memo=E,It.Portal=e,It.Profiler=o,It.StrictMode=i,It.Suspense=m,It.SuspenseList=v,It.isAsyncMode=function(){return!1},It.isConcurrentMode=function(){return!1},It.isContextConsumer=function(T){return I(T)===c},It.isContextProvider=function(T){return I(T)===a},It.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===n},It.isForwardRef=function(T){return I(T)===f},It.isFragment=function(T){return I(T)===t},It.isLazy=function(T){return I(T)===w},It.isMemo=function(T){return I(T)===E},It.isPortal=function(T){return I(T)===e},It.isProfiler=function(T){return I(T)===o},It.isStrictMode=function(T){return I(T)===i},It.isSuspense=function(T){return I(T)===m},It.isSuspenseList=function(T){return I(T)===v},It.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===t||T===o||T===i||T===m||T===v||T===A||typeof T=="object"&&T!==null&&(T.$$typeof===w||T.$$typeof===E||T.$$typeof===a||T.$$typeof===c||T.$$typeof===f||T.$$typeof===C||T.getModuleId!==void 0)},It.typeOf=I,It}var tw;function qb(){return tw||(tw=1,Xf.exports=Wb()),Xf.exports}var OT=qb(),Zf,nw;function Hb(){return nw||(nw=1,Zf=function(e,t,i,o){var a=i?i.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var c=Object.keys(e),d=Object.keys(t);if(c.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),m=0;m<c.length;m++){var v=c[m];if(!f(v))return!1;var E=e[v],w=t[v];if(a=i?i.call(o,E,w,v):void 0,a===!1||a===void 0&&E!==w)return!1}return!0}),Zf}var Gb=Hb();const Kb=Zl(Gb);function Qb(n){function e(ee,X,ue,ke,G){for(var oe=0,K=0,Ne=0,fe=0,ae,xe,Ye=0,nt=0,Ge,tt=Ge=ae=0,He=0,ut=0,wt=0,Xe=0,Nt=ue.length,wn=Nt-1,zt,Qe="",ht="",gt="",L="",H;He<Nt;){if(xe=ue.charCodeAt(He),He===wn&&K+fe+Ne+oe!==0&&(K!==0&&(xe=K===47?10:47),fe=Ne=oe=0,Nt++,wn++),K+fe+Ne+oe===0){if(He===wn&&(0<ut&&(Qe=Qe.replace(w,"")),0<Qe.trim().length)){switch(xe){case 32:case 9:case 59:case 13:case 10:break;default:Qe+=ue.charAt(He)}xe=59}switch(xe){case 123:for(Qe=Qe.trim(),ae=Qe.charCodeAt(0),Ge=1,Xe=++He;He<Nt;){switch(xe=ue.charCodeAt(He)){case 123:Ge++;break;case 125:Ge--;break;case 47:switch(xe=ue.charCodeAt(He+1)){case 42:case 47:e:{for(tt=He+1;tt<wn;++tt)switch(ue.charCodeAt(tt)){case 47:if(xe===42&&ue.charCodeAt(tt-1)===42&&He+2!==tt){He=tt+1;break e}break;case 10:if(xe===47){He=tt+1;break e}}He=tt}}break;case 91:xe++;case 40:xe++;case 34:case 39:for(;He++<wn&&ue.charCodeAt(He)!==xe;);}if(Ge===0)break;He++}switch(Ge=ue.substring(Xe,He),ae===0&&(ae=(Qe=Qe.replace(E,"").trim()).charCodeAt(0)),ae){case 64:switch(0<ut&&(Qe=Qe.replace(w,"")),xe=Qe.charCodeAt(1),xe){case 100:case 109:case 115:case 45:ut=X;break;default:ut=ge}if(Ge=e(X,ut,Ge,xe,G+1),Xe=Ge.length,0<Q&&(ut=t(ge,Qe,wt),H=d(3,Ge,ut,X,R,j,Xe,xe,G,ke),Qe=ut.join(""),H!==void 0&&(Xe=(Ge=H.trim()).length)===0&&(xe=0,Ge="")),0<Xe)switch(xe){case 115:Qe=Qe.replace(we,c);case 100:case 109:case 45:Ge=Qe+"{"+Ge+"}";break;case 107:Qe=Qe.replace(F,"$1 $2"),Ge=Qe+"{"+Ge+"}",Ge=pe===1||pe===2&&a("@"+Ge,3)?"@-webkit-"+Ge+"@"+Ge:"@"+Ge;break;default:Ge=Qe+Ge,ke===112&&(Ge=(ht+=Ge,""))}else Ge="";break;default:Ge=e(X,t(X,Qe,wt),Ge,ke,G+1)}gt+=Ge,Ge=wt=ut=tt=ae=0,Qe="",xe=ue.charCodeAt(++He);break;case 125:case 59:if(Qe=(0<ut?Qe.replace(w,""):Qe).trim(),1<(Xe=Qe.length))switch(tt===0&&(ae=Qe.charCodeAt(0),ae===45||96<ae&&123>ae)&&(Xe=(Qe=Qe.replace(" ",":")).length),0<Q&&(H=d(1,Qe,X,ee,R,j,ht.length,ke,G,ke))!==void 0&&(Xe=(Qe=H.trim()).length)===0&&(Qe="\0\0"),ae=Qe.charCodeAt(0),xe=Qe.charCodeAt(1),ae){case 0:break;case 64:if(xe===105||xe===99){L+=Qe+ue.charAt(He);break}default:Qe.charCodeAt(Xe-1)!==58&&(ht+=o(Qe,ae,xe,Qe.charCodeAt(2)))}wt=ut=tt=ae=0,Qe="",xe=ue.charCodeAt(++He)}}switch(xe){case 13:case 10:K===47?K=0:1+ae===0&&ke!==107&&0<Qe.length&&(ut=1,Qe+="\0"),0<Q*b&&d(0,Qe,X,ee,R,j,ht.length,ke,G,ke),j=1,R++;break;case 59:case 125:if(K+fe+Ne+oe===0){j++;break}default:switch(j++,zt=ue.charAt(He),xe){case 9:case 32:if(fe+oe+K===0)switch(Ye){case 44:case 58:case 9:case 32:zt="";break;default:xe!==32&&(zt=" ")}break;case 0:zt="\\0";break;case 12:zt="\\f";break;case 11:zt="\\v";break;case 38:fe+K+oe===0&&(ut=wt=1,zt="\f"+zt);break;case 108:if(fe+K+oe+de===0&&0<tt)switch(He-tt){case 2:Ye===112&&ue.charCodeAt(He-3)===58&&(de=Ye);case 8:nt===111&&(de=nt)}break;case 58:fe+K+oe===0&&(tt=He);break;case 44:K+Ne+fe+oe===0&&(ut=1,zt+="\r");break;case 34:case 39:K===0&&(fe=fe===xe?0:fe===0?xe:fe);break;case 91:fe+K+Ne===0&&oe++;break;case 93:fe+K+Ne===0&&oe--;break;case 41:fe+K+oe===0&&Ne--;break;case 40:if(fe+K+oe===0){if(ae===0)switch(2*Ye+3*nt){case 533:break;default:ae=1}Ne++}break;case 64:K+Ne+fe+oe+tt+Ge===0&&(Ge=1);break;case 42:case 47:if(!(0<fe+oe+Ne))switch(K){case 0:switch(2*xe+3*ue.charCodeAt(He+1)){case 235:K=47;break;case 220:Xe=He,K=42}break;case 42:xe===47&&Ye===42&&Xe+2!==He&&(ue.charCodeAt(Xe+2)===33&&(ht+=ue.substring(Xe,He+1)),zt="",K=0)}}K===0&&(Qe+=zt)}nt=Ye,Ye=xe,He++}if(Xe=ht.length,0<Xe){if(ut=X,0<Q&&(H=d(2,ht,ut,ee,R,j,Xe,ke,G,ke),H!==void 0&&(ht=H).length===0))return L+ht+gt;if(ht=ut.join(",")+"{"+ht+"}",pe*de!==0){switch(pe!==2||a(ht,2)||(de=0),de){case 111:ht=ht.replace(Y,":-moz-$1")+ht;break;case 112:ht=ht.replace(z,"::-webkit-input-$1")+ht.replace(z,"::-moz-$1")+ht.replace(z,":-ms-input-$1")+ht}de=0}}return L+ht+gt}function t(ee,X,ue){var ke=X.trim().split(T);X=ke;var G=ke.length,oe=ee.length;switch(oe){case 0:case 1:var K=0;for(ee=oe===0?"":ee[0]+" ";K<G;++K)X[K]=i(ee,X[K],ue).trim();break;default:var Ne=K=0;for(X=[];K<G;++K)for(var fe=0;fe<oe;++fe)X[Ne++]=i(ee[fe]+" ",ke[K],ue).trim()}return X}function i(ee,X,ue){var ke=X.charCodeAt(0);switch(33>ke&&(ke=(X=X.trim()).charCodeAt(0)),ke){case 38:return X.replace(D,"$1"+ee.trim());case 58:return ee.trim()+X.replace(D,"$1"+ee.trim());default:if(0<1*ue&&0<X.indexOf("\f"))return X.replace(D,(ee.charCodeAt(0)===58?"":"$1")+ee.trim())}return ee+X}function o(ee,X,ue,ke){var G=ee+";",oe=2*X+3*ue+4*ke;if(oe===944){ee=G.indexOf(":",9)+1;var K=G.substring(ee,G.length-1).trim();return K=G.substring(0,ee).trim()+K+";",pe===1||pe===2&&a(K,1)?"-webkit-"+K+K:K}if(pe===0||pe===2&&!a(G,1))return G;switch(oe){case 1015:return G.charCodeAt(10)===97?"-webkit-"+G+G:G;case 951:return G.charCodeAt(3)===116?"-webkit-"+G+G:G;case 963:return G.charCodeAt(5)===110?"-webkit-"+G+G:G;case 1009:if(G.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+G+G;case 978:return"-webkit-"+G+"-moz-"+G+G;case 1019:case 983:return"-webkit-"+G+"-moz-"+G+"-ms-"+G+G;case 883:if(G.charCodeAt(8)===45)return"-webkit-"+G+G;if(0<G.indexOf("image-set(",11))return G.replace(O,"$1-webkit-$2")+G;break;case 932:if(G.charCodeAt(4)===45)switch(G.charCodeAt(5)){case 103:return"-webkit-box-"+G.replace("-grow","")+"-webkit-"+G+"-ms-"+G.replace("grow","positive")+G;case 115:return"-webkit-"+G+"-ms-"+G.replace("shrink","negative")+G;case 98:return"-webkit-"+G+"-ms-"+G.replace("basis","preferred-size")+G}return"-webkit-"+G+"-ms-"+G+G;case 964:return"-webkit-"+G+"-ms-flex-"+G+G;case 1023:if(G.charCodeAt(8)!==99)break;return K=G.substring(G.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+K+"-webkit-"+G+"-ms-flex-pack"+K+G;case 1005:return C.test(G)?G.replace(A,":-webkit-")+G.replace(A,":-moz-")+G:G;case 1e3:switch(K=G.substring(13).trim(),X=K.indexOf("-")+1,K.charCodeAt(0)+K.charCodeAt(X)){case 226:K=G.replace(B,"tb");break;case 232:K=G.replace(B,"tb-rl");break;case 220:K=G.replace(B,"lr");break;default:return G}return"-webkit-"+G+"-ms-"+K+G;case 1017:if(G.indexOf("sticky",9)===-1)break;case 975:switch(X=(G=ee).length-10,K=(G.charCodeAt(X)===33?G.substring(0,X):G).substring(ee.indexOf(":",7)+1).trim(),oe=K.charCodeAt(0)+(K.charCodeAt(7)|0)){case 203:if(111>K.charCodeAt(8))break;case 115:G=G.replace(K,"-webkit-"+K)+";"+G;break;case 207:case 102:G=G.replace(K,"-webkit-"+(102<oe?"inline-":"")+"box")+";"+G.replace(K,"-webkit-"+K)+";"+G.replace(K,"-ms-"+K+"box")+";"+G}return G+";";case 938:if(G.charCodeAt(5)===45)switch(G.charCodeAt(6)){case 105:return K=G.replace("-items",""),"-webkit-"+G+"-webkit-box-"+K+"-ms-flex-"+K+G;case 115:return"-webkit-"+G+"-ms-flex-item-"+G.replace(k,"")+G;default:return"-webkit-"+G+"-ms-flex-line-pack"+G.replace("align-content","").replace(k,"")+G}break;case 973:case 989:if(G.charCodeAt(3)!==45||G.charCodeAt(4)===122)break;case 931:case 953:if(N.test(ee)===!0)return(K=ee.substring(ee.indexOf(":")+1)).charCodeAt(0)===115?o(ee.replace("stretch","fill-available"),X,ue,ke).replace(":fill-available",":stretch"):G.replace(K,"-webkit-"+K)+G.replace(K,"-moz-"+K.replace("fill-",""))+G;break;case 962:if(G="-webkit-"+G+(G.charCodeAt(5)===102?"-ms-"+G:"")+G,ue+ke===211&&G.charCodeAt(13)===105&&0<G.indexOf("transform",10))return G.substring(0,G.indexOf(";",27)+1).replace(I,"$1-webkit-$2")+G}return G}function a(ee,X){var ue=ee.indexOf(X===1?":":"{"),ke=ee.substring(0,X!==3?ue:10);return ue=ee.substring(ue+1,ee.length-1),ye(X!==2?ke:ke.replace(x,"$1"),ue,X)}function c(ee,X){var ue=o(X,X.charCodeAt(0),X.charCodeAt(1),X.charCodeAt(2));return ue!==X+";"?ue.replace(V," or ($1)").substring(4):"("+X+")"}function d(ee,X,ue,ke,G,oe,K,Ne,fe,ae){for(var xe=0,Ye=X,nt;xe<Q;++xe)switch(nt=Ee[xe].call(v,ee,Ye,ue,ke,G,oe,K,Ne,fe,ae)){case void 0:case!1:case!0:case null:break;default:Ye=nt}if(Ye!==X)return Ye}function f(ee){switch(ee){case void 0:case null:Q=Ee.length=0;break;default:if(typeof ee=="function")Ee[Q++]=ee;else if(typeof ee=="object")for(var X=0,ue=ee.length;X<ue;++X)f(ee[X]);else b=!!ee|0}return f}function m(ee){return ee=ee.prefix,ee!==void 0&&(ye=null,ee?typeof ee!="function"?pe=1:(pe=2,ye=ee):pe=0),m}function v(ee,X){var ue=ee;if(33>ue.charCodeAt(0)&&(ue=ue.trim()),ne=ue,ue=[ne],0<Q){var ke=d(-1,X,ue,ue,R,j,0,0,0,0);ke!==void 0&&typeof ke=="string"&&(X=ke)}var G=e(ge,ue,X,0,0);return 0<Q&&(ke=d(-2,G,ue,ue,R,j,G.length,0,0,0),ke!==void 0&&(G=ke)),ne="",de=0,j=R=1,G}var E=/^\0+/g,w=/[\0\r\f]/g,A=/: */g,C=/zoo|gra/,I=/([,: ])(transform)/g,T=/,\r+?/g,D=/([\t\r\n ])*\f?&/g,F=/@(k\w+)\s*(\S*)\s*/,z=/::(place)/g,Y=/:(read-only)/g,B=/[svh]\w+-[tblr]{2}/,we=/\(\s*(.*)\s*\)/g,V=/([\s\S]*?);/g,k=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,N=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,j=1,R=1,de=0,pe=1,ge=[],Ee=[],Q=0,ye=null,b=0,ne="";return v.use=f,v.set=m,n!==void 0&&m(n),v}var Yb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Jb(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Xb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rw=Jb(function(n){return Xb.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),ep={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function Zb(){if(iw)return Ct;iw=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,m=n?Symbol.for("react.concurrent_mode"):60111,v=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,w=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,C=n?Symbol.for("react.lazy"):60116,I=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,D=n?Symbol.for("react.responder"):60118,F=n?Symbol.for("react.scope"):60119;function z(B){if(typeof B=="object"&&B!==null){var we=B.$$typeof;switch(we){case e:switch(B=B.type,B){case f:case m:case i:case a:case o:case E:return B;default:switch(B=B&&B.$$typeof,B){case d:case v:case C:case A:case c:return B;default:return we}}case t:return we}}}function Y(B){return z(B)===m}return Ct.AsyncMode=f,Ct.ConcurrentMode=m,Ct.ContextConsumer=d,Ct.ContextProvider=c,Ct.Element=e,Ct.ForwardRef=v,Ct.Fragment=i,Ct.Lazy=C,Ct.Memo=A,Ct.Portal=t,Ct.Profiler=a,Ct.StrictMode=o,Ct.Suspense=E,Ct.isAsyncMode=function(B){return Y(B)||z(B)===f},Ct.isConcurrentMode=Y,Ct.isContextConsumer=function(B){return z(B)===d},Ct.isContextProvider=function(B){return z(B)===c},Ct.isElement=function(B){return typeof B=="object"&&B!==null&&B.$$typeof===e},Ct.isForwardRef=function(B){return z(B)===v},Ct.isFragment=function(B){return z(B)===i},Ct.isLazy=function(B){return z(B)===C},Ct.isMemo=function(B){return z(B)===A},Ct.isPortal=function(B){return z(B)===t},Ct.isProfiler=function(B){return z(B)===a},Ct.isStrictMode=function(B){return z(B)===o},Ct.isSuspense=function(B){return z(B)===E},Ct.isValidElementType=function(B){return typeof B=="string"||typeof B=="function"||B===i||B===m||B===a||B===o||B===E||B===w||typeof B=="object"&&B!==null&&(B.$$typeof===C||B.$$typeof===A||B.$$typeof===c||B.$$typeof===d||B.$$typeof===v||B.$$typeof===T||B.$$typeof===D||B.$$typeof===F||B.$$typeof===I)},Ct.typeOf=z,Ct}var sw;function eD(){return sw||(sw=1,ep.exports=Zb()),ep.exports}var tp,ow;function tD(){if(ow)return tp;ow=1;var n=eD(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function c(C){return n.isMemo(C)?o:a[C.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,w=Object.prototype;function A(C,I,T){if(typeof I!="string"){if(w){var D=E(I);D&&D!==w&&A(C,D,T)}var F=f(I);m&&(F=F.concat(m(I)));for(var z=c(C),Y=c(I),B=0;B<F.length;++B){var we=F[B];if(!t[we]&&!(T&&T[we])&&!(Y&&Y[we])&&!(z&&z[we])){var V=v(I,we);try{d(C,we,V)}catch{}}}}return C}return tp=A,tp}var nD=tD();const LT=Zl(nD);var ti={};function nr(){return(nr=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var aw=function(n,e){for(var t=[n[0]],i=0,o=e.length;i<o;i+=1)t.push(e[i],n[i+1]);return t},Fp=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!OT.typeOf(n)},Ih=Object.freeze([]),ys=Object.freeze({});function Na(n){return typeof n=="function"}function zp(n){return n.displayName||n.name||"Component"}function id(n){return n&&typeof n.styledComponentId=="string"}var Is=typeof process<"u"&&(ti.REACT_APP_SC_ATTR||ti.SC_ATTR)||"data-styled",rD="5.3.6",Ym=typeof window<"u"&&"HTMLElement"in window,iD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ti.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ti.REACT_APP_SC_DISABLE_SPEEDY!==""?ti.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ti.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ti.SC_DISABLE_SPEEDY!==void 0&&ti.SC_DISABLE_SPEEDY!==""&&ti.SC_DISABLE_SPEEDY!=="false"&&ti.SC_DISABLE_SPEEDY),sD={};function jr(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var oD=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var i=0,o=0;o<t;o++)i+=this.groupSizes[o];return i},e.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var o=this.groupSizes,a=o.length,c=a;t>=c;)(c<<=1)<0&&jr(16,""+t);this.groupSizes=new Uint32Array(c),this.groupSizes.set(o),this.length=c;for(var d=a;d<c;d++)this.groupSizes[d]=0}for(var f=this.indexOfGroup(t+1),m=0,v=i.length;m<v;m++)this.tag.insertRule(f,i[m])&&(this.groupSizes[t]++,f++)},e.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],o=this.indexOfGroup(t),a=o+i;this.groupSizes[t]=0;for(var c=o;c<a;c++)this.tag.deleteRule(o)}},e.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var o=this.groupSizes[t],a=this.indexOfGroup(t),c=a+o,d=a;d<c;d++)i+=this.tag.getRule(d)+`/*!sc*/
`;return i},n}(),th=new Map,Ch=new Map,ql=1,Uc=function(n){if(th.has(n))return th.get(n);for(;Ch.has(ql);)ql++;var e=ql++;return th.set(n,e),Ch.set(e,n),e},aD=function(n){return Ch.get(n)},lD=function(n,e){e>=ql&&(ql=e+1),th.set(n,e),Ch.set(e,n)},uD="style["+Is+'][data-styled-version="5.3.6"]',cD=new RegExp("^"+Is+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),hD=function(n,e,t){for(var i,o=t.split(","),a=0,c=o.length;a<c;a++)(i=o[a])&&n.registerName(e,i)},dD=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),i=[],o=0,a=t.length;o<a;o++){var c=t[o].trim();if(c){var d=c.match(cD);if(d){var f=0|parseInt(d[1],10),m=d[2];f!==0&&(lD(m,f),hD(n,m,d[3]),n.getTag().insertRules(f,i)),i.length=0}else i.push(c)}}},Up=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},VT=function(n){var e=document.head,t=n||e,i=document.createElement("style"),o=function(d){for(var f=d.childNodes,m=f.length;m>=0;m--){var v=f[m];if(v&&v.nodeType===1&&v.hasAttribute(Is))return v}}(t),a=o!==void 0?o.nextSibling:null;i.setAttribute(Is,"active"),i.setAttribute("data-styled-version","5.3.6");var c=Up();return c&&i.setAttribute("nonce",c),t.insertBefore(i,a),i},fD=function(){function n(t){var i=this.element=VT(t);i.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,c=0,d=a.length;c<d;c++){var f=a[c];if(f.ownerNode===o)return f}jr(17)}(i),this.length=0}var e=n.prototype;return e.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var i=this.sheet.cssRules[t];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},n}(),pD=function(){function n(t){var i=this.element=VT(t);this.nodes=i.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,i){if(t<=this.length&&t>=0){var o=document.createTextNode(i),a=this.nodes[t];return this.element.insertBefore(o,a||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),mD=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),lw=Ym,gD={isServer:!Ym,useCSSOMInjection:!iD},Oa=function(){function n(t,i,o){t===void 0&&(t=ys),i===void 0&&(i={}),this.options=nr({},gD,{},t),this.gs=i,this.names=new Map(o),this.server=!!t.isServer,!this.server&&Ym&&lw&&(lw=!1,function(a){for(var c=document.querySelectorAll(uD),d=0,f=c.length;d<f;d++){var m=c[d];m&&m.getAttribute(Is)!=="active"&&(dD(a,m),m.parentNode&&m.parentNode.removeChild(m))}}(this))}n.registerId=function(t){return Uc(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new n(nr({},this.options,{},t),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(o=(i=this.options).isServer,a=i.useCSSOMInjection,c=i.target,t=o?new mD(c):a?new fD(c):new pD(c),new oD(t)));var t,i,o,a,c},e.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},e.registerName=function(t,i){if(Uc(t),this.names.has(t))this.names.get(t).add(i);else{var o=new Set;o.add(i),this.names.set(t,o)}},e.insertRules=function(t,i,o){this.registerName(t,i),this.getTag().insertRules(Uc(t),o)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(Uc(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var i=t.getTag(),o=i.length,a="",c=0;c<o;c++){var d=aD(c);if(d!==void 0){var f=t.names.get(d),m=i.getGroup(c);if(f&&m&&f.size){var v=Is+".g"+c+'[id="'+d+'"]',E="";f!==void 0&&f.forEach(function(w){w.length>0&&(E+=w+",")}),a+=""+m+v+'{content:"'+E+`"}/*!sc*/
`}}}return a}(this)},n}(),yD=/(a)(d)/gi,uw=function(n){return String.fromCharCode(n+(n>25?39:97))};function $p(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=uw(e%52)+t;return(uw(e%52)+t).replace(yD,"$1-$2")}var fa=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},MT=function(n){return fa(5381,n)};function jT(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Na(t)&&!id(t))return!1}return!0}var vD=MT("5.3.6"),_D=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&jT(e),this.componentId=t,this.baseHash=fa(vD,t),this.baseStyle=i,Oa.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var o=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))a.push(this.staticRulesId);else{var c=ho(this.rules,e,t,i).join(""),d=$p(fa(this.baseHash,c)>>>0);if(!t.hasNameForId(o,d)){var f=i(c,"."+d,void 0,o);t.insertRules(o,d,f)}a.push(d),this.staticRulesId=d}else{for(var m=this.rules.length,v=fa(this.baseHash,i.hash),E="",w=0;w<m;w++){var A=this.rules[w];if(typeof A=="string")E+=A;else if(A){var C=ho(A,e,t,i),I=Array.isArray(C)?C.join(""):C;v=fa(v,I+w),E+=I}}if(E){var T=$p(v>>>0);if(!t.hasNameForId(o,T)){var D=i(E,"."+T,void 0,o);t.insertRules(o,T,D)}a.push(T)}}return a.join(" ")},n}(),wD=/^\s*\/\/.*$/gm,ED=[":","[",".","#"];function FT(n){var e,t,i,o,a=n===void 0?ys:n,c=a.options,d=c===void 0?ys:c,f=a.plugins,m=f===void 0?Ih:f,v=new Qb(d),E=[],w=function(I){function T(D){if(D)try{I(D+"}")}catch{}}return function(D,F,z,Y,B,we,V,k,x,N){switch(D){case 1:if(x===0&&F.charCodeAt(0)===64)return I(F+";"),"";break;case 2:if(k===0)return F+"/*|*/";break;case 3:switch(k){case 102:case 112:return I(z[0]+F),"";default:return F+(N===0?"/*|*/":"")}case-2:F.split("/*|*/}").forEach(T)}}}(function(I){E.push(I)}),A=function(I,T,D){return T===0&&ED.indexOf(D[t.length])!==-1||D.match(o)?I:"."+e};function C(I,T,D,F){F===void 0&&(F="&");var z=I.replace(wD,""),Y=T&&D?D+" "+T+" { "+z+" }":z;return e=F,t=T,i=new RegExp("\\"+t+"\\b","g"),o=new RegExp("(\\"+t+"\\b){2,}"),v(D||!T?"":T,Y)}return v.use([].concat(m,[function(I,T,D){I===2&&D.length&&D[0].lastIndexOf(t)>0&&(D[0]=D[0].replace(i,A))},w,function(I){if(I===-2){var T=E;return E=[],T}}])),C.hash=m.length?m.reduce(function(I,T){return T.name||jr(15),fa(I,T.name)},5381).toString():"",C}var sd=rr.createContext(),TD=sd.Consumer,Jm=rr.createContext(),zT=(Jm.Consumer,new Oa),Bp=FT();function Xm(){return W.useContext(sd)||zT}function UT(){return W.useContext(Jm)||Bp}function $T(n){var e=W.useState(n.stylisPlugins),t=e[0],i=e[1],o=Xm(),a=W.useMemo(function(){var d=o;return n.sheet?d=n.sheet:n.target&&(d=d.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(d=d.reconstructWithOptions({useCSSOMInjection:!1})),d},[n.disableCSSOMInjection,n.sheet,n.target]),c=W.useMemo(function(){return FT({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return W.useEffect(function(){Kb(t,n.stylisPlugins)||i(n.stylisPlugins)},[n.stylisPlugins]),rr.createElement(sd.Provider,{value:a},rr.createElement(Jm.Provider,{value:c},n.children))}var BT=function(){function n(e,t){var i=this;this.inject=function(o,a){a===void 0&&(a=Bp);var c=i.name+a.hash;o.hasNameForId(i.id,c)||o.insertRules(i.id,c,a(i.rules,c,"@keyframes"))},this.toString=function(){return jr(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=Bp),this.name+e.hash},n}(),SD=/([A-Z])/,ID=/([A-Z])/g,CD=/^ms-/,AD=function(n){return"-"+n.toLowerCase()};function cw(n){return SD.test(n)?n.replace(ID,AD).replace(CD,"-ms-"):n}var hw=function(n){return n==null||n===!1||n===""};function ho(n,e,t,i){if(Array.isArray(n)){for(var o,a=[],c=0,d=n.length;c<d;c+=1)(o=ho(n[c],e,t,i))!==""&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}if(hw(n))return"";if(id(n))return"."+n.styledComponentId;if(Na(n)){if(typeof(m=n)!="function"||m.prototype&&m.prototype.isReactComponent||!e)return n;var f=n(e);return ho(f,e,t,i)}var m;return n instanceof BT?t?(n.inject(t,i),n.getName(i)):n:Fp(n)?function v(E,w){var A,C,I=[];for(var T in E)E.hasOwnProperty(T)&&!hw(E[T])&&(Array.isArray(E[T])&&E[T].isCss||Na(E[T])?I.push(cw(T)+":",E[T],";"):Fp(E[T])?I.push.apply(I,v(E[T],T)):I.push(cw(T)+": "+(A=T,(C=E[T])==null||typeof C=="boolean"||C===""?"":typeof C!="number"||C===0||A in Yb?String(C).trim():C+"px")+";"));return w?[w+" {"].concat(I,["}"]):I}(n):n.toString()}var dw=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function od(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return Na(n)||Fp(n)?dw(ho(aw(Ih,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:dw(ho(aw(n,t)))}var Zm=function(n,e,t){return t===void 0&&(t=ys),n.theme!==t.theme&&n.theme||e||t.theme},PD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RD=/(^-|-$)/g;function np(n){return n.replace(PD,"-").replace(RD,"")}var eg=function(n){return $p(MT(n)>>>0)};function $c(n){return typeof n=="string"&&!0}var Wp=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},kD=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function xD(n,e,t){var i=n[t];Wp(e)&&Wp(i)?WT(i,e):n[t]=e}function WT(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var o=0,a=t;o<a.length;o++){var c=a[o];if(Wp(c))for(var d in c)kD(d)&&xD(n,c[d],d)}return n}var Cs=rr.createContext(),bD=Cs.Consumer;function DD(n){var e=W.useContext(Cs),t=W.useMemo(function(){return function(i,o){if(!i)return jr(14);if(Na(i)){var a=i(o);return a}return Array.isArray(i)||typeof i!="object"?jr(8):o?nr({},o,{},i):i}(n.theme,e)},[n.theme,e]);return n.children?rr.createElement(Cs.Provider,{value:t},n.children):null}var rp={};function qT(n,e,t){var i=id(n),o=!$c(n),a=e.attrs,c=a===void 0?Ih:a,d=e.componentId,f=d===void 0?function(F,z){var Y=typeof F!="string"?"sc":np(F);rp[Y]=(rp[Y]||0)+1;var B=Y+"-"+eg("5.3.6"+Y+rp[Y]);return z?z+"-"+B:B}(e.displayName,e.parentComponentId):d,m=e.displayName,v=m===void 0?function(F){return $c(F)?"styled."+F:"Styled("+zp(F)+")"}(n):m,E=e.displayName&&e.componentId?np(e.displayName)+"-"+e.componentId:e.componentId||f,w=i&&n.attrs?Array.prototype.concat(n.attrs,c).filter(Boolean):c,A=e.shouldForwardProp;i&&n.shouldForwardProp&&(A=e.shouldForwardProp?function(F,z,Y){return n.shouldForwardProp(F,z,Y)&&e.shouldForwardProp(F,z,Y)}:n.shouldForwardProp);var C,I=new _D(t,E,i?n.componentStyle:void 0),T=I.isStatic&&c.length===0,D=function(F,z){return function(Y,B,we,V){var k=Y.attrs,x=Y.componentStyle,N=Y.defaultProps,O=Y.foldedComponentIds,j=Y.shouldForwardProp,R=Y.styledComponentId,de=Y.target,pe=function(ke,G,oe){ke===void 0&&(ke=ys);var K=nr({},G,{theme:ke}),Ne={};return oe.forEach(function(fe){var ae,xe,Ye,nt=fe;for(ae in Na(nt)&&(nt=nt(K)),nt)K[ae]=Ne[ae]=ae==="className"?(xe=Ne[ae],Ye=nt[ae],xe&&Ye?xe+" "+Ye:xe||Ye):nt[ae]}),[K,Ne]}(Zm(B,W.useContext(Cs),N)||ys,B,k),ge=pe[0],Ee=pe[1],Q=function(ke,G,oe,K){var Ne=Xm(),fe=UT(),ae=G?ke.generateAndInjectStyles(ys,Ne,fe):ke.generateAndInjectStyles(oe,Ne,fe);return ae}(x,V,ge),ye=we,b=Ee.$as||B.$as||Ee.as||B.as||de,ne=$c(b),ee=Ee!==B?nr({},B,{},Ee):B,X={};for(var ue in ee)ue[0]!=="$"&&ue!=="as"&&(ue==="forwardedAs"?X.as=ee[ue]:(j?j(ue,rw,b):!ne||rw(ue))&&(X[ue]=ee[ue]));return B.style&&Ee.style!==B.style&&(X.style=nr({},B.style,{},Ee.style)),X.className=Array.prototype.concat(O,R,Q!==R?Q:null,B.className,Ee.className).filter(Boolean).join(" "),X.ref=ye,W.createElement(b,X)}(C,F,z,T)};return D.displayName=v,(C=rr.forwardRef(D)).attrs=w,C.componentStyle=I,C.displayName=v,C.shouldForwardProp=A,C.foldedComponentIds=i?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):Ih,C.styledComponentId=E,C.target=i?n.target:n,C.withComponent=function(F){var z=e.componentId,Y=function(we,V){if(we==null)return{};var k,x,N={},O=Object.keys(we);for(x=0;x<O.length;x++)k=O[x],V.indexOf(k)>=0||(N[k]=we[k]);return N}(e,["componentId"]),B=z&&z+"-"+($c(F)?F:np(zp(F)));return qT(F,nr({},Y,{attrs:w,componentId:B}),t)},Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(F){this._foldedDefaultProps=i?WT({},n.defaultProps,F):F}}),C.toString=function(){return"."+C.styledComponentId},o&&LT(C,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),C}var qp=function(n){return function e(t,i,o){if(o===void 0&&(o=ys),!OT.isValidElementType(i))return jr(1,String(i));var a=function(){return t(i,o,od.apply(void 0,arguments))};return a.withConfig=function(c){return e(t,i,nr({},o,{},c))},a.attrs=function(c){return e(t,i,nr({},o,{attrs:Array.prototype.concat(o.attrs,c).filter(Boolean)}))},a}(qT,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){qp[n]=qp(n)});var ND=function(){function n(t,i){this.rules=t,this.componentId=i,this.isStatic=jT(t),Oa.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,i,o,a){var c=a(ho(this.rules,i,o,a).join(""),""),d=this.componentId+t;o.insertRules(d,d,c)},e.removeStyles=function(t,i){i.clearRules(this.componentId+t)},e.renderStyles=function(t,i,o,a){t>2&&Oa.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,i,o,a)},n}();function OD(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var o=od.apply(void 0,[n].concat(t)),a="sc-global-"+eg(JSON.stringify(o)),c=new ND(o,a);function d(m){var v=Xm(),E=UT(),w=W.useContext(Cs),A=W.useRef(v.allocateGSInstance(a)).current;return v.server&&f(A,m,v,w,E),W.useLayoutEffect(function(){if(!v.server)return f(A,m,v,w,E),function(){return c.removeStyles(A,v)}},[A,m,v,w,E]),null}function f(m,v,E,w,A){if(c.isStatic)c.renderStyles(m,sD,E,A);else{var C=nr({},v,{theme:Zm(v,w,d.defaultProps)});c.renderStyles(m,C,E,A)}}return rr.memo(d)}function LD(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var o=od.apply(void 0,[n].concat(t)).join(""),a=eg(o);return new BT(a,o)}var VD=function(){function n(){var t=this;this._emitSheetCSS=function(){var i=t.instance.toString();if(!i)return"";var o=Up();return"<style "+[o&&'nonce="'+o+'"',Is+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+i+"</style>"},this.getStyleTags=function(){return t.sealed?jr(2):t._emitSheetCSS()},this.getStyleElement=function(){var i;if(t.sealed)return jr(2);var o=((i={})[Is]="",i["data-styled-version"]="5.3.6",i.dangerouslySetInnerHTML={__html:t.instance.toString()},i),a=Up();return a&&(o.nonce=a),[rr.createElement("style",nr({},o,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Oa({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?jr(2):rr.createElement($T,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return jr(3)},n}(),MD=function(n){var e=rr.forwardRef(function(t,i){var o=W.useContext(Cs),a=n.defaultProps,c=Zm(t,o,a);return rr.createElement(n,nr({},t,{theme:c,ref:i}))});return LT(e,n),e.displayName="WithTheme("+zp(n)+")",e},jD=function(){return W.useContext(Cs)},FD={StyleSheet:Oa,masterSheet:zT};const zD=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheet:VD,StyleSheetConsumer:TD,StyleSheetContext:sd,StyleSheetManager:$T,ThemeConsumer:bD,ThemeContext:Cs,ThemeProvider:DD,__PRIVATE__:FD,createGlobalStyle:OD,css:od,default:qp,isStyledComponent:id,keyframes:LD,useTheme:jD,version:rD,withTheme:MD},Symbol.toStringTag,{value:"Module"})),Ha=e1(zD);var sa={},ip={exports:{}},sp,fw;function UD(){if(fw)return sp;fw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sp=n,sp}var op,pw;function $D(){if(pw)return op;pw=1;var n=UD();function e(){}function t(){}return t.resetWarningCache=e,op=function(){function i(c,d,f,m,v,E){if(E!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},op}var mw;function wo(){return mw||(mw=1,ip.exports=$D()()),ip.exports}var wi={},gw;function Ga(){if(gw)return wi;gw=1;var n=wi&&wi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wi,"__esModule",{value:!0}),wi.CrosswordSizeContext=wi.CrosswordContext=void 0;const e=n($r());function t(){}return wi.CrosswordContext=e.default.createContext({rows:0,cols:0,gridData:[],handleInputKeyDown:t,handleInputChange:t,handleCellClick:t,handleInputClick:t,handleClueSelected:t,registerFocusHandler:t,focused:!1,selectedPosition:{row:0,col:0},selectedDirection:"across",selectedNumber:"",crosswordCorrect:!1}),wi.CrosswordSizeContext=e.default.createContext({cellSize:0,cellPadding:0,cellInner:0,cellHalf:0,fontSize:0}),wi}var yw;function HT(){if(yw)return sa;yw=1;var n=sa&&sa.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(sa,"__esModule",{value:!0});const e=fo(),t=$r(),i=n(wo()),o=Ha,a=Ga(),c={cellData:i.default.shape({row:i.default.number.isRequired,col:i.default.number.isRequired,guess:i.default.string,number:i.default.string,answer:i.default.string}).isRequired,focus:i.default.bool,highlight:i.default.bool,onClick:i.default.func};function d({cellData:f,onClick:m,focus:v,highlight:E}){const{cellSize:w,cellPadding:A,cellInner:C,cellHalf:I,fontSize:T}=(0,t.useContext)(a.CrosswordSizeContext),{cellBackground:D,cellBorder:F,textColor:z,numberColor:Y,focusBackground:B,highlightBackground:we}=(0,t.useContext)(o.ThemeContext),V=(0,t.useCallback)(pe=>{pe.preventDefault(),m&&m(f)},[f,m]),{row:k,col:x,guess:N,number:O,answer:j}=f,R=x*w,de=k*w;return(0,e.jsxs)("g",Object.assign({onClick:V,style:{cursor:"default",fontSize:`${T}px`},className:"clue-cell"},{children:[(0,e.jsx)("rect",{x:R+A,y:de+A,width:C,height:C,fill:v?B:E?we:D,stroke:F,strokeWidth:w/50}),O&&(0,e.jsx)("text",Object.assign({x:R+A*4,y:de+A*4,textAnchor:"start",dominantBaseline:"hanging",style:{fontSize:"50%",fill:Y}},{children:O})),(0,e.jsx)("text",Object.assign({x:R+I,y:de+I+1,textAnchor:"middle",dominantBaseline:"middle",style:{fill:z},className:j===N?"guess-text-correct":"guess-text-incorrect"},{children:N}))]}))}return sa.default=d,d.propTypes=c,d.defaultProps={focus:!1,highlight:!1,onClick:null},sa}var $n={},vw;function GT(){if(vw)return $n;vw=1;var n=$n&&$n.__createBinding||(Object.create?function(w,A,C,I){I===void 0&&(I=C);var T=Object.getOwnPropertyDescriptor(A,C);(!T||("get"in T?!A.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return A[C]}}),Object.defineProperty(w,I,T)}:function(w,A,C,I){I===void 0&&(I=C),w[I]=A[C]}),e=$n&&$n.__setModuleDefault||(Object.create?function(w,A){Object.defineProperty(w,"default",{enumerable:!0,value:A})}:function(w,A){w.default=A}),t=$n&&$n.__importStar||function(w){if(w&&w.__esModule)return w;var A={};if(w!=null)for(var C in w)C!=="default"&&Object.prototype.hasOwnProperty.call(w,C)&&n(A,w,C);return e(A,w),A},i=$n&&$n.__rest||function(w,A){var C={};for(var I in w)Object.prototype.hasOwnProperty.call(w,I)&&A.indexOf(I)<0&&(C[I]=w[I]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,I=Object.getOwnPropertySymbols(w);T<I.length;T++)A.indexOf(I[T])<0&&Object.prototype.propertyIsEnumerable.call(w,I[T])&&(C[I[T]]=w[I[T]]);return C},o=$n&&$n.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty($n,"__esModule",{value:!0});const a=fo(),c=$r(),d=o(wo()),f=t(Ha),m=Ga(),v=f.default.div.attrs(w=>({className:`clue${w.complete?w.correct?" correct":" incorrect":""}`}))`
  cursor: default;
  background-color: ${w=>w.highlight?w.highlightBackground:"transparent"};
`;function E(w){var{direction:A,number:C,children:I,complete:T,correct:D}=w,F=i(w,["direction","number","children","complete","correct"]);const{highlightBackground:z}=(0,c.useContext)(f.ThemeContext),{focused:Y,selectedDirection:B,selectedNumber:we,handleClueSelected:V}=(0,c.useContext)(m.CrosswordContext),k=(0,c.useCallback)(x=>{x.preventDefault(),V(A,C)},[A,C,V]);return(0,a.jsxs)(v,Object.assign({highlightBackground:z,highlight:Y&&A===B&&C===we,complete:T,correct:D},F,{onClick:k,"aria-label":`clue-${C}-${A}`},{children:[C,": ",I]}))}return $n.default=E,E.propTypes={direction:d.default.string.isRequired,number:d.default.string.isRequired,children:d.default.node.isRequired,complete:d.default.bool,correct:d.default.bool},E.defaultProps={complete:void 0,correct:void 0},$n}var oa={},_w;function KT(){if(_w)return oa;_w=1;var n=oa&&oa.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(oa,"__esModule",{value:!0});const e=fo(),t=$r(),i=n(wo()),o=Ga(),a=n(GT()),c={direction:i.default.string.isRequired,label:i.default.string};function d({direction:f,label:m}){const{clues:v}=(0,t.useContext)(o.CrosswordContext);return(0,e.jsxs)("div",Object.assign({className:"direction"},{children:[(0,e.jsx)("h3",Object.assign({className:"header"},{children:m||f.toUpperCase()})),v==null?void 0:v[f].map(({number:E,clue:w,complete:A,correct:C})=>(0,e.jsx)(a.default,Object.assign({direction:f,number:E,complete:A,correct:C},{children:w}),E))]}))}return oa.default=d,d.propTypes=c,d.defaultProps={label:void 0},oa}var Bn={},Or={},ap={exports:{}},Vt={},ww;function BD(){if(ww)return Vt;ww=1;function n(L){for(var H=arguments.length,ce=Array(H>1?H-1:0),ie=1;ie<H;ie++)ce[ie-1]=arguments[ie];throw Error("[Immer] minified error nr: "+L+(ce.length?" "+ce.map(function(Ae){return"'"+Ae+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function e(L){return!!L&&!!L[fe]}function t(L){var H;return!!L&&(function(ce){if(!ce||typeof ce!="object")return!1;var ie=Object.getPrototypeOf(ce);if(ie===null)return!0;var Ae=Object.hasOwnProperty.call(ie,"constructor")&&ie.constructor;return Ae===Object||typeof Ae=="function"&&Function.toString.call(Ae)===xe}(L)||Array.isArray(L)||!!L[Ne]||!!(!((H=L.constructor)===null||H===void 0)&&H[Ne])||m(L)||v(L))}function i(L,H,ce){ce===void 0&&(ce=!1),o(L)===0?(ce?Object.keys:Ye)(L).forEach(function(ie){ce&&typeof ie=="symbol"||H(ie,L[ie],L)}):L.forEach(function(ie,Ae){return H(Ae,ie,L)})}function o(L){var H=L[fe];return H?H.t>3?H.t-4:H.t:Array.isArray(L)?1:m(L)?2:v(L)?3:0}function a(L,H){return o(L)===2?L.has(H):Object.prototype.hasOwnProperty.call(L,H)}function c(L,H){return o(L)===2?L.get(H):L[H]}function d(L,H,ce){var ie=o(L);ie===2?L.set(H,ce):ie===3?L.add(ce):L[H]=ce}function f(L,H){return L===H?L!==0||1/L==1/H:L!=L&&H!=H}function m(L){return ke&&L instanceof Map}function v(L){return G&&L instanceof Set}function E(L){return L.i||L.u}function w(L){if(Array.isArray(L))return Array.prototype.slice.call(L);var H=nt(L);delete H[fe];for(var ce=Ye(H),ie=0;ie<ce.length;ie++){var Ae=ce[ie],De=H[Ae];De.writable===!1&&(De.writable=!0,De.configurable=!0),(De.get||De.set)&&(H[Ae]={configurable:!0,writable:!0,enumerable:De.enumerable,value:L[Ae]})}return Object.create(Object.getPrototypeOf(L),H)}function A(L,H){return H===void 0&&(H=!1),I(L)||e(L)||!t(L)||(o(L)>1&&(L.set=L.add=L.clear=L.delete=C),Object.freeze(L),H&&i(L,function(ce,ie){return A(ie,!0)},!0)),L}function C(){n(2)}function I(L){return L==null||typeof L!="object"||Object.isFrozen(L)}function T(L){var H=Ge[L];return H||n(18,L),H}function D(L,H){Ge[L]||(Ge[L]=H)}function F(){return X}function z(L,H){H&&(T("Patches"),L.o=[],L.v=[],L.s=H)}function Y(L){B(L),L.p.forEach(V),L.p=null}function B(L){L===X&&(X=L.l)}function we(L){return X={p:[],l:X,h:L,_:!0,m:0}}function V(L){var H=L[fe];H.t===0||H.t===1?H.j():H.O=!0}function k(L,H){H.m=H.p.length;var ce=H.p[0],ie=L!==void 0&&L!==ce;return H.h.S||T("ES5").P(H,L,ie),ie?(ce[fe].g&&(Y(H),n(4)),t(L)&&(L=x(H,L),H.l||O(H,L)),H.o&&T("Patches").M(ce[fe].u,L,H.o,H.v)):L=x(H,ce,[]),Y(H),H.o&&H.s(H.o,H.v),L!==K?L:void 0}function x(L,H,ce){if(I(H))return H;var ie=H[fe];if(!ie)return i(H,function(Ie,Ce){return N(L,ie,H,Ie,Ce,ce)},!0),H;if(ie.A!==L)return H;if(!ie.g)return O(L,ie.u,!0),ie.u;if(!ie.R){ie.R=!0,ie.A.m--;var Ae=ie.t===4||ie.t===5?ie.i=w(ie.k):ie.i,De=Ae,je=!1;ie.t===3&&(De=new Set(Ae),Ae.clear(),je=!0),i(De,function(Ie,Ce){return N(L,ie,Ae,Ie,Ce,ce,je)}),O(L,Ae,!1),ce&&L.o&&T("Patches").F(ie,ce,L.o,L.v)}return ie.i}function N(L,H,ce,ie,Ae,De,je){if(e(Ae)){var Ie=x(L,Ae,De&&H&&H.t!==3&&!a(H.N,ie)?De.concat(ie):void 0);if(d(ce,ie,Ie),!e(Ie))return;L._=!1}else je&&ce.add(Ae);if(t(Ae)&&!I(Ae)){if(!L.h.D&&L.m<1)return;x(L,Ae),H&&H.A.l||O(L,Ae)}}function O(L,H,ce){ce===void 0&&(ce=!1),!L.l&&L.h.D&&L._&&A(H,ce)}function j(L,H){var ce=L[fe];return(ce?E(ce):L)[H]}function R(L,H){if(H in L)for(var ce=Object.getPrototypeOf(L);ce;){var ie=Object.getOwnPropertyDescriptor(ce,H);if(ie)return ie;ce=Object.getPrototypeOf(ce)}}function de(L){L.g||(L.g=!0,L.l&&de(L.l))}function pe(L){L.i||(L.i=w(L.u))}function ge(L,H,ce){var ie=m(H)?T("MapSet").K(H,ce):v(H)?T("MapSet").$(H,ce):L.S?function(Ae,De){var je=Array.isArray(Ae),Ie={t:je?1:0,A:De?De.A:F(),g:!1,R:!1,N:{},l:De,u:Ae,k:null,i:null,j:null,C:!1},Ce=Ie,he=tt;je&&(Ce=[Ie],he=He);var me=Proxy.revocable(Ce,he),Le=me.revoke,re=me.proxy;return Ie.k=re,Ie.j=Le,re}(H,ce):T("ES5").I(H,ce);return(ce?ce.A:F()).p.push(ie),ie}function Ee(L){return e(L)||n(22,L),function H(ce){if(!t(ce))return ce;var ie,Ae=ce[fe],De=o(ce);if(Ae){if(!Ae.g&&(Ae.t<4||!T("ES5").J(Ae)))return Ae.u;Ae.R=!0,ie=Q(ce,De),Ae.R=!1}else ie=Q(ce,De);return i(ie,function(je,Ie){Ae&&c(Ae.u,je)===Ie||d(ie,je,H(Ie))}),De===3?new Set(ie):ie}(L)}function Q(L,H){switch(H){case 2:return new Map(L);case 3:return Array.from(L)}return w(L)}function ye(){function L(De,je){var Ie=Ae[De];return Ie?Ie.enumerable=je:Ae[De]=Ie={configurable:!0,enumerable:je,get:function(){return tt.get(this[fe],De)},set:function(Ce){tt.set(this[fe],De,Ce)}},Ie}function H(De){for(var je=De.length-1;je>=0;je--){var Ie=De[je][fe];if(!Ie.g)switch(Ie.t){case 5:ie(Ie)&&de(Ie);break;case 4:ce(Ie)&&de(Ie)}}}function ce(De){for(var je=De.u,Ie=De.k,Ce=Ye(Ie),he=Ce.length-1;he>=0;he--){var me=Ce[he];if(me!==fe){var Le=je[me];if(Le===void 0&&!a(je,me))return!0;var re=Ie[me],ve=re&&re[fe];if(ve?ve.u!==Le:!f(re,Le))return!0}}var Se=!!je[fe];return Ce.length!==Ye(je).length+(Se?0:1)}function ie(De){var je=De.k;if(je.length!==De.u.length)return!0;var Ie=Object.getOwnPropertyDescriptor(je,je.length-1);if(Ie&&!Ie.get)return!0;for(var Ce=0;Ce<je.length;Ce++)if(!je.hasOwnProperty(Ce))return!0;return!1}var Ae={};D("ES5",{I:function(De,je){var Ie=Array.isArray(De),Ce=function(me,Le){if(me){for(var re=Array(Le.length),ve=0;ve<Le.length;ve++)Object.defineProperty(re,""+ve,L(ve,!0));return re}var Se=nt(Le);delete Se[fe];for(var Ve=Ye(Se),Je=0;Je<Ve.length;Je++){var rt=Ve[Je];Se[rt]=L(rt,me||!!Se[rt].enumerable)}return Object.create(Object.getPrototypeOf(Le),Se)}(Ie,De),he={t:Ie?5:4,A:je?je.A:F(),g:!1,R:!1,N:{},l:je,u:De,k:Ce,i:null,O:!1,C:!1};return Object.defineProperty(Ce,fe,{value:he,writable:!0}),Ce},P:function(De,je,Ie){Ie?e(je)&&je[fe].A===De&&H(De.p):(De.o&&function Ce(he){if(he&&typeof he=="object"){var me=he[fe];if(me){var Le=me.u,re=me.k,ve=me.N,Se=me.t;if(Se===4)i(re,function(Tt){Tt!==fe&&(Le[Tt]!==void 0||a(Le,Tt)?ve[Tt]||Ce(re[Tt]):(ve[Tt]=!0,de(me)))}),i(Le,function(Tt){re[Tt]!==void 0||a(re,Tt)||(ve[Tt]=!1,de(me))});else if(Se===5){if(ie(me)&&(de(me),ve.length=!0),re.length<Le.length)for(var Ve=re.length;Ve<Le.length;Ve++)ve[Ve]=!1;else for(var Je=Le.length;Je<re.length;Je++)ve[Je]=!0;for(var rt=Math.min(re.length,Le.length),yt=0;yt<rt;yt++)re.hasOwnProperty(yt)||(ve[yt]=!0),ve[yt]===void 0&&Ce(re[yt])}}}}(De.p[0]),H(De.p))},J:function(De){return De.t===4?ce(De):ie(De)}})}function b(){function L(ie){if(!t(ie))return ie;if(Array.isArray(ie))return ie.map(L);if(m(ie))return new Map(Array.from(ie.entries()).map(function(je){return[je[0],L(je[1])]}));if(v(ie))return new Set(Array.from(ie).map(L));var Ae=Object.create(Object.getPrototypeOf(ie));for(var De in ie)Ae[De]=L(ie[De]);return a(ie,Ne)&&(Ae[Ne]=ie[Ne]),Ae}function H(ie){return e(ie)?L(ie):ie}var ce="add";D("Patches",{W:function(ie,Ae){return Ae.forEach(function(De){for(var je=De.path,Ie=De.op,Ce=ie,he=0;he<je.length-1;he++){var me=o(Ce),Le=je[he];typeof Le!="string"&&typeof Le!="number"&&(Le=""+Le),me!==0&&me!==1||Le!=="__proto__"&&Le!=="constructor"||n(24),typeof Ce=="function"&&Le==="prototype"&&n(24),typeof(Ce=c(Ce,Le))!="object"&&n(15,je.join("/"))}var re=o(Ce),ve=L(De.value),Se=je[je.length-1];switch(Ie){case"replace":switch(re){case 2:return Ce.set(Se,ve);case 3:n(16);default:return Ce[Se]=ve}case ce:switch(re){case 1:return Se==="-"?Ce.push(ve):Ce.splice(Se,0,ve);case 2:return Ce.set(Se,ve);case 3:return Ce.add(ve);default:return Ce[Se]=ve}case"remove":switch(re){case 1:return Ce.splice(Se,1);case 2:return Ce.delete(Se);case 3:return Ce.delete(De.value);default:return delete Ce[Se]}default:n(17,Ie)}}),ie},F:function(ie,Ae,De,je){switch(ie.t){case 0:case 4:case 2:return function(Ie,Ce,he,me){var Le=Ie.u,re=Ie.i;i(Ie.N,function(ve,Se){var Ve=c(Le,ve),Je=c(re,ve),rt=Se?a(Le,ve)?"replace":ce:"remove";if(Ve!==Je||rt!=="replace"){var yt=Ce.concat(ve);he.push(rt==="remove"?{op:rt,path:yt}:{op:rt,path:yt,value:Je}),me.push(rt===ce?{op:"remove",path:yt}:rt==="remove"?{op:ce,path:yt,value:H(Ve)}:{op:"replace",path:yt,value:H(Ve)})}})}(ie,Ae,De,je);case 5:case 1:return function(Ie,Ce,he,me){var Le=Ie.u,re=Ie.N,ve=Ie.i;if(ve.length<Le.length){var Se=[ve,Le];Le=Se[0],ve=Se[1];var Ve=[me,he];he=Ve[0],me=Ve[1]}for(var Je=0;Je<Le.length;Je++)if(re[Je]&&ve[Je]!==Le[Je]){var rt=Ce.concat([Je]);he.push({op:"replace",path:rt,value:H(ve[Je])}),me.push({op:"replace",path:rt,value:H(Le[Je])})}for(var yt=Le.length;yt<ve.length;yt++){var Tt=Ce.concat([yt]);he.push({op:ce,path:Tt,value:H(ve[yt])})}Le.length<ve.length&&me.push({op:"replace",path:Ce.concat(["length"]),value:Le.length})}(ie,Ae,De,je);case 3:return function(Ie,Ce,he,me){var Le=Ie.u,re=Ie.i,ve=0;Le.forEach(function(Se){if(!re.has(Se)){var Ve=Ce.concat([ve]);he.push({op:"remove",path:Ve,value:Se}),me.unshift({op:ce,path:Ve,value:Se})}ve++}),ve=0,re.forEach(function(Se){if(!Le.has(Se)){var Ve=Ce.concat([ve]);he.push({op:ce,path:Ve,value:Se}),me.unshift({op:"remove",path:Ve,value:Se})}ve++})}(ie,Ae,De,je)}},M:function(ie,Ae,De,je){De.push({op:"replace",path:[],value:Ae===K?void 0:Ae}),je.push({op:"replace",path:[],value:ie})}})}function ne(){function L(Ie,Ce){function he(){this.constructor=Ie}Ae(Ie,Ce),Ie.prototype=(he.prototype=Ce.prototype,new he)}function H(Ie){Ie.i||(Ie.N=new Map,Ie.i=new Map(Ie.u))}function ce(Ie){Ie.i||(Ie.i=new Set,Ie.u.forEach(function(Ce){if(t(Ce)){var he=ge(Ie.A.h,Ce,Ie);Ie.p.set(Ce,he),Ie.i.add(he)}else Ie.i.add(Ce)}))}function ie(Ie){Ie.O&&n(3,JSON.stringify(E(Ie)))}var Ae=function(Ie,Ce){return(Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,me){he.__proto__=me}||function(he,me){for(var Le in me)me.hasOwnProperty(Le)&&(he[Le]=me[Le])})(Ie,Ce)},De=function(){function Ie(he,me){return this[fe]={t:2,l:me,A:me?me.A:F(),g:!1,R:!1,i:void 0,N:void 0,u:he,k:this,C:!1,O:!1},this}L(Ie,Map);var Ce=Ie.prototype;return Object.defineProperty(Ce,"size",{get:function(){return E(this[fe]).size}}),Ce.has=function(he){return E(this[fe]).has(he)},Ce.set=function(he,me){var Le=this[fe];return ie(Le),E(Le).has(he)&&E(Le).get(he)===me||(H(Le),de(Le),Le.N.set(he,!0),Le.i.set(he,me),Le.N.set(he,!0)),this},Ce.delete=function(he){if(!this.has(he))return!1;var me=this[fe];return ie(me),H(me),de(me),me.u.has(he)?me.N.set(he,!1):me.N.delete(he),me.i.delete(he),!0},Ce.clear=function(){var he=this[fe];ie(he),E(he).size&&(H(he),de(he),he.N=new Map,i(he.u,function(me){he.N.set(me,!1)}),he.i.clear())},Ce.forEach=function(he,me){var Le=this;E(this[fe]).forEach(function(re,ve){he.call(me,Le.get(ve),ve,Le)})},Ce.get=function(he){var me=this[fe];ie(me);var Le=E(me).get(he);if(me.R||!t(Le)||Le!==me.u.get(he))return Le;var re=ge(me.A.h,Le,me);return H(me),me.i.set(he,re),re},Ce.keys=function(){return E(this[fe]).keys()},Ce.values=function(){var he,me=this,Le=this.keys();return(he={})[ae]=function(){return me.values()},he.next=function(){var re=Le.next();return re.done?re:{done:!1,value:me.get(re.value)}},he},Ce.entries=function(){var he,me=this,Le=this.keys();return(he={})[ae]=function(){return me.entries()},he.next=function(){var re=Le.next();if(re.done)return re;var ve=me.get(re.value);return{done:!1,value:[re.value,ve]}},he},Ce[ae]=function(){return this.entries()},Ie}(),je=function(){function Ie(he,me){return this[fe]={t:3,l:me,A:me?me.A:F(),g:!1,R:!1,i:void 0,u:he,k:this,p:new Map,O:!1,C:!1},this}L(Ie,Set);var Ce=Ie.prototype;return Object.defineProperty(Ce,"size",{get:function(){return E(this[fe]).size}}),Ce.has=function(he){var me=this[fe];return ie(me),me.i?!!me.i.has(he)||!(!me.p.has(he)||!me.i.has(me.p.get(he))):me.u.has(he)},Ce.add=function(he){var me=this[fe];return ie(me),this.has(he)||(ce(me),de(me),me.i.add(he)),this},Ce.delete=function(he){if(!this.has(he))return!1;var me=this[fe];return ie(me),ce(me),de(me),me.i.delete(he)||!!me.p.has(he)&&me.i.delete(me.p.get(he))},Ce.clear=function(){var he=this[fe];ie(he),E(he).size&&(ce(he),de(he),he.i.clear())},Ce.values=function(){var he=this[fe];return ie(he),ce(he),he.i.values()},Ce.entries=function(){var he=this[fe];return ie(he),ce(he),he.i.entries()},Ce.keys=function(){return this.values()},Ce[ae]=function(){return this.values()},Ce.forEach=function(he,me){for(var Le=this.values(),re=Le.next();!re.done;)he.call(me,re.value,re.value,this),re=Le.next()},Ie}();D("MapSet",{K:function(Ie,Ce){return new De(Ie,Ce)},$:function(Ie,Ce){return new je(Ie,Ce)}})}var ee;Object.defineProperty(Vt,"__esModule",{value:!0});var X,ue=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ke=typeof Map<"u",G=typeof Set<"u",oe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",K=ue?Symbol.for("immer-nothing"):((ee={})["immer-nothing"]=!0,ee),Ne=ue?Symbol.for("immer-draftable"):"__$immer_draftable",fe=ue?Symbol.for("immer-state"):"__$immer_state",ae=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",xe=""+Object.prototype.constructor,Ye=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:Object.getOwnPropertyNames,nt=Object.getOwnPropertyDescriptors||function(L){var H={};return Ye(L).forEach(function(ce){H[ce]=Object.getOwnPropertyDescriptor(L,ce)}),H},Ge={},tt={get:function(L,H){if(H===fe)return L;var ce=E(L);if(!a(ce,H))return function(Ae,De,je){var Ie,Ce=R(De,je);return Ce?"value"in Ce?Ce.value:(Ie=Ce.get)===null||Ie===void 0?void 0:Ie.call(Ae.k):void 0}(L,ce,H);var ie=ce[H];return L.R||!t(ie)?ie:ie===j(L.u,H)?(pe(L),L.i[H]=ge(L.A.h,ie,L)):ie},has:function(L,H){return H in E(L)},ownKeys:function(L){return Reflect.ownKeys(E(L))},set:function(L,H,ce){var ie=R(E(L),H);if(ie!=null&&ie.set)return ie.set.call(L.k,ce),!0;if(!L.g){var Ae=j(E(L),H),De=Ae==null?void 0:Ae[fe];if(De&&De.u===ce)return L.i[H]=ce,L.N[H]=!1,!0;if(f(ce,Ae)&&(ce!==void 0||a(L.u,H)))return!0;pe(L),de(L)}return L.i[H]===ce&&(ce!==void 0||H in L.i)||Number.isNaN(ce)&&Number.isNaN(L.i[H])||(L.i[H]=ce,L.N[H]=!0),!0},deleteProperty:function(L,H){return j(L.u,H)!==void 0||H in L.u?(L.N[H]=!1,pe(L),de(L)):delete L.N[H],L.i&&delete L.i[H],!0},getOwnPropertyDescriptor:function(L,H){var ce=E(L),ie=Reflect.getOwnPropertyDescriptor(ce,H);return ie&&{writable:!0,configurable:L.t!==1||H!=="length",enumerable:ie.enumerable,value:ce[H]}},defineProperty:function(){n(11)},getPrototypeOf:function(L){return Object.getPrototypeOf(L.u)},setPrototypeOf:function(){n(12)}},He={};i(tt,function(L,H){He[L]=function(){return arguments[0]=arguments[0][0],H.apply(this,arguments)}}),He.deleteProperty=function(L,H){return He.set.call(this,L,H,void 0)},He.set=function(L,H,ce){return tt.set.call(this,L[0],H,ce,L[0])};var ut=function(){function L(ce){var ie=this;this.S=oe,this.D=!0,this.produce=function(Ae,De,je){if(typeof Ae=="function"&&typeof De!="function"){var Ie=De;De=Ae;var Ce=ie;return function(Ve){var Je=this;Ve===void 0&&(Ve=Ie);for(var rt=arguments.length,yt=Array(rt>1?rt-1:0),Tt=1;Tt<rt;Tt++)yt[Tt-1]=arguments[Tt];return Ce.produce(Ve,function(Hn){var Qt;return(Qt=De).call.apply(Qt,[Je,Hn].concat(yt))})}}var he;if(typeof De!="function"&&n(6),je!==void 0&&typeof je!="function"&&n(7),t(Ae)){var me=we(ie),Le=ge(ie,Ae,void 0),re=!0;try{he=De(Le),re=!1}finally{re?Y(me):B(me)}return typeof Promise<"u"&&he instanceof Promise?he.then(function(Ve){return z(me,je),k(Ve,me)},function(Ve){throw Y(me),Ve}):(z(me,je),k(he,me))}if(!Ae||typeof Ae!="object"){if((he=De(Ae))===void 0&&(he=Ae),he===K&&(he=void 0),ie.D&&A(he,!0),je){var ve=[],Se=[];T("Patches").M(Ae,he,ve,Se),je(ve,Se)}return he}n(21,Ae)},this.produceWithPatches=function(Ae,De){if(typeof Ae=="function")return function(he){for(var me=arguments.length,Le=Array(me>1?me-1:0),re=1;re<me;re++)Le[re-1]=arguments[re];return ie.produceWithPatches(he,function(ve){return Ae.apply(void 0,[ve].concat(Le))})};var je,Ie,Ce=ie.produce(Ae,De,function(he,me){je=he,Ie=me});return typeof Promise<"u"&&Ce instanceof Promise?Ce.then(function(he){return[he,je,Ie]}):[Ce,je,Ie]},typeof(ce==null?void 0:ce.useProxies)=="boolean"&&this.setUseProxies(ce.useProxies),typeof(ce==null?void 0:ce.autoFreeze)=="boolean"&&this.setAutoFreeze(ce.autoFreeze)}var H=L.prototype;return H.createDraft=function(ce){t(ce)||n(8),e(ce)&&(ce=Ee(ce));var ie=we(this),Ae=ge(this,ce,void 0);return Ae[fe].C=!0,B(ie),Ae},H.finishDraft=function(ce,ie){var Ae=(ce&&ce[fe]).A;return z(Ae,ie),k(void 0,Ae)},H.setAutoFreeze=function(ce){this.D=ce},H.setUseProxies=function(ce){ce&&!oe&&n(20),this.S=ce},H.applyPatches=function(ce,ie){var Ae;for(Ae=ie.length-1;Ae>=0;Ae--){var De=ie[Ae];if(De.path.length===0&&De.op==="replace"){ce=De.value;break}}Ae>-1&&(ie=ie.slice(Ae+1));var je=T("Patches").W;return e(ce)?je(ce,ie):this.produce(ce,function(Ie){return je(Ie,ie)})},L}(),wt=new ut,Xe=wt.produce,Nt=wt.produceWithPatches.bind(wt),wn=wt.setAutoFreeze.bind(wt),zt=wt.setUseProxies.bind(wt),Qe=wt.applyPatches.bind(wt),ht=wt.createDraft.bind(wt),gt=wt.finishDraft.bind(wt);return Vt.Immer=ut,Vt.applyPatches=Qe,Vt.castDraft=function(L){return L},Vt.castImmutable=function(L){return L},Vt.createDraft=ht,Vt.current=Ee,Vt.default=Xe,Vt.enableAllPlugins=function(){ye(),ne(),b()},Vt.enableES5=ye,Vt.enableMapSet=ne,Vt.enablePatches=b,Vt.finishDraft=gt,Vt.freeze=A,Vt.immerable=Ne,Vt.isDraft=e,Vt.isDraftable=t,Vt.nothing=K,Vt.original=function(L){return e(L)||n(23,L),L[fe].u},Vt.produce=Xe,Vt.produceWithPatches=Nt,Vt.setAutoFreeze=wn,Vt.setUseProxies=zt,Vt}var Ew;function WD(){return Ew||(Ew=1,ap.exports=BD()),ap.exports}var Nl={},Tw;function qD(){return Tw||(Tw=1,function(n){var e=Nl&&Nl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.cluesInputShapeOriginal=n.clueShapeOriginal=void 0;const t=e(wo()),i={clue:t.default.string.isRequired,answer:t.default.string.isRequired,row:t.default.number.isRequired,col:t.default.number.isRequired};n.clueShapeOriginal=t.default.shape(i),n.cluesInputShapeOriginal=t.default.shape({across:t.default.objectOf(n.clueShapeOriginal.isRequired).isRequired,down:t.default.objectOf(n.clueShapeOriginal.isRequired).isRequired})}(Nl)),Nl}var lp={},Sw;function HD(){return Sw||(Sw=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findCorrectAnswers=n.deserializeGuesses=n.loadGuesses=n.serializeGuesses=n.saveGuesses=n.clearGuesses=n.byNumber=n.createGridData=n.fillClues=n.createEmptyGrid=n.calculateExtents=n.otherDirection=n.isAcross=n.bothDirections=void 0;const e={across:{primary:"col",orthogonal:"row"},down:{primary:"row",orthogonal:"col"}};n.bothDirections=Object.keys(e);function t(I){return I==="across"}n.isAcross=t;function i(I){return t(I)?"down":"across"}n.otherDirection=i;function o(I,T){const D=e[T];let F=0,z=0;Object.entries(I[T]).forEach(([,B])=>{const we=B[D.primary]+B.answer.length-1;we>F&&(F=we);const V=B[D.orthogonal];V>z&&(z=V)});const Y={row:0,col:0};return Y[D.primary]=F,Y[D.orthogonal]=z,Y}n.calculateExtents=o;function a(I,T){const D=Array(I);for(let F=0;F<I;F++){D[F]=Array(T);for(let z=0;z<T;z++)D[F][z]={row:F,col:z,used:!1}}return D}n.createEmptyGrid=a;function c(I,T,D,F){const z=e[F];Object.entries(D[F]).forEach(([Y,B])=>{const{row:we,col:V,clue:k,answer:x}=B;for(let N=0;N<x.length;N++){const O=we+(z.primary==="row"?N:0),j=V+(z.primary==="col"?N:0),R=I[O][j];R.used=!0,R.answer=x[N],R[F]=Y,N===0&&(R.number=Y)}T[F].push({number:Y,clue:k,answer:x,col:V,row:we})}),T[F].sort(f)}n.fillClues=c;function d(I,T){const D=o(I,"across"),F=o(I,"down");let z=Math.max(D.row,F.row)+1,Y=Math.max(D.col,F.col)+1;if(!T){const V=Math.max(z,Y);z=V,Y=V}const B=a(z,Y),we={across:[],down:[]};return c(B,we,I,"across"),c(B,we,I,"down"),{rows:z,cols:Y,gridData:B,clues:we}}n.createGridData=d;function f(I,T){const D=Number.parseInt(I.number,10),F=Number.parseInt(T.number,10);return D-F}n.byNumber=f;function m(I){window.localStorage&&window.localStorage.removeItem(I)}n.clearGuesses=m;function v(I,T){const{localStorage:D}=window;if(!D)return;const F=E(I),z={date:Date.now(),guesses:F};D.setItem(T,JSON.stringify(z))}n.saveGuesses=v;function E(I){return I.reduce((D,F,z)=>F.reduce((Y,B,we)=>{var V;const{guess:k}=B;return k!==""&&(Y[`${z}_${we}`]=(V=B.guess)!==null&&V!==void 0?V:""),Y},D),{})}n.serializeGuesses=E;function w(I,T){const{localStorage:D}=window;if(!D)return;const F=D.getItem(T);if(!F)return;const z=JSON.parse(F);A(I,z.guesses)}n.loadGuesses=w;function A(I,T){Object.entries(T).forEach(([D,F])=>{const[z,Y]=D.split("_"),B=parseInt(z,10),we=parseInt(Y,10);B<=I.length-1&&we<=I[0].length-1&&(I[B][we].guess=F)})}n.deserializeGuesses=A;function C(I,T){const D=[];return n.bothDirections.forEach(F=>{const z=t(F);Object.entries(I[F]).forEach(([Y,B])=>{const{row:we,col:V}=B;let k=!0;for(let x=0;x<B.answer.length;x++){const N=z?we:we+x,O=z?V+x:V;if(T[N][O].guess!==B.answer[x]){k=!1;break}}k&&D.push([F,Y,B.answer])})}),D}n.findCorrectAnswers=C}(lp)),lp}var Iw;function QT(){return Iw||(Iw=1,function(n){var e=Or&&Or.__createBinding||(Object.create?function(T,D,F,z){z===void 0&&(z=F);var Y=Object.getOwnPropertyDescriptor(D,F);(!Y||("get"in Y?!D.__esModule:Y.writable||Y.configurable))&&(Y={enumerable:!0,get:function(){return D[F]}}),Object.defineProperty(T,z,Y)}:function(T,D,F,z){z===void 0&&(z=F),T[z]=D[F]}),t=Or&&Or.__setModuleDefault||(Object.create?function(T,D){Object.defineProperty(T,"default",{enumerable:!0,value:D})}:function(T,D){T.default=D}),i=Or&&Or.__importStar||function(T){if(T&&T.__esModule)return T;var D={};if(T!=null)for(var F in T)F!=="default"&&Object.prototype.hasOwnProperty.call(T,F)&&e(D,T,F);return t(D,T),D},o=Or&&Or.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(n,"__esModule",{value:!0}),n.crosswordProviderPropTypes=void 0;const a=fo(),c=i($r()),d=o(wo()),f=o(WD()),m=Ha,v=Ga(),E=qD(),w=HD(),A="guesses";n.crosswordProviderPropTypes={data:E.cluesInputShapeOriginal.isRequired,theme:d.default.shape({allowNonSquare:d.default.bool,columnBreakpoint:d.default.string,gridBackground:d.default.string,cellBackground:d.default.string,cellBorder:d.default.string,textColor:d.default.string,numberColor:d.default.string,focusBackground:d.default.string,highlightBackground:d.default.string}),useStorage:d.default.bool,storageKey:d.default.string,onAnswerComplete:d.default.func,onAnswerCorrect:d.default.func,onCorrect:d.default.func,onAnswerIncorrect:d.default.func,onLoadedCorrect:d.default.func,onCrosswordComplete:d.default.func,onCrosswordCorrect:d.default.func,onCellChange:d.default.func,onClueSelected:d.default.func,children:d.default.node};const C={allowNonSquare:!1,columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},I=c.default.forwardRef(({data:T,theme:D,onAnswerComplete:F,onAnswerCorrect:z,onCorrect:Y,onAnswerIncorrect:B,onLoadedCorrect:we,onCrosswordComplete:V,onCrosswordCorrect:k,onCellChange:x,onClueSelected:N,useStorage:O,storageKey:j,children:R},de)=>{const pe=(0,c.useContext)(m.ThemeContext),ge=(0,c.useMemo)(()=>Object.assign(Object.assign(Object.assign({},C),pe),D),[pe,D]),{rows:Ee,cols:Q,gridData:ye,clues:b}=(0,c.useMemo)(()=>{var re;return(0,w.createGridData)(T,(re=ge.allowNonSquare)!==null&&re!==void 0?re:!1)},[T,ge.allowNonSquare]),[ne,ee]=(0,c.useState)([]),[X,ue]=(0,c.useState)(),ke=(0,c.useRef)(null),[G,oe]=(0,c.useState)(!1),[K,Ne]=(0,c.useState)(0),[fe,ae]=(0,c.useState)(0),[xe,Ye]=(0,c.useState)("across"),[nt,Ge]=(0,c.useState)("1"),[tt,He]=(0,c.useState)(null),[ut,wt]=(0,c.useState)([]),Xe=(0,c.useCallback)((re,ve)=>re>=0&&re<Ee&&ve>=0&&ve<Q?ne[re][ve]:{row:re,col:ve,used:!1,outOfBounds:!0},[Q,ne,Ee]),Nt=(0,c.useCallback)((re,ve,Se)=>{const Ve=Xe(re,ve);if(!Ve.used)throw new Error("unexpected setCellCharacter call");Ve.guess!==Se&&(ee((0,f.default)(Je=>{Je[re][ve].guess=Se})),wt((0,f.default)(Je=>{Je.push({row:re,col:ve})})),x&&x(re,ve,Se))},[Xe,x]),wn=(0,c.useCallback)((re,ve,Se,Ve)=>{F&&F(re,ve,Se,Ve),Se?(z&&z(re,ve,Ve),Y&&Y(re,ve,Ve)):B&&B(re,ve,Ve)},[F,z,B,Y]),zt=(0,c.useCallback)((re,ve)=>{const Se=Xe(re,ve);if(!Se.used)throw new Error("unexpected unused cell");w.bothDirections.forEach(Ve=>{const Je=(0,w.isAcross)(Ve),rt=Se[Ve];if(!rt)return;const yt=T[Ve][rt];let Tt=!0,Hn=!0;for(let Qt=0;Qt<yt.answer.length;Qt++){const Gn=Xe(yt.row+(Je?0:Qt),yt.col+(Je?Qt:0));if(!Gn.guess){Tt=!1,Hn=!1;break}Gn.guess!==Gn.answer&&(Hn=!1)}ue((0,f.default)(Qt=>{if(Qt){const Gn=Qt[Ve].find(Ut=>Ut.number===rt);Gn&&(Gn.complete=Tt,Gn.correct=Hn)}})),Tt&&wn(Ve,rt,Hn,yt.answer)})},[T,Xe,wn]);(0,c.useEffect)(()=>{ut.length!==0&&(ut.forEach(({row:re,col:ve})=>zt(re,ve)),wt([]))},[ut,zt]);const{crosswordComplete:Qe,crosswordCorrect:ht}=(0,c.useMemo)(()=>{const re=!!(X&&w.bothDirections.every(Se=>X[Se].every(Ve=>Ve.complete))),ve=re&&!!(X&&w.bothDirections.every(Se=>X[Se].every(Ve=>Ve.correct)));return{crosswordComplete:re,crosswordCorrect:ve}},[X]);(0,c.useEffect)(()=>{Qe&&(V&&V(ht),k&&k(ht))},[Qe,ht,V,k]);const gt=(0,c.useCallback)(()=>{ke.current?(ke.current(),oe(!0)):console.warn("CrosswordProvider: focus() has no registered handler to call!")},[]),L=(0,c.useCallback)((re,ve,Se)=>{var Ve;let Je=Se??xe;const rt=Xe(re,ve);return rt.used?(rt[Je]||(Je=(0,w.otherDirection)(Je)),Ne(re),ae(ve),Ye(Je),Ge((Ve=rt[Je])!==null&&Ve!==void 0?Ve:""),rt):!1},[xe,Xe]),H=(0,c.useCallback)((re,ve)=>{let Se;return re!==0&&ve===0?Se="down":re===0&&ve!==0&&(Se="across"),L(K+re,fe+ve,Se)},[K,fe,L]),ce=(0,c.useCallback)(()=>{const re=(0,w.isAcross)(xe);H(re?0:1,re?1:0)},[xe,H]),ie=(0,c.useCallback)(()=>{const re=(0,w.isAcross)(xe);H(re?0:-1,re?-1:0)},[xe,H]),Ae=(0,c.useCallback)(re=>{Nt(K,fe,re.toUpperCase()),ce()},[K,fe,Nt,ce]),De=(0,c.useCallback)(re=>{var ve;if(re.ctrlKey||re.altKey||re.metaKey)return;let Se=!0;const{key:Ve}=re;switch(Ve){case"ArrowUp":H(-1,0);break;case"ArrowDown":H(1,0);break;case"ArrowLeft":H(0,-1);break;case"ArrowRight":H(0,1);break;case" ":case"Tab":{const Je=(0,w.otherDirection)(xe),rt=Xe(K,fe);rt[Je]&&(Ye(Je),Ge((ve=rt[Je])!==null&&ve!==void 0?ve:""));break}case"Backspace":case"Delete":{Nt(K,fe,""),Ve==="Backspace"&&ie();break}case"Home":case"End":{const Je=T[xe][nt],{answer:{length:rt}}=Je;let{row:yt,col:Tt}=Je;Ve==="End"&&((0,w.isAcross)(xe)?Tt+=rt-1:yt+=rt-1),L(yt,Tt);break}default:if(Ve.length!==1){Se=!1;break}Ae(Ve);break}Se&&re.preventDefault()},[H,Ae,xe,Xe,K,fe,Nt,ie,T,nt,L]),je=(0,c.useCallback)(re=>{re.preventDefault(),He(re.target.value)},[]);(0,c.useEffect)(()=>{tt&&(Ae(tt[0]),He(tt.length===1?null:tt.substring(1)))},[tt,Ae]),(0,c.useEffect)(()=>{const re=ye.map(Se=>Se.map(Ve=>Object.assign({},Ve))),ve={across:b.across.map(Se=>Object.assign({},Se)),down:b.down.map(Se=>Object.assign({},Se))};O&&(0,w.loadGuesses)(re,j||A),ue(ve),ee(re),O&&wt(w.bothDirections.flatMap(Se=>ve[Se].map(({row:Ve,col:Je})=>({row:Ve,col:Je})))),Ne(0),ae(0),Ye("across"),Ge("1")},[b,ye,j,O]),(0,c.useEffect)(()=>{ne===null||!O||(0,w.saveGuesses)(ne,j||A)},[ne,j,O]);const Ie=(0,c.useCallback)(re=>{var ve;if(re.used){const{row:Se,col:Ve}=re,Je=(0,w.otherDirection)(xe);Ne(Se),ae(Ve);let rt=xe;(!re[xe]||G&&Se===K&&Ve===fe&&re[Je])&&(Ye(Je),rt=Je),Ge((ve=re[rt])!==null&&ve!==void 0?ve:"")}gt()},[xe,gt,G,fe,K]),Ce=(0,c.useCallback)(()=>{var re;const ve=(0,w.otherDirection)(xe),Se=Xe(K,fe);let Ve=xe;G&&Se[ve]&&(Ye(ve),Ve=ve),Ge((re=Se[Ve])!==null&&re!==void 0?re:""),gt()},[xe,gt,G,fe,K,Xe]),he=(0,c.useCallback)((re,ve)=>{const Se=X==null?void 0:X[re].find(Ve=>Ve.number===ve);Se&&(L(Se.row,Se.col,re),gt(),N&&N(re,ve))},[X,gt,L,N]),me=(0,c.useCallback)(re=>{ke.current=re},[]);(0,c.useImperativeHandle)(de,()=>({focus:gt,reset:()=>{ee((0,f.default)(re=>{re.forEach(ve=>{ve.forEach(Se=>{Se.used&&(Se.guess="")})})})),ue((0,f.default)(re=>{w.bothDirections.forEach(ve=>{var Se;(Se=re==null?void 0:re[ve])===null||Se===void 0||Se.forEach(Ve=>{delete Ve.complete,delete Ve.correct})})})),O&&(0,w.clearGuesses)(j||A)},fillAllAnswers:()=>{if(ee((0,f.default)(re=>{re.forEach(ve=>{ve.forEach(Se=>{Se.used&&(Se.guess=Se.answer)})})})),ue((0,f.default)(re=>{w.bothDirections.forEach(ve=>{re==null||re[ve].forEach(Se=>{Se.complete=!0,Se.correct=!0})})})),we){const re=[];w.bothDirections.forEach(ve=>{X==null||X[ve].forEach(({number:Se,answer:Ve})=>{re.push([ve,Se,Ve])})}),we(re)}},isCrosswordCorrect:()=>ht,setGuess:(re,ve,Se)=>{Nt(re,ve,Se.toUpperCase())}}),[X,ht,gt,we,Nt,j,O]);const Le=(0,c.useMemo)(()=>({rows:Ee,cols:Q,gridData:ne,clues:X,handleInputKeyDown:De,handleInputChange:je,handleCellClick:Ie,handleInputClick:Ce,handleClueSelected:he,registerFocusHandler:me,focused:G,selectedPosition:{row:K,col:fe},selectedDirection:xe,selectedNumber:nt,crosswordCorrect:ht}),[Ee,Q,ne,X,De,je,Ie,Ce,he,me,G,K,fe,xe,nt,ht]);return(0,a.jsx)(m.ThemeProvider,Object.assign({theme:ge},{children:(0,a.jsx)(v.CrosswordContext.Provider,Object.assign({value:Le},{children:R}))}))});n.default=I,I.displayName="CrosswordProvider",I.propTypes=n.crosswordProviderPropTypes,I.defaultProps={theme:void 0,useStorage:!0,storageKey:void 0,onAnswerComplete:void 0,onAnswerCorrect:void 0,onCorrect:void 0,onAnswerIncorrect:void 0,onLoadedCorrect:void 0,onCrosswordComplete:void 0,onCrosswordCorrect:void 0,onCellChange:void 0,onClueSelected:void 0,children:void 0}}(Or)),Or}var fr={},Cw;function YT(){if(Cw)return fr;Cw=1;var n=fr&&fr.__createBinding||(Object.create?function(C,I,T,D){D===void 0&&(D=T);var F=Object.getOwnPropertyDescriptor(I,T);(!F||("get"in F?!I.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return I[T]}}),Object.defineProperty(C,D,F)}:function(C,I,T,D){D===void 0&&(D=T),C[D]=I[T]}),e=fr&&fr.__setModuleDefault||(Object.create?function(C,I){Object.defineProperty(C,"default",{enumerable:!0,value:I})}:function(C,I){C.default=I}),t=fr&&fr.__importStar||function(C){if(C&&C.__esModule)return C;var I={};if(C!=null)for(var T in C)T!=="default"&&Object.prototype.hasOwnProperty.call(C,T)&&n(I,C,T);return e(I,C),I},i=fr&&fr.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(fr,"__esModule",{value:!0});const o=fo(),a=$r(),c=i(wo()),d=t(Ha),f=i(HT()),m=Ga(),v={columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},E=d.default.div.attrs(()=>({className:"crossword grid"}))`
  /* position: relative; */
  /* min-width: 20rem; */
  /* max-width: 60rem; Should the size matter? */
  width: auto;
  flex: 2 1 50%;
`,w={theme:c.default.shape({columnBreakpoint:c.default.string,gridBackground:c.default.string,cellBackground:c.default.string,cellBorder:c.default.string,textColor:c.default.string,numberColor:c.default.string,focusBackground:c.default.string,highlightBackground:c.default.string})};function A({theme:C}){const{rows:I,cols:T,gridData:D,handleInputKeyDown:F,handleInputChange:z,handleCellClick:Y,handleInputClick:B,registerFocusHandler:we,focused:V,selectedPosition:{row:k,col:x},selectedDirection:N,selectedNumber:O}=(0,a.useContext)(m.CrosswordContext),j=(0,a.useRef)(null),R=(0,a.useContext)(d.ThemeContext),de=(0,a.useCallback)(()=>{var oe;(oe=j.current)===null||oe===void 0||oe.focus()},[]);(0,a.useEffect)(()=>(we(de),()=>{we(null)}),[de,we]);const pe=10,ge=.125,Ee=pe-ge*2,Q=pe/2,ye=Ee*.7,b=(0,a.useMemo)(()=>({cellSize:pe,cellPadding:ge,cellInner:Ee,cellHalf:Q,fontSize:ye}),[pe,ge,Ee,Q,ye]),ne=(0,a.useMemo)(()=>I*pe,[I]),ee=(0,a.useMemo)(()=>T*pe,[T]),X=(0,a.useMemo)(()=>100/T,[T]),ue=(0,a.useMemo)(()=>100/I,[I]),ke=(0,a.useMemo)(()=>({position:"absolute",top:`calc(${k*ue*.995}% + 2px)`,left:`calc(${x*X}% + 2px)`,width:`calc(${X}% - 4px)`,height:`calc(${ue}% - 4px)`,fontSize:`${ye*6}px`,textAlign:"center",textAnchor:"middle",backgroundColor:"transparent",caretColor:"transparent",margin:0,padding:0,border:0,cursor:"default"}),[X,ue,k,x,ye]),G=(0,a.useMemo)(()=>Object.assign(Object.assign(Object.assign({},v),R),C),[R,C]);return(0,o.jsx)(m.CrosswordSizeContext.Provider,Object.assign({value:b},{children:(0,o.jsx)(d.ThemeProvider,Object.assign({theme:G},{children:(0,o.jsx)(E,{children:(0,o.jsxs)("div",Object.assign({style:{margin:0,padding:0,position:"relative"}},{children:[(0,o.jsxs)("svg",Object.assign({viewBox:`0 0 ${ee} ${ne}`},{children:[(0,o.jsx)("rect",{x:0,y:0,width:ee,height:ne,fill:G.gridBackground}),D.flatMap((oe,K)=>oe.map((Ne,fe)=>Ne.used?(0,o.jsx)(f.default,{cellData:Ne,focus:V&&K===k&&fe===x,highlight:V&&!!O&&Ne[N]===O,onClick:Y},`R${K}C${fe}`):void 0))]})),(0,o.jsx)("input",{ref:j,"aria-label":"crossword-input",type:"text",onClick:B,onKeyDown:F,onChange:z,value:"",autoComplete:"off",spellCheck:"false",autoCorrect:"off",style:ke})]}))})}))}))}return fr.default=A,A.propTypes=w,A.defaultProps={theme:null},fr}var Aw;function GD(){if(Aw)return Bn;Aw=1;var n=Bn&&Bn.__createBinding||(Object.create?function(I,T,D,F){F===void 0&&(F=D);var z=Object.getOwnPropertyDescriptor(T,D);(!z||("get"in z?!T.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return T[D]}}),Object.defineProperty(I,F,z)}:function(I,T,D,F){F===void 0&&(F=D),I[F]=T[D]}),e=Bn&&Bn.__setModuleDefault||(Object.create?function(I,T){Object.defineProperty(I,"default",{enumerable:!0,value:T})}:function(I,T){I.default=T}),t=Bn&&Bn.__importStar||function(I){if(I&&I.__esModule)return I;var T={};if(I!=null)for(var D in I)D!=="default"&&Object.prototype.hasOwnProperty.call(I,D)&&n(T,I,D);return e(T,I),T},i=Bn&&Bn.__rest||function(I,T){var D={};for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&T.indexOf(F)<0&&(D[F]=I[F]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,F=Object.getOwnPropertySymbols(I);z<F.length;z++)T.indexOf(F[z])<0&&Object.prototype.propertyIsEnumerable.call(I,F[z])&&(D[F[z]]=I[F[z]]);return D},o=Bn&&Bn.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(Bn,"__esModule",{value:!0});const a=fo(),c=t($r()),d=o(wo()),f=o(Ha),m=t(QT()),v=o(YT()),E=o(KT()),w=f.default.div.attrs(()=>({className:"clues"}))`
  padding: 0 1em;
  flex: 1 2 25%;

  @media (max-width: ${I=>I.theme.columnBreakpoint}) {
    margin-top: 2em;
  }

  .direction {
    margin-bottom: 2em;
    /* padding: 0 1em;
    flex: 1 1 20%; */

    .header {
      margin-top: 0;
      margin-bottom: 0.5em;
    }

    div {
      margin-top: 0.5em;
    }
  }
`,A=Object.assign(Object.assign({},m.crosswordProviderPropTypes),{acrossLabel:d.default.string,downLabel:d.default.string});delete A.children;const C=c.default.forwardRef((I,T)=>{var{acrossLabel:D,downLabel:F}=I,z=i(I,["acrossLabel","downLabel"]);const Y=(0,c.useRef)(null);return(0,c.useImperativeHandle)(T,()=>({focus:()=>{var B;return(B=Y.current)===null||B===void 0?void 0:B.focus()},reset:()=>{var B;return(B=Y.current)===null||B===void 0?void 0:B.reset()},fillAllAnswers:()=>{var B;return(B=Y.current)===null||B===void 0?void 0:B.fillAllAnswers()},isCrosswordCorrect:()=>{var B;return!!(!((B=Y.current)===null||B===void 0)&&B.isCrosswordCorrect())},setGuess:(B,we,V)=>{var k;return(k=Y.current)===null||k===void 0?void 0:k.setGuess(B,we,V)}}),[]),(0,a.jsxs)(m.default,Object.assign({},z,{ref:Y},{children:[(0,a.jsx)(v.default,{}),(0,a.jsxs)(w,{children:[(0,a.jsx)(E.default,{direction:"across",label:D}),(0,a.jsx)(E.default,{direction:"down",label:F})]})]}))});return C.displayName="Crossword",C.propTypes=A,C.defaultProps=Object.assign(Object.assign({},m.default.defaultProps),{acrossLabel:void 0,downLabel:void 0}),Bn.default=C,Bn}var Lr={},Pw;function KD(){if(Pw)return Lr;Pw=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.convertIpuz=Lr.isSupportedIpuz=Lr.isIpuzData=Lr.useIpuz=void 0;const n=$r(),e="http://ipuz.org",t=`${e}/v`,i=2,o=`${e}/crossword#`,a=1,c={Across:"across",Down:"down"};function d(E){return(0,n.useMemo)(()=>f(E)?m(E)?v(E):(console.error("useIpuz() was not given supported IPUZ data"),null):(console.error("useIpuz() was not given IPUZ data"),null),[E])}Lr.useIpuz=d;function f(E){return!!E&&typeof E=="object"&&"version"in E&&typeof E.version=="string"&&E.version.startsWith(t)}Lr.isIpuzData=f;function m(E){return!(Number.parseInt(E.version.substring(t.length),10)>i||E.kind.length!==1||!E.kind[0].startsWith(o)||Number.parseInt(E.kind[0].substring(o.length),10)>a)}Lr.isSupportedIpuz=m;function v(E){const w=E.puzzle.reduce((C,I,T)=>I.reduce((D,F,z)=>{var Y;const B=typeof F=="object"?(Y=F==null?void 0:F.cell)!==null&&Y!==void 0?Y:-1:F;return D[B.toString()]={row:T,col:z},D},C),{});return Object.fromEntries(Object.entries(E.clues).map(([C,I])=>{const T=I.reduce((D,[F,z])=>{const{row:Y,col:B}=w[F.toString()];let we="";const V=C==="Across"?0:1,k=C==="Across"?1:0;for(let x=Y,N=B;x<E.dimensions.height&&N<E.dimensions.width;x+=V,N+=k){const O=E.solution[x][N];if(!O||O==="#")break;we+=O}return D[F.toString()]={clue:z,answer:we,row:Y,col:B},D},{});return[c[C],T]}))}return Lr.convertIpuz=v,Lr}var Rw;function QD(){return Rw||(Rw=1,function(n){var e=Dl&&Dl.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(n,"__esModule",{value:!0}),n.useIpuz=n.ThemeProvider=n.CrosswordSizeContext=n.CrosswordContext=n.CrosswordProvider=n.CrosswordGrid=n.Crossword=n.DirectionClues=n.Clue=n.Cell=void 0;const t=Ha;Object.defineProperty(n,"ThemeProvider",{enumerable:!0,get:function(){return t.ThemeProvider}});const i=e(HT());n.Cell=i.default;const o=e(GT());n.Clue=o.default;const a=e(KT());n.DirectionClues=a.default;const c=e(GD());n.Crossword=c.default;const d=e(YT());n.CrosswordGrid=d.default;const f=e(QT());n.CrosswordProvider=f.default;const m=Ga();Object.defineProperty(n,"CrosswordContext",{enumerable:!0,get:function(){return m.CrosswordContext}}),Object.defineProperty(n,"CrosswordSizeContext",{enumerable:!0,get:function(){return m.CrosswordSizeContext}});const v=KD();Object.defineProperty(n,"useIpuz",{enumerable:!0,get:function(){return v.useIpuz}}),n.default=c.default}(Dl)),Dl}var Hp=QD();const YD=Zl(Hp);var nh={exports:{}},JD=nh.exports,kw;function XD(){return kw||(kw=1,function(n,e){(function(t,i){n.exports=i()})(JD,function(){var t=1e3,i=6e4,o=36e5,a="millisecond",c="second",d="minute",f="hour",m="day",v="week",E="month",w="quarter",A="year",C="date",I="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(de){var pe=["th","st","nd","rd"],ge=de%100;return"["+de+(pe[(ge-20)%10]||pe[ge]||pe[0])+"]"}},z=function(de,pe,ge){var Ee=String(de);return!Ee||Ee.length>=pe?de:""+Array(pe+1-Ee.length).join(ge)+de},Y={s:z,z:function(de){var pe=-de.utcOffset(),ge=Math.abs(pe),Ee=Math.floor(ge/60),Q=ge%60;return(pe<=0?"+":"-")+z(Ee,2,"0")+":"+z(Q,2,"0")},m:function de(pe,ge){if(pe.date()<ge.date())return-de(ge,pe);var Ee=12*(ge.year()-pe.year())+(ge.month()-pe.month()),Q=pe.clone().add(Ee,E),ye=ge-Q<0,b=pe.clone().add(Ee+(ye?-1:1),E);return+(-(Ee+(ge-Q)/(ye?Q-b:b-Q))||0)},a:function(de){return de<0?Math.ceil(de)||0:Math.floor(de)},p:function(de){return{M:E,y:A,w:v,d:m,D:C,h:f,m:d,s:c,ms:a,Q:w}[de]||String(de||"").toLowerCase().replace(/s$/,"")},u:function(de){return de===void 0}},B="en",we={};we[B]=F;var V="$isDayjsObject",k=function(de){return de instanceof j||!(!de||!de[V])},x=function de(pe,ge,Ee){var Q;if(!pe)return B;if(typeof pe=="string"){var ye=pe.toLowerCase();we[ye]&&(Q=ye),ge&&(we[ye]=ge,Q=ye);var b=pe.split("-");if(!Q&&b.length>1)return de(b[0])}else{var ne=pe.name;we[ne]=pe,Q=ne}return!Ee&&Q&&(B=Q),Q||!Ee&&B},N=function(de,pe){if(k(de))return de.clone();var ge=typeof pe=="object"?pe:{};return ge.date=de,ge.args=arguments,new j(ge)},O=Y;O.l=x,O.i=k,O.w=function(de,pe){return N(de,{locale:pe.$L,utc:pe.$u,x:pe.$x,$offset:pe.$offset})};var j=function(){function de(ge){this.$L=x(ge.locale,null,!0),this.parse(ge),this.$x=this.$x||ge.x||{},this[V]=!0}var pe=de.prototype;return pe.parse=function(ge){this.$d=function(Ee){var Q=Ee.date,ye=Ee.utc;if(Q===null)return new Date(NaN);if(O.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var b=Q.match(T);if(b){var ne=b[2]-1||0,ee=(b[7]||"0").substring(0,3);return ye?new Date(Date.UTC(b[1],ne,b[3]||1,b[4]||0,b[5]||0,b[6]||0,ee)):new Date(b[1],ne,b[3]||1,b[4]||0,b[5]||0,b[6]||0,ee)}}return new Date(Q)}(ge),this.init()},pe.init=function(){var ge=this.$d;this.$y=ge.getFullYear(),this.$M=ge.getMonth(),this.$D=ge.getDate(),this.$W=ge.getDay(),this.$H=ge.getHours(),this.$m=ge.getMinutes(),this.$s=ge.getSeconds(),this.$ms=ge.getMilliseconds()},pe.$utils=function(){return O},pe.isValid=function(){return this.$d.toString()!==I},pe.isSame=function(ge,Ee){var Q=N(ge);return this.startOf(Ee)<=Q&&Q<=this.endOf(Ee)},pe.isAfter=function(ge,Ee){return N(ge)<this.startOf(Ee)},pe.isBefore=function(ge,Ee){return this.endOf(Ee)<N(ge)},pe.$g=function(ge,Ee,Q){return O.u(ge)?this[Ee]:this.set(Q,ge)},pe.unix=function(){return Math.floor(this.valueOf()/1e3)},pe.valueOf=function(){return this.$d.getTime()},pe.startOf=function(ge,Ee){var Q=this,ye=!!O.u(Ee)||Ee,b=O.p(ge),ne=function(Ne,fe){var ae=O.w(Q.$u?Date.UTC(Q.$y,fe,Ne):new Date(Q.$y,fe,Ne),Q);return ye?ae:ae.endOf(m)},ee=function(Ne,fe){return O.w(Q.toDate()[Ne].apply(Q.toDate("s"),(ye?[0,0,0,0]:[23,59,59,999]).slice(fe)),Q)},X=this.$W,ue=this.$M,ke=this.$D,G="set"+(this.$u?"UTC":"");switch(b){case A:return ye?ne(1,0):ne(31,11);case E:return ye?ne(1,ue):ne(0,ue+1);case v:var oe=this.$locale().weekStart||0,K=(X<oe?X+7:X)-oe;return ne(ye?ke-K:ke+(6-K),ue);case m:case C:return ee(G+"Hours",0);case f:return ee(G+"Minutes",1);case d:return ee(G+"Seconds",2);case c:return ee(G+"Milliseconds",3);default:return this.clone()}},pe.endOf=function(ge){return this.startOf(ge,!1)},pe.$set=function(ge,Ee){var Q,ye=O.p(ge),b="set"+(this.$u?"UTC":""),ne=(Q={},Q[m]=b+"Date",Q[C]=b+"Date",Q[E]=b+"Month",Q[A]=b+"FullYear",Q[f]=b+"Hours",Q[d]=b+"Minutes",Q[c]=b+"Seconds",Q[a]=b+"Milliseconds",Q)[ye],ee=ye===m?this.$D+(Ee-this.$W):Ee;if(ye===E||ye===A){var X=this.clone().set(C,1);X.$d[ne](ee),X.init(),this.$d=X.set(C,Math.min(this.$D,X.daysInMonth())).$d}else ne&&this.$d[ne](ee);return this.init(),this},pe.set=function(ge,Ee){return this.clone().$set(ge,Ee)},pe.get=function(ge){return this[O.p(ge)]()},pe.add=function(ge,Ee){var Q,ye=this;ge=Number(ge);var b=O.p(Ee),ne=function(ue){var ke=N(ye);return O.w(ke.date(ke.date()+Math.round(ue*ge)),ye)};if(b===E)return this.set(E,this.$M+ge);if(b===A)return this.set(A,this.$y+ge);if(b===m)return ne(1);if(b===v)return ne(7);var ee=(Q={},Q[d]=i,Q[f]=o,Q[c]=t,Q)[b]||1,X=this.$d.getTime()+ge*ee;return O.w(X,this)},pe.subtract=function(ge,Ee){return this.add(-1*ge,Ee)},pe.format=function(ge){var Ee=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||I;var ye=ge||"YYYY-MM-DDTHH:mm:ssZ",b=O.z(this),ne=this.$H,ee=this.$m,X=this.$M,ue=Q.weekdays,ke=Q.months,G=Q.meridiem,oe=function(fe,ae,xe,Ye){return fe&&(fe[ae]||fe(Ee,ye))||xe[ae].slice(0,Ye)},K=function(fe){return O.s(ne%12||12,fe,"0")},Ne=G||function(fe,ae,xe){var Ye=fe<12?"AM":"PM";return xe?Ye.toLowerCase():Ye};return ye.replace(D,function(fe,ae){return ae||function(xe){switch(xe){case"YY":return String(Ee.$y).slice(-2);case"YYYY":return O.s(Ee.$y,4,"0");case"M":return X+1;case"MM":return O.s(X+1,2,"0");case"MMM":return oe(Q.monthsShort,X,ke,3);case"MMMM":return oe(ke,X);case"D":return Ee.$D;case"DD":return O.s(Ee.$D,2,"0");case"d":return String(Ee.$W);case"dd":return oe(Q.weekdaysMin,Ee.$W,ue,2);case"ddd":return oe(Q.weekdaysShort,Ee.$W,ue,3);case"dddd":return ue[Ee.$W];case"H":return String(ne);case"HH":return O.s(ne,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return Ne(ne,ee,!0);case"A":return Ne(ne,ee,!1);case"m":return String(ee);case"mm":return O.s(ee,2,"0");case"s":return String(Ee.$s);case"ss":return O.s(Ee.$s,2,"0");case"SSS":return O.s(Ee.$ms,3,"0");case"Z":return b}return null}(fe)||b.replace(":","")})},pe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},pe.diff=function(ge,Ee,Q){var ye,b=this,ne=O.p(Ee),ee=N(ge),X=(ee.utcOffset()-this.utcOffset())*i,ue=this-ee,ke=function(){return O.m(b,ee)};switch(ne){case A:ye=ke()/12;break;case E:ye=ke();break;case w:ye=ke()/3;break;case v:ye=(ue-X)/6048e5;break;case m:ye=(ue-X)/864e5;break;case f:ye=ue/o;break;case d:ye=ue/i;break;case c:ye=ue/t;break;default:ye=ue}return Q?ye:O.a(ye)},pe.daysInMonth=function(){return this.endOf(E).$D},pe.$locale=function(){return we[this.$L]},pe.locale=function(ge,Ee){if(!ge)return this.$L;var Q=this.clone(),ye=x(ge,Ee,!0);return ye&&(Q.$L=ye),Q},pe.clone=function(){return O.w(this.$d,this)},pe.toDate=function(){return new Date(this.valueOf())},pe.toJSON=function(){return this.isValid()?this.toISOString():null},pe.toISOString=function(){return this.$d.toISOString()},pe.toString=function(){return this.$d.toUTCString()},de}(),R=j.prototype;return N.prototype=R,[["$ms",a],["$s",c],["$m",d],["$H",f],["$W",m],["$M",E],["$y",A],["$D",C]].forEach(function(de){R[de[1]]=function(pe){return this.$g(pe,de[0],de[1])}}),N.extend=function(de,pe){return de.$i||(de(pe,j,N),de.$i=!0),N},N.locale=x,N.isDayjs=k,N.unix=function(de){return N(1e3*de)},N.en=we[B],N.Ls=we,N.p={},N})}(nh)),nh.exports}var ZD=XD();const os=Zl(ZD);function eN(){const[n,e]=W.useState([]),[t,i]=W.useState(!1),o=tu(),{user:a}=_o(),[c,d]=W.useState(""),[f,m]=W.useState(""),[v,E]=W.useState(""),[w,A]=W.useState(""),[C,I]=W.useState(""),[T,D]=W.useState(""),[F,z]=W.useState(1),Y=25,[B,we]=W.useState(null),[V,k]=W.useState(null),[x,N]=W.useState(!0),[O,j]=W.useState(!1),[R,de]=W.useState({}),[pe,ge]=W.useState([]),[Ee,Q]=W.useState([]);W.useEffect(()=>{async function ae(){try{const xe=_a(mr(Dt,"fullPuzzles"),jp("title"),eh(100)),nt=(await Mr(xe)).docs.map(He=>({id:He.id,...He.data()})),Ge=new Set,tt=new Set;nt.forEach(He=>{const ut=ee(He);ut&&(Ge.add(ut),tt.add(Math.floor(ut/10)*10))}),ge(Array.from(Ge).sort((He,ut)=>ut-He)),Q(Array.from(tt).sort((He,ut)=>ut-He))}catch(xe){console.error("Error fetching filter options:",xe)}}ae(),ye(1,"reload")},[]);const ye=async(ae,xe="next")=>{i(!0);try{if(R[ae]&&xe!=="reload"){e(R[ae].puzzles),k(R[ae].firstDoc),we(R[ae].lastDoc),z(ae),N(R[ae].hasNext),j(ae>1),i(!1);return}let Ye=mr(Dt,"fullPuzzles"),nt=[];if(nt.push(jp("title")),c){const Xe=c.replace(/.$/,Nt=>String.fromCharCode(Nt.charCodeAt(0)+1));nt.push(Ti("title",">=",c)),nt.push(Ti("title","<",Xe))}f&&nt.push(Ti("year","==",Number(f))),xe==="next"&&B&&ae>1?(nt.push(IT(B)),nt.push(eh(Y))):xe==="prev"&&V&&ae<F?(nt.push(CT(V)),nt.push(ST(Y))):nt.push(eh(Y)),console.log("Query constraints:",nt.map(Xe=>Xe.type||Xe));const Ge=_a(Ye,...nt),tt=await Mr(Ge);if(console.log(`Retrieved ${tt.docs.length} documents`),tt.empty){N(!1),(xe==="reload"||xe==="next")&&e([]),i(!1);return}const He=tt.docs.map(Xe=>({id:Xe.id,...Xe.data()})),ut=tt.docs[tt.docs.length-1],wt=tt.docs[0];k(wt),we(ut),N(tt.docs.length===Y),j(ae>1),de(Xe=>({...Xe,[ae]:{puzzles:He,firstDoc:wt,lastDoc:ut,hasNext:tt.docs.length===Y}})),e(He),z(ae)}catch(Ye){console.error("Error fetching puzzles:",Ye)}finally{i(!1)}},b=()=>{!t&&x&&ye(F+1,"next")},ne=()=>{!t&&O&&ye(F-1,"prev")};W.useEffect(()=>{de({}),z(1),j(!1),ye(1,"reload")},[c,f,v,w,C,T]);function ee(ae){if(ae.year)return Number(ae.year);if(ae.date)return os(ae.date).year();if(ae.dateCreated)return os(ae.dateCreated).year()}function X(ae){const xe=ee(ae);return xe?Math.floor(xe/10)*10:void 0}function ue(ae){m(ae.target.value),ae.target.value&&(E(""),A(""),I(""))}function ke(ae){E(ae.target.value),ae.target.value&&(m(""),A(""),I(""))}function G(ae){A(ae.target.value),ae.target.value&&(m(""),E(""))}function oe(ae){I(ae.target.value),ae.target.value&&(m(""),E(""))}const K=n.filter(ae=>{if(c||f)return!0;if(v&&X(ae)!==Number(v)||w&&os(ae.dateCreated||ae.date).isBefore(os(w))||C&&os(ae.dateCreated||ae.date).isAfter(os(C)))return!1;if(T){const xe=os(ae.dateCreated||ae.date);if(!xe.isValid()||xe.format("dddd")!==T)return!1}return!0});async function Ne(ae){if(a)try{const xe=_a(mr(Dt,"premadeProgress"),Ti("userId","==",a.uid),Ti("fullPuzzleId","==",ae.id)),Ye=await Mr(xe);let nt;Ye.empty?nt=`${a.uid}_${ae.id}`:nt=Ye.docs[0].id;const Ge=[];await yu(_n(Dt,"premadeProgress",nt),{userId:a.uid,fullPuzzleId:ae.id,gridData:Ge,lastSaved:Ht.now()})}catch(xe){console.error("Error saving progress:",xe)}}function fe(ae){Ne(ae),sessionStorage.setItem("selectedFullPuzzle",JSON.stringify(ae)),o(`/crossworder/fullpuzzle/${ae.id}`)}return U.jsx("div",{className:"dashboard-container fade-in",style:{flexDirection:"column",alignItems:"stretch",maxHeight:"100%"},children:U.jsxs("div",{className:"dashboard-section",style:{marginBottom:0,maxWidth:1100,margin:"0 auto",width:"90%"},children:[U.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,alignItems:"flex-end",marginBottom:24,justifyContent:"space-between"},children:[U.jsx("div",{style:{flex:"1 1 200px"},children:U.jsxs("label",{style:{fontWeight:600},children:["Title",U.jsx("br",{}),U.jsx("input",{type:"text",value:c,onChange:ae=>d(ae.target.value),placeholder:"Search by title...",style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"}})]})}),U.jsx("div",{style:{flex:"1 1 120px"},children:U.jsxs("label",{style:{fontWeight:600},children:["Year",U.jsx("br",{}),U.jsxs("select",{value:f,onChange:ue,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"},children:[U.jsx("option",{value:"",children:"All"}),pe.map(ae=>U.jsx("option",{value:ae,children:ae},ae))]})]})}),U.jsx("div",{style:{flex:"1 1 120px"},children:U.jsxs("label",{style:{fontWeight:600},children:["Decade",U.jsx("br",{}),U.jsxs("select",{value:v,onChange:ke,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"},children:[U.jsx("option",{value:"",children:"All"}),Ee.map(ae=>U.jsxs("option",{value:ae,children:[ae,"s"]},ae))]})]})}),U.jsx("div",{style:{flex:"1 1 180px"},children:U.jsxs("label",{style:{fontWeight:600},children:["Date From",U.jsx("br",{}),U.jsx("input",{type:"date",value:w,onChange:G,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"}})]})}),U.jsx("div",{style:{flex:"1 1 180px"},children:U.jsxs("label",{style:{fontWeight:600},children:["Date To",U.jsx("br",{}),U.jsx("input",{type:"date",value:C,onChange:oe,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"}})]})}),U.jsx("div",{style:{flex:"1 1 140px"},children:U.jsxs("label",{style:{fontWeight:600},children:["Weekday",U.jsx("br",{}),U.jsxs("select",{value:T,onChange:ae=>D(ae.target.value),style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"},children:[U.jsx("option",{value:"",children:"All"}),U.jsx("option",{value:"Monday",children:"Monday"}),U.jsx("option",{value:"Tuesday",children:"Tuesday"}),U.jsx("option",{value:"Wednesday",children:"Wednesday"}),U.jsx("option",{value:"Thursday",children:"Thursday"}),U.jsx("option",{value:"Friday",children:"Friday"}),U.jsx("option",{value:"Saturday",children:"Saturday"}),U.jsx("option",{value:"Sunday",children:"Sunday"})]})]})})]}),U.jsx("div",{style:{maxHeight:"50vh",overflowX:"auto",overflowY:"auto",borderRadius:"8px",border:"1px solid var(--border)",padding:"6px",marginBottom:"4px",boxShadow:"inset 0 2px 6px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:U.jsx("div",{style:{flexGrow:1,minHeight:"300px"},children:t&&K.length===0?U.jsx("div",{children:"Loading puzzles..."}):U.jsx(U.Fragment,{children:K.length===0?U.jsx("div",{children:"No pre-made puzzles match your search."}):U.jsx("ul",{style:{paddingLeft:0,listStyle:"none",margin:0},children:K.map(ae=>U.jsxs("li",{style:{marginBottom:12,display:"flex",alignItems:"center",flexWrap:"wrap"},children:[U.jsx("span",{style:{fontWeight:600,fontSize:"1.1em",flex:"2 1 200px"},children:ae.title||ae.id}),ae.dateCreated||ae.date?U.jsx("span",{style:{marginLeft:12,color:"#645e4f",fontSize:"0.95em",flex:"1 1 100px"},children:os(ae.dateCreated||ae.date).format("MM-DD-YYYY")}):null,U.jsx("button",{style:{marginLeft:12,flex:"0 0 auto"},onClick:()=>fe(ae),children:"Load"})]},ae.id))})})})}),U.jsxs("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",marginTop:6,paddingTop:6,borderTop:"1px solid #eee"},children:[U.jsx("button",{onClick:ne,disabled:!O||t,style:{opacity:!O||t?.5:1,minWidth:"80px"},children:"Previous"}),U.jsx("div",{children:U.jsxs("span",{style:{fontSize:"0.9em",color:"#666"},children:["Page ",F,"  ",K.length," puzzles"]})}),U.jsx("button",{onClick:b,disabled:!x||t,style:{opacity:!x||t?.5:1,minWidth:"80px"},children:"Next"})]}),U.jsx("button",{style:{marginTop:8},onClick:()=>o("/crossworder/"),children:"Back to Dashboard"}),t&&U.jsx("div",{style:{position:"absolute",bottom:"32px",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(255,255,255,0.8)",padding:"10px 20px",borderRadius:"5px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Loading..."})]})})}const yn=[];for(let n=0;n<256;++n)yn.push((n+256).toString(16).slice(1));function tN(n,e=0){return(yn[n[e+0]]+yn[n[e+1]]+yn[n[e+2]]+yn[n[e+3]]+"-"+yn[n[e+4]]+yn[n[e+5]]+"-"+yn[n[e+6]]+yn[n[e+7]]+"-"+yn[n[e+8]]+yn[n[e+9]]+"-"+yn[n[e+10]]+yn[n[e+11]]+yn[n[e+12]]+yn[n[e+13]]+yn[n[e+14]]+yn[n[e+15]]).toLowerCase()}let up;const nN=new Uint8Array(16);function rN(){if(!up){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");up=crypto.getRandomValues.bind(crypto)}return up(nN)}const iN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xw={randomUUID:iN};function sN(n,e,t){var o;if(xw.randomUUID&&!n)return xw.randomUUID();n=n||{};const i=n.random??((o=n.rng)==null?void 0:o.call(n))??rN();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,tN(i)}function oN(){const{puzzleId:n}=zw(),{user:e}=_o(),[t,i]=W.useState(!1),[o,a]=W.useState(null),[c,d]=W.useState(null),[f,m]=W.useState(null),[v,E]=W.useState(!0),[w,A]=W.useState(null),[C,I]=W.useState(0),[T,D]=W.useState([]),F={gridBackground:"#222222",cellBackground:"#f6f6f6",cellBorder:"#121212",textColor:"#000000",numberColor:"#121212",columnBreakpoint:"768px"},z=rr.useRef(null),Y=W.useRef(null),B=W.useRef(null),we=(j,R)=>{console.log(`Attempting to scroll to ${j}-${R}`);const de=j==="across"?Y:B;if(!de.current){console.warn("Clue list ref is not available");return}const pe=de.current.querySelector(`[data-clue="${j}-${R}"]`);pe?(console.log(`Found clue element for ${j}-${R}, scrolling into view`),pe.scrollIntoView({behavior:"smooth",block:"center"})):console.warn(`Could not find clue element for ${j}-${R}`)},V=W.useCallback((j,R,de)=>{console.log(`Clue selected: ${j}-${R}`),setTimeout(()=>we(j,R),100)},[]);W.useEffect(()=>{async function j(){if(n){E(!0);try{const R=await co(_n(Dt,"fullPuzzles",n));R.exists()?m(R.data()):console.error("Puzzle not found in database:",n)}catch(R){console.error("Error fetching puzzle:",R)}finally{E(!1)}}}j()},[n]),W.useEffect(()=>{async function j(){if(!(!e||!n))try{const R=_a(mr(Dt,"premadeProgress"),Ti("userId","==",e.uid),Ti("fullPuzzleId","==",n)),de=await Mr(R);if(!de.empty){const pe=de.docs[0];A(pe.id);const ge=pe.data().gridData||[];D(ge)}}catch(R){console.error("Error fetching progress:",R)}}j()},[e,n]),W.useEffect(()=>{if(!v&&f&&T.length>0){const j=setTimeout(()=>{z.current&&z.current.setGuess&&T.forEach(R=>{try{z.current.setGuess(R.row,R.col,R.letter)}catch(de){console.error("Error restoring cell:",de)}})},1500);return()=>clearTimeout(j)}},[v,f,T]);const k=W.useCallback(async j=>{if(!(!e||!n||!f))try{i(!0),d(null);const R=j||T;let de=w;de||(de=sN(),A(de));const pe=Ht.now();await yu(_n(Dt,"premadeProgress",de),{userId:e.uid,fullPuzzleId:n,gridData:R,lastSaved:pe}),a(pe.toDate()),I(ge=>ge+1)}catch(R){console.error("Error saving progress:",R),d(R.message||"Failed to save progress")}finally{i(!1)}},[e,n,f,T,w]),x=(j,R,de)=>{D(pe=>{const ge=pe.filter(Ee=>!(Ee.row===j&&Ee.col===R));return de&&de.trim()!==""&&ge.push({row:j,col:R,letter:de}),clearTimeout(window.savePuzzleTimeout),window.savePuzzleTimeout=setTimeout(()=>{try{k(ge)}catch(Ee){console.error("Error in delayed save:",Ee)}},500),ge})},N=W.useCallback(()=>{const j=()=>{T.length>0&&z.current&&z.current.setGuess&&T.forEach(R=>{try{z.current.setGuess(R.row,R.col,R.letter)}catch(de){console.error("Error restoring cell:",de)}})};T.length>0&&z.current&&(setTimeout(j,500),setTimeout(j,1500))},[T]);if(v)return U.jsx("div",{children:"Loading puzzle..."});if(!f)return U.jsx("div",{children:"Puzzle not found. Please return to the dashboard and select a puzzle."});const O=f.data||f;return U.jsxs("div",{children:[U.jsx("h2",{style:{padding:"2px",margin:"0px",textAlign:"center"},children:f.title||"Pre-made Puzzle"}),U.jsxs("div",{style:{display:"flex",width:"100%",margin:"0 auto",padding:"2px"},children:[U.jsx(Hp.ThemeProvider,{theme:F,children:U.jsx(Hp.Crossword,{ref:z,data:O,onCellChange:x,onCrosswordComplete:()=>{},onReady:N,onClueSelected:V,gridData:T.reduce((j,R)=>(j[`${R.row}_${R.col}`]=R.letter,j),{}),useStorage:!1,storageKey:null})}),t&&U.jsx("div",{style:{fontSize:"0.9em",color:"#fff",background:"#4c7daf",padding:"8px 16px",position:"fixed",bottom:"20px",right:"20px",borderRadius:"4px",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"},children:"Saving progress..."})]}),U.jsxs("div",{style:{width:"300px",padding:"0 16px",overflowY:"auto",display:"flex",flexDirection:"column"},children:[U.jsxs("div",{children:[U.jsx("h3",{children:"Across"}),U.jsx("div",{ref:Y,style:{maxHeight:"40vh",overflowY:"auto",marginBottom:"20px"},children:O&&O.across&&Object.entries(O.across).map(([j,R])=>{const de=typeof R=="object"?R.clue||"":R;return U.jsxs("div",{"data-clue":`across-${j}`,style:{marginBottom:"8px"},children:[U.jsxs("strong",{children:[j,"."]})," ",de]},`across-${j}`)})})]}),U.jsxs("div",{children:[U.jsx("h3",{children:"Down"}),U.jsx("div",{ref:B,style:{maxHeight:"40vh",overflowY:"auto"},children:O&&O.down&&Object.entries(O.down).map(([j,R])=>{const de=typeof R=="object"?R.clue||"":R;return U.jsxs("div",{"data-clue":`down-${j}`,style:{marginBottom:"8px"},children:[U.jsxs("strong",{children:[j,"."]})," ",de]},`down-${j}`)})})]})]})]})}function aN(){const{user:n,logout:e}=_o(),[t,i]=W.useState(!0),[o,a]=W.useState(!1),[c,d]=W.useState([]),f=tu();W.useEffect(()=>{async function v(){if(i(!0),n){const E=_a(mr(Dt,"premadeProgress"),Ti("userId","==",n.uid));let A=(await Mr(E)).docs.map(I=>({...I.data(),id:I.id}));const C={};await Promise.all(A.map(async I=>{if(I.fullPuzzleId){const T=await co(_n(Dt,"fullPuzzles",I.fullPuzzleId));C[I.fullPuzzleId]=T.exists()&&T.data().title||I.fullPuzzleId}})),A=A.map(I=>({...I,title:C[I.fullPuzzleId]||I.fullPuzzleId})),d(A.sort((I,T)=>{var D,F,z,Y;return new Date(((F=(D=T.lastSaved)==null?void 0:D.toDate)==null?void 0:F.call(D))||T.lastSaved)-new Date(((Y=(z=I.lastSaved)==null?void 0:z.toDate)==null?void 0:Y.call(z))||I.lastSaved)}))}i(!1)}n&&v()},[n]);const m=async()=>{a(!0);try{await e()}finally{a(!1)}};return t?U.jsx("div",{children:"Loading..."}):o?U.jsx("div",{children:"Logging out..."}):U.jsx("div",{className:"dashboard-container fade-in",children:U.jsxs("div",{className:"dashboard-section",style:{marginBottom:0,height:"90vh"},children:[U.jsxs("h2",{style:{fontSize:"2.2em",marginTop:"10px",marginBottom:"10px",textAlign:"center"},children:["Welcome, ",n==null?void 0:n.username,"!"]}),c.length>0&&U.jsxs("div",{style:{margin:0,maxHeight:"60vh",overflowY:"scroll"},children:[U.jsx("h3",{style:{textAlign:"center",margin:0},children:"Puzzles in Progress"}),U.jsx("ul",{style:{listStyle:"none",padding:0},children:c.map(v=>U.jsxs("li",{style:{marginBottom:10,display:"flex",alignItems:"center"},children:[U.jsx("span",{style:{fontWeight:600,flex:2},children:v.title||v.fullPuzzleId}),U.jsx("span",{style:{marginLeft:12,color:"#645e4f",fontSize:"0.95em",flex:1},children:v.lastSaved?v.lastSaved.toDate?v.lastSaved.toDate().toLocaleString():new Date(v.lastSaved).toLocaleString():""}),U.jsx("button",{style:{marginLeft:12},onClick:()=>f(`/crossworder/fullpuzzle/${v.fullPuzzleId}`),children:"Continue"})]},v.fullPuzzleId))})]}),U.jsxs("div",{style:{alignContent:"center",textAlign:"center",marginTop:"24px"},children:[U.jsx("button",{onClick:()=>f("/crossworder/premade"),children:"Load Pre-made Crossword Puzzle"}),U.jsxs("div",{style:{margin:"1.5em 0"},children:[U.jsx("button",{onClick:m,children:"Log out"}),(n==null?void 0:n.admin)&&U.jsx("button",{style:{marginLeft:16},onClick:()=>f("/crossworder/admin"),children:"Admin"})]})]})]})})}function lN(){return U.jsxs(Bw,{children:[U.jsx(cs,{path:"/",element:U.jsx(aN,{})}),U.jsx(cs,{path:"/premade",element:U.jsx(eN,{})}),U.jsx(cs,{path:"/fullpuzzle/:puzzleId",element:U.jsx(oN,{})})]})}async function uN(){const n=mr(Dt,"wordSets");return(await Mr(n)).docs.map(t=>({id:t.id,...t.data()}))}async function cN(n){const e=_n(Dt,"users",n),t=await co(e);return t.exists()?t.data().savedPuzzles||[]:[]}async function hN(n){const e=mr(Dt,"wordSets"),t=_n(e);await yu(t,{...n,words:[]})}async function dN(n,e){const t=_n(Dt,"wordSets",n);await Da(t,e)}async function fN(n){const e=_n(Dt,"wordSets",n);await Gm(e)}async function pN(n,e){const t=_n(Dt,"wordSets",n);await Da(t,{words:Km(e)})}async function mN(n,e,t){const i=_n(Dt,"wordSets",n);await Da(i,{words:Qm(e)}),await Da(i,{words:Km(t)})}async function gN(n,e){const t=_n(Dt,"wordSets",n);await Da(t,{words:Qm(e)})}const eo=uN;function yN(n){const e=new Set;return n?(n.forEach(t=>{for(let i=0;i<t.answer.length;i++){let o=t.row,a=t.col;t.direction==="across"?a+=i:o+=i,e.add(`${o}_${a}`)}}),e.size):0}function vN(){console.log("PuzzleView rendering");const{user:n}=_o(),{puzzleId:e}=zw(),[t,i]=W.useState(null),[o,a]=W.useState(!0),[c,d]=W.useState(null);W.useEffect(()=>{async function w(){console.log("Loading puzzle",e,"for user",n.uid),a(!0);const C=(await cN(n.uid)).find(I=>I.id===e);if(i(C||null),C&&n){const I=_n(Dt,"users",n.uid),T=await co(I);if(console.log("User doc from Firestore:",T.exists()?"exists":"does not exist"),T.exists()&&T.data().premadeProgress){const D=T.data().premadeProgress.find(F=>F.puzzleId===e);console.log("Saved progress found?",!!D),D&&D.gridData&&(console.log("Loading saved grid data with",Object.keys(D.gridData).length,"cells"),C.savedGridData=D.gridData)}}a(!1)}n&&e&&w()},[n,e]);const f=()=>{t&&t.savedGridData?(console.log("%c MANUAL SAVE TRIGGERED","background: #ff5722; color: white; font-weight: bold;"),m(t,t.savedGridData)):console.error("Cannot manually save - no puzzle or grid data available")};async function m(w,A){if(!(!n||!w)){d(new Date().toISOString());try{const C=_n(Dt,"users",n.uid),I=await co(C);let T=[];I.exists()&&I.data().premadeProgress&&(T=I.data().premadeProgress.filter(B=>B.puzzleId!==w.id));const D=yN(w.layout.entries),F=Array.isArray(A)?A.length:0,z=D===0?0:Math.round(F/D*100),Y={puzzleId:w.id,title:w.title||"Untitled Puzzle",percentComplete:z,lastAccessed:new Date().toISOString(),gridData:Array.isArray(A)?A:[]};T.push(Y),await yu(C,{premadeProgress:T},{merge:!0})}catch(C){console.error("Error saving progress to Firestore:",C)}}}function v(w,A,C){if(!t||!n)return;let I=Array.isArray(t.savedGridData)?[...t.savedGridData]:[];I=I.filter(T=>!(T.row===w&&T.col===A)),C&&String(C).trim()!==""&&I.push({letter:C,row:w,col:A}),t.savedGridData=I,m(t,I)}if(W.useEffect(()=>{if(t&&Array.isArray(t.savedGridData)){const w={};t.savedGridData.forEach(A=>{A.row!==void 0&&A.col!==void 0&&A.letter&&(w[`${A.row}_${A.col}`]=A.letter)}),t.savedGridData=w}},[t]),o)return U.jsx("div",{children:"Loading puzzle..."});if(!t)return U.jsx("div",{children:"Puzzle not found."});const E={across:{},down:{}};return t.layout.entries.forEach(w=>{const A=w.direction==="across"?"across":"down";E[A][w.number]={answer:w.answer,clue:w.clue,row:w.row,col:w.col}}),U.jsxs("div",{className:"crossword-area fade-in",children:[U.jsxs("div",{style:{border:"1px solid #ddd",padding:"10px",marginBottom:"10px"},children:[U.jsxs("div",{children:["Puzzle ID: ",t==null?void 0:t.id]}),U.jsxs("div",{children:["User ID: ",n==null?void 0:n.uid]}),U.jsxs("div",{children:["Grid cells: ",t!=null&&t.savedGridData?Object.keys(t.savedGridData).length:0]}),c&&U.jsxs("div",{style:{fontWeight:"bold",color:"green"},children:["Last saved: ",new Date(c).toLocaleTimeString()]}),U.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px"},children:[U.jsx("button",{onClick:f,style:{padding:"8px 12px",fontSize:"1em",background:"#4285f4",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save Progress"}),U.jsx("button",{onClick:()=>alert("User: "+((n==null?void 0:n.uid)||"none")+", Puzzle: "+((t==null?void 0:t.id)||"none")),style:{padding:"8px 12px",fontSize:"1em",background:"#ea4335",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Check Data"})]})]}),U.jsxs("div",{className:"crossword-board",style:{margin:"0 auto"},children:[U.jsx("button",{onClick:()=>alert("Testing if alerts work"),style:{marginBottom:"10px",padding:"10px",background:"red",color:"white",border:"none"},children:"Test Alert"}),U.jsx(YD,{data:E,onCellChange:v,gridData:t.savedGridData,useStorage:!1})]}),U.jsxs("div",{className:"clues-area",children:[U.jsx("h3",{children:"Across"}),U.jsx("ul",{className:"clues-list",children:Object.entries(E.across).map(([w,A])=>U.jsxs("li",{children:[U.jsxs("strong",{children:[w,"."]})," ",A.clue]},w))}),U.jsx("h3",{children:"Down"}),U.jsx("ul",{className:"clues-list",children:Object.entries(E.down).map(([w,A])=>U.jsxs("li",{children:[U.jsxs("strong",{children:[w,"."]})," ",A.clue]},w))})]})]})}const _N="modulepreload",wN=function(n){return"/crossworder/"+n},bw={},Dw=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(t.map(m=>{if(m=wN(m),m in bw)return;bw[m]=!0;const v=m.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":_N,v||(w.as="script"),w.crossOrigin="",w.href=m,f&&w.setAttribute("nonce",f),document.head.appendChild(w),v)return new Promise((A,C)=>{w.addEventListener("load",A),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};function EN(){const[n,e]=W.useState([]),[t,i]=W.useState(!0),[o,a]=W.useState(""),[c,d]=W.useState(""),[f,m]=W.useState(1),[v,E]=W.useState([]),[w,A]=W.useState(!1),[C,I]=W.useState(!1),[T,D]=W.useState(!1),[F,z]=W.useState(!1);W.useEffect(()=>{async function oe(){i(!0);try{const Ne=await eo();e(Ne)}catch{a("Failed to load word sets")}i(!1)}oe();async function K(){A(!0);try{const fe=(await Mr(mr(Dt,"fullPuzzles"))).docs.map(ae=>({id:ae.id,...ae.data()}));E(fe)}catch{a("Failed to load full puzzles")}A(!1)}K()},[]);const Y=async()=>{if(c){i(!0);try{await hN({name:c,weighting:f}),d(""),m(1);const oe=await eo();e(oe)}catch{a("Failed to add word set")}i(!1)}},B=async(oe,K,Ne)=>{i(!0);try{await dN(oe,{name:K,weighting:Ne});const fe=await eo();e(fe)}catch{a("Failed to update word set")}i(!1)},we=async oe=>{if(window.confirm("Delete this word set? This cannot be undone.")){i(!0);try{await fN(oe);const K=await eo();e(K)}catch{a("Failed to delete word set")}i(!1)}},V=async(oe,K,Ne)=>{i(!0);try{await pN(oe,{word:K,clue:Ne});const fe=await eo();e(fe)}catch{a("Failed to add word")}i(!1)},k=async(oe,K,Ne,fe)=>{i(!0);try{await mN(oe,K,{word:Ne,clue:fe});const ae=await eo();e(ae)}catch{a("Failed to update word")}i(!1)},x=async(oe,K)=>{if(window.confirm("Delete this word?")){i(!0);try{await gN(oe,K);const Ne=await eo();e(Ne)}catch{a("Failed to delete word")}i(!1)}},N=async oe=>{const K=Array.from(oe.target.files);i(!0);try{for(const Ne of K){const fe=await Ne.text();let ae;try{ae=JSON.parse(fe)}catch{a(`Invalid JSON in file: ${Ne.name}`);continue}const{getFirestore:xe,collection:Ye,addDoc:nt}=await Dw(async()=>{const{getFirestore:tt,collection:He,addDoc:ut}=await Promise.resolve().then(()=>jb);return{getFirestore:tt,collection:He,addDoc:ut}},[]),{db:Ge}=await Dw(async()=>{const{db:tt}=await Promise.resolve().then(()=>zb);return{db:tt}},void 0);await nt(Ye(Ge,"fullPuzzles"),ae)}a(""),alert("Puzzles uploaded successfully!")}catch{a("Failed to upload puzzles")}i(!1)},[O,j]=W.useState(null),[R,de]=W.useState(""),[pe,ge]=W.useState(1),[Ee,Q]=W.useState(""),[ye,b]=W.useState(""),[ne,ee]=W.useState(null),[X,ue]=W.useState(""),[ke,G]=W.useState("");return t?U.jsx("div",{children:"Loading..."}):o?U.jsx("div",{children:o}):U.jsxs("div",{style:{maxHeight:"100vh",overflowY:"scroll"},children:[U.jsx("h2",{children:"Admin: Manage Word Sets"}),U.jsxs("div",{children:[U.jsx("input",{type:"text",placeholder:"New set name",value:c??"",onChange:oe=>d(oe.target.value)}),U.jsx("input",{type:"number",min:1,max:100,value:f??1,onChange:oe=>m(Number(oe.target.value))}),U.jsx("button",{onClick:Y,children:"Add Word Set"})]}),U.jsx("hr",{}),n.map(oe=>U.jsxs("div",{style:{border:"1px solid #ccc",margin:"1em 0",padding:"1em"},children:[O===oe.id?U.jsxs("div",{children:[U.jsx("input",{type:"text",value:R??"",onChange:K=>de(K.target.value)}),U.jsx("input",{type:"number",min:1,max:100,value:pe??1,onChange:K=>ge(Number(K.target.value))}),U.jsx("button",{onClick:()=>{B(oe.id,R,pe),j(null)},children:"Save"}),U.jsx("button",{onClick:()=>j(null),children:"Cancel"})]}):U.jsxs("div",{children:[U.jsx("b",{children:oe.name})," (weight: ",oe.weighting,")",U.jsx("button",{onClick:()=>{j(oe.id),de(oe.name),ge(oe.weighting)},children:"Edit"}),U.jsx("button",{onClick:()=>we(oe.id),children:"Delete"})]}),U.jsxs("div",{style:{marginTop:"1em"},children:[U.jsx("h4",{children:"Words/Clues"}),U.jsx("ul",{children:(oe.words||[]).map((K,Ne)=>U.jsx("li",{children:ne===`${oe.id}-${Ne}`?U.jsxs(U.Fragment,{children:[U.jsx("input",{type:"text",value:X??"",onChange:fe=>ue(fe.target.value),placeholder:"Word"}),U.jsx("input",{type:"text",value:ke??"",onChange:fe=>G(fe.target.value),placeholder:"Clue"}),U.jsx("button",{onClick:()=>{k(oe.id,K,X,ke),ee(null)},children:"Save"}),U.jsx("button",{onClick:()=>ee(null),children:"Cancel"})]}):U.jsxs(U.Fragment,{children:[U.jsx("b",{children:K.word}),": ",K.clue,U.jsx("button",{onClick:()=>{ee(`${oe.id}-${Ne}`),ue(K.word),G(K.clue)},children:"Edit"}),U.jsx("button",{onClick:()=>x(oe.id,K),children:"Delete"})]})},Ne))}),U.jsxs("div",{children:[U.jsx("input",{type:"text",placeholder:"New word",value:Ee??"",onChange:K=>Q(K.target.value)}),U.jsx("input",{type:"text",placeholder:"New clue",value:ye??"",onChange:K=>b(K.target.value)}),U.jsx("button",{onClick:()=>{V(oe.id,Ee,ye),Q(""),b("")},children:"Add Word"})]})]})]},oe.id)),U.jsx("hr",{}),"      ",U.jsxs("div",{children:[U.jsx("h3",{children:"Upload Full Crossword Puzzles (JSON)"}),U.jsx("input",{type:"file",accept:"application/json",multiple:!0,onChange:N})]}),"      ",U.jsx("hr",{}),U.jsxs("div",{style:{marginTop:"2em",border:"1px solid #f44336",padding:"1em",borderRadius:"4px",backgroundColor:"#fff8f8"},children:["        ",U.jsx("h3",{style:{color:"#d32f2f"},children:"Danger Zone: Delete All Premade Puzzles"}),U.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[U.jsxs("p",{style:{margin:"0.5em 0"},children:["This will permanently delete ",U.jsxs("strong",{children:["all ",v.length," premade puzzles"]})," from the database. This action cannot be undone."]}),U.jsx("button",{onClick:async()=>{try{A(!0);const K=(await Mr(mr(Dt,"fullPuzzles"))).docs.map(Ne=>({id:Ne.id,...Ne.data()}));E(K),a("")}catch(oe){console.error("Error refreshing puzzle data:",oe),a("Failed to refresh puzzle data: "+oe.message)}finally{A(!1)}},style:{padding:"0.3em 0.8em",backgroundColor:"#4c7daf",color:"white",border:"none",borderRadius:"4px",fontSize:"0.9em"},disabled:w,children:w?"Refreshing...":"Refresh Count"})]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1em"},children:[U.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginRight:"2em"},children:[U.jsx("input",{type:"checkbox",checked:C,onChange:()=>I(!C),style:{marginRight:"0.5em",width:"18px",height:"18px"}}),"I understand this will delete all puzzles"]}),U.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[U.jsx("input",{type:"checkbox",checked:T,onChange:()=>D(!T),style:{marginRight:"0.5em",width:"18px",height:"18px"}}),"I confirm this is what I want to do"]})]}),U.jsx("button",{onClick:async()=>{if(C&&T){try{A(!0);const K=(await Mr(mr(Dt,"fullPuzzles"))).docs.map(Ne=>({id:Ne.id,...Ne.data()}));E(K),A(!1)}catch(oe){console.error("Error refreshing puzzle data:",oe),a("Failed to refresh puzzle data: "+oe.message),A(!1);return}if(window.confirm(`WARNING: This will permanently delete ALL ${v.length} premade puzzles. Are you absolutely sure?`))try{z(!0);const oe=await Mr(mr(Dt,"fullPuzzles"));for(const K of oe.docs)await Gm(_n(Dt,"fullPuzzles",K.id));E([]),alert("All premade puzzles have been deleted successfully.")}catch(oe){console.error("Error deleting puzzles:",oe),a(`Failed to delete puzzles: ${oe.message}`)}finally{z(!1),I(!1),D(!1)}}else alert("You must check both confirmation boxes before deleting puzzles.")},disabled:!C||!T||F,style:{backgroundColor:C&&T?"#d32f2f":"#aaa",color:"white",padding:"0.5em 1em",border:"none",borderRadius:"4px",cursor:C&&T?"pointer":"not-allowed"},children:F?"Deleting...":"Delete All Premade Puzzles"}),F&&U.jsx("div",{style:{marginTop:"1em",color:"#d32f2f"},children:"Deleting all puzzles, please wait..."}),v.length>0&&U.jsxs("div",{style:{marginTop:"1em",maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",padding:"0.5em",borderRadius:"4px"},children:[U.jsxs("h4",{style:{margin:"0 0 0.5em 0"},children:["Current Puzzles (",v.length,"):"]}),U.jsx("ul",{style:{margin:0,paddingLeft:"1.5em"},children:v.map(oe=>U.jsxs("li",{style:{fontSize:"0.9em",margin:"0.2em 0"},children:[oe.title||"Untitled"," ",oe.date&&`(${new Date(oe.date).toLocaleDateString()})`]},oe.id))})]})]})]})}function TN(){return U.jsx(Ub,{children:U.jsx(TI,{children:U.jsxs(Bw,{children:[U.jsx(cs,{path:"/crossworder/login",element:U.jsx(Bb,{})}),U.jsx(cs,{path:"/crossworder/admin",element:U.jsx($b,{children:U.jsx(EN,{})})}),U.jsx(cs,{path:"/crossworder/puzzle/:puzzleId",element:U.jsx(Z_,{children:U.jsx(vN,{})})}),U.jsx(cs,{path:"/crossworder/*",element:U.jsx(Z_,{children:U.jsx(lN,{})})})]})})})}l1.createRoot(document.getElementById("root")).render(U.jsx(W.StrictMode,{children:U.jsx(TN,{})}));
