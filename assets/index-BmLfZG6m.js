(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Ul(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function IS(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var ff={exports:{}},gl={},pf={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function CS(){if(My)return ut;My=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function T(b,H,G){this.props=b,this.context=H,this.refs=C,this.updater=G||x}T.prototype.isReactComponent={},T.prototype.setState=function(b,H){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,H,"setState")},T.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function V(){}V.prototype=T.prototype;function F(b,H,G){this.props=b,this.context=H,this.refs=C,this.updater=G||x}var U=F.prototype=new V;U.constructor=F,A(U,T.prototype),U.isPureReactComponent=!0;var te=Array.isArray,$=Object.prototype.hasOwnProperty,fe={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function R(b,H,G){var K,ie={},Ce=null,q=null;if(H!=null)for(K in H.ref!==void 0&&(q=H.ref),H.key!==void 0&&(Ce=""+H.key),H)$.call(H,K)&&!M.hasOwnProperty(K)&&(ie[K]=H[K]);var Oe=arguments.length-2;if(Oe===1)ie.children=G;else if(1<Oe){for(var oe=Array(Oe),Ue=0;Ue<Oe;Ue++)oe[Ue]=arguments[Ue+2];ie.children=oe}if(b&&b.defaultProps)for(K in Oe=b.defaultProps,Oe)ie[K]===void 0&&(ie[K]=Oe[K]);return{$$typeof:n,type:b,key:Ce,ref:q,props:ie,_owner:fe.current}}function k(b,H){return{$$typeof:n,type:b.type,key:H,ref:b.ref,props:b.props,_owner:b._owner}}function D(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function P(b){var H={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(G){return H[G]})}var j=/\/+/g;function O(b,H){return typeof b=="object"&&b!==null&&b.key!=null?P(""+b.key):H.toString(36)}function Te(b,H,G,K,ie){var Ce=typeof b;(Ce==="undefined"||Ce==="boolean")&&(b=null);var q=!1;if(b===null)q=!0;else switch(Ce){case"string":case"number":q=!0;break;case"object":switch(b.$$typeof){case n:case e:q=!0}}if(q)return q=b,ie=ie(q),b=K===""?"."+O(q,0):K,te(ie)?(G="",b!=null&&(G=b.replace(j,"$&/")+"/"),Te(ie,H,G,"",function(Ue){return Ue})):ie!=null&&(D(ie)&&(ie=k(ie,G+(!ie.key||q&&q.key===ie.key?"":(""+ie.key).replace(j,"$&/")+"/")+b)),H.push(ie)),1;if(q=0,K=K===""?".":K+":",te(b))for(var Oe=0;Oe<b.length;Oe++){Ce=b[Oe];var oe=K+O(Ce,Oe);q+=Te(Ce,H,G,oe,ie)}else if(oe=S(b),typeof oe=="function")for(b=oe.call(b),Oe=0;!(Ce=b.next()).done;)Ce=Ce.value,oe=K+O(Ce,Oe++),q+=Te(Ce,H,G,oe,ie);else if(Ce==="object")throw H=String(b),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return q}function me(b,H,G){if(b==null)return b;var K=[],ie=0;return Te(b,K,"","",function(Ce){return H.call(G,Ce,ie++)}),K}function ge(b){if(b._status===-1){var H=b._result;H=H(),H.then(function(G){(b._status===0||b._status===-1)&&(b._status=1,b._result=G)},function(G){(b._status===0||b._status===-1)&&(b._status=2,b._result=G)}),b._status===-1&&(b._status=0,b._result=H)}if(b._status===1)return b._result.default;throw b._result}var _e={current:null},Q={transition:null},pe={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Q,ReactCurrentOwner:fe};return ut.Children={map:me,forEach:function(b,H,G){me(b,function(){H.apply(this,arguments)},G)},count:function(b){var H=0;return me(b,function(){H++}),H},toArray:function(b){return me(b,function(H){return H})||[]},only:function(b){if(!D(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ut.Component=T,ut.Fragment=t,ut.Profiler=o,ut.PureComponent=F,ut.StrictMode=i,ut.Suspense=p,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ut.cloneElement=function(b,H,G){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var K=A({},b.props),ie=b.key,Ce=b.ref,q=b._owner;if(H!=null){if(H.ref!==void 0&&(Ce=H.ref,q=fe.current),H.key!==void 0&&(ie=""+H.key),b.type&&b.type.defaultProps)var Oe=b.type.defaultProps;for(oe in H)$.call(H,oe)&&!M.hasOwnProperty(oe)&&(K[oe]=H[oe]===void 0&&Oe!==void 0?Oe[oe]:H[oe])}var oe=arguments.length-2;if(oe===1)K.children=G;else if(1<oe){Oe=Array(oe);for(var Ue=0;Ue<oe;Ue++)Oe[Ue]=arguments[Ue+2];K.children=Oe}return{$$typeof:n,type:b.type,key:ie,ref:Ce,props:K,_owner:q}},ut.createContext=function(b){return b={$$typeof:c,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:a,_context:b},b.Consumer=b},ut.createElement=R,ut.createFactory=function(b){var H=R.bind(null,b);return H.type=b,H},ut.createRef=function(){return{current:null}},ut.forwardRef=function(b){return{$$typeof:d,render:b}},ut.isValidElement=D,ut.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:ge}},ut.memo=function(b,H){return{$$typeof:m,type:b,compare:H===void 0?null:H}},ut.startTransition=function(b){var H=Q.transition;Q.transition={};try{b()}finally{Q.transition=H}},ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ut.useCallback=function(b,H){return _e.current.useCallback(b,H)},ut.useContext=function(b){return _e.current.useContext(b)},ut.useDebugValue=function(){},ut.useDeferredValue=function(b){return _e.current.useDeferredValue(b)},ut.useEffect=function(b,H){return _e.current.useEffect(b,H)},ut.useId=function(){return _e.current.useId()},ut.useImperativeHandle=function(b,H,G){return _e.current.useImperativeHandle(b,H,G)},ut.useInsertionEffect=function(b,H){return _e.current.useInsertionEffect(b,H)},ut.useLayoutEffect=function(b,H){return _e.current.useLayoutEffect(b,H)},ut.useMemo=function(b,H){return _e.current.useMemo(b,H)},ut.useReducer=function(b,H,G){return _e.current.useReducer(b,H,G)},ut.useRef=function(b){return _e.current.useRef(b)},ut.useState=function(b){return _e.current.useState(b)},ut.useSyncExternalStore=function(b,H,G){return _e.current.useSyncExternalStore(b,H,G)},ut.useTransition=function(){return _e.current.useTransition()},ut.version="18.2.0",ut}var Vy;function Mr(){return Vy||(Vy=1,pf.exports=CS()),pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function PS(){if(Fy)return gl;Fy=1;var n=Mr(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,m){var _,w={},S=null,x=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(x=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:x,props:w,_owner:o.current}}return gl.Fragment=t,gl.jsx=c,gl.jsxs=c,gl}var jy;function io(){return jy||(jy=1,ff.exports=PS()),ff.exports}var ee=io(),Y=Mr();const hr=Ul(Y);var vc={},mf={exports:{}},Fn={},gf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function AS(){return Uy||(Uy=1,function(n){function e(Q,pe){var b=Q.length;Q.push(pe);e:for(;0<b;){var H=b-1>>>1,G=Q[H];if(0<o(G,pe))Q[H]=pe,Q[b]=G,b=H;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var pe=Q[0],b=Q.pop();if(b!==pe){Q[0]=b;e:for(var H=0,G=Q.length,K=G>>>1;H<K;){var ie=2*(H+1)-1,Ce=Q[ie],q=ie+1,Oe=Q[q];if(0>o(Ce,b))q<G&&0>o(Oe,Ce)?(Q[H]=Oe,Q[q]=b,H=q):(Q[H]=Ce,Q[ie]=b,H=ie);else if(q<G&&0>o(Oe,b))Q[H]=Oe,Q[q]=b,H=q;else break e}}return pe}function o(Q,pe){var b=Q.sortIndex-pe.sortIndex;return b!==0?b:Q.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],m=[],_=1,w=null,S=3,x=!1,A=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(Q){for(var pe=t(m);pe!==null;){if(pe.callback===null)i(m);else if(pe.startTime<=Q)i(m),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(m)}}function te(Q){if(C=!1,U(Q),!A)if(t(p)!==null)A=!0,ge($);else{var pe=t(m);pe!==null&&_e(te,pe.startTime-Q)}}function $(Q,pe){A=!1,C&&(C=!1,V(R),R=-1),x=!0;var b=S;try{for(U(pe),w=t(p);w!==null&&(!(w.expirationTime>pe)||Q&&!P());){var H=w.callback;if(typeof H=="function"){w.callback=null,S=w.priorityLevel;var G=H(w.expirationTime<=pe);pe=n.unstable_now(),typeof G=="function"?w.callback=G:w===t(p)&&i(p),U(pe)}else i(p);w=t(p)}if(w!==null)var K=!0;else{var ie=t(m);ie!==null&&_e(te,ie.startTime-pe),K=!1}return K}finally{w=null,S=b,x=!1}}var fe=!1,M=null,R=-1,k=5,D=-1;function P(){return!(n.unstable_now()-D<k)}function j(){if(M!==null){var Q=n.unstable_now();D=Q;var pe=!0;try{pe=M(!0,Q)}finally{pe?O():(fe=!1,M=null)}}else fe=!1}var O;if(typeof F=="function")O=function(){F(j)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,me=Te.port2;Te.port1.onmessage=j,O=function(){me.postMessage(null)}}else O=function(){T(j,0)};function ge(Q){M=Q,fe||(fe=!0,O())}function _e(Q,pe){R=T(function(){Q(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){A||x||(A=!0,ge($))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var pe=3;break;default:pe=S}var b=S;S=pe;try{return Q()}finally{S=b}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,pe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var b=S;S=Q;try{return pe()}finally{S=b}},n.unstable_scheduleCallback=function(Q,pe,b){var H=n.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?H+b:H):b=H,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=b+G,Q={id:_++,callback:pe,priorityLevel:Q,startTime:b,expirationTime:G,sortIndex:-1},b>H?(Q.sortIndex=b,e(m,Q),t(p)===null&&Q===t(m)&&(C?(V(R),R=-1):C=!0,_e(te,b-H))):(Q.sortIndex=G,e(p,Q),A||x||(A=!0,ge($))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var pe=S;return function(){var b=S;S=pe;try{return Q.apply(this,arguments)}finally{S=b}}}}(yf)),yf}var zy;function RS(){return zy||(zy=1,gf.exports=AS()),gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function kS(){if($y)return Fn;$y=1;var n=Mr(),e=RS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function S(r){return p.call(w,r)?!0:p.call(_,r)?!1:m.test(r)?w[r]=!0:(_[r]=!0,!1)}function x(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function A(r,s,l,h){if(s===null||typeof s>"u"||x(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(r,s,l,h,f,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){T[r]=new C(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];T[s]=new C(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){T[r]=new C(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){T[r]=new C(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){T[r]=new C(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){T[r]=new C(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){T[r]=new C(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){T[r]=new C(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){T[r]=new C(r,5,!1,r.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function F(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(V,F);T[s]=new C(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(V,F);T[s]=new C(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(V,F);T[s]=new C(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){T[r]=new C(r,1,!1,r.toLowerCase(),null,!1,!1)}),T.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){T[r]=new C(r,1,!1,r.toLowerCase(),null,!0,!0)});function U(r,s,l,h){var f=T.hasOwnProperty(s)?T[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,l,f,h)&&(l=null),h||f===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),fe=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),P=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),Q=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=Q&&r[Q]||r["@@iterator"],typeof r=="function"?r:null)}var b=Object.assign,H;function G(r){if(H===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+r}var K=!1;function ie(r,s){if(!r||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(se){var h=se}Reflect.construct(r,[],s)}else{try{s.call()}catch(se){h=se}r.call(s.prototype)}else{try{throw Error()}catch(se){h=se}r()}}catch(se){if(se&&h&&typeof se.stack=="string"){for(var f=se.stack.split(`
`),y=h.stack.split(`
`),E=f.length-1,L=y.length-1;1<=E&&0<=L&&f[E]!==y[L];)L--;for(;1<=E&&0<=L;E--,L--)if(f[E]!==y[L]){if(E!==1||L!==1)do if(E--,L--,0>L||f[E]!==y[L]){var z=`
`+f[E].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=E&&0<=L);break}}}finally{K=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?G(r):""}function Ce(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function q(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case fe:return"Portal";case k:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case Te:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case P:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case me:return s=r.displayName||null,s!==null?s:q(r.type)||"Memo";case ge:s=r._payload,r=r._init;try{return q(r(s))}catch{}}return null}function Oe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function de(r){var s=Ue(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function We(r){r._valueTracker||(r._valueTracker=de(r))}function Le(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Ue(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function it(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Et(r,s){var l=s.checked;return b({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Je(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=oe(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ft(r,s){s=s.checked,s!=null&&U(r,"checked",s,!1)}function nt(r,s){ft(r,s);var l=oe(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Tt(r,s.type,l):s.hasOwnProperty("defaultValue")&&Tt(r,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Pt(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Tt(r,s,l){(s!=="number"||it(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ot=Array.isArray;function Ft(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+oe(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function yn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return b({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function jt(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(ot(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:oe(l)}}function qe(r,s){var l=oe(s.value),h=oe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function lt(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var W,le=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(W=W||document.createElement("div"),W.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=W.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function re(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Se={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];Object.keys(Se).forEach(function(r){ke.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Se[s]=Se[r]})});function Me(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Se.hasOwnProperty(r)&&Se[r]?(""+s).trim():s+"px"}function we(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=Me(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var Ee=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ue(r,s){if(s){if(Ee[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ce(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ne(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var he=null,ve=null,De=null;function Ge(r){if(r=tl(r)){if(typeof he!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Du(s),he(r.stateNode,r.type,s))}}function Xe(r){ve?De?De.push(r):De=[r]:ve=r}function mt(){if(ve){var r=ve,s=De;if(De=ve=null,Ge(r),s)for(r=0;r<s.length;r++)Ge(s[r])}}function _t(r,s){return r(s)}function Bn(){}var Gt=!1;function Wn(r,s,l){if(Gt)return r(s,l);Gt=!0;try{return _t(r,s,l)}finally{Gt=!1,(ve!==null||De!==null)&&(Bn(),mt())}}function Ut(r,s){var l=r.stateNode;if(l===null)return null;var h=Du(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var uo=!1;if(d)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){uo=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{uo=!1}function Cs(r,s,l,h,f,y,E,L,z){var se=Array.prototype.slice.call(arguments,3);try{s.apply(l,se)}catch(Pe){this.onError(Pe)}}var Ps=!1,co=null,mr=!1,La=null,Uh={onError:function(r){Ps=!0,co=r}};function ho(r,s,l,h,f,y,E,L,z){Ps=!1,co=null,Cs.apply(Uh,arguments)}function iu(r,s,l,h,f,y,E,L,z){if(ho.apply(this,arguments),Ps){if(Ps){var se=co;Ps=!1,co=null}else throw Error(t(198));mr||(mr=!0,La=se)}}function gr(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function As(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function yr(r){if(gr(r)!==r)throw Error(t(188))}function su(r){var s=r.alternate;if(!s){if(s=gr(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var y=f.alternate;if(y===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===l)return yr(f),r;if(y===h)return yr(f),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=y;else{for(var E=!1,L=f.child;L;){if(L===l){E=!0,l=f,h=y;break}if(L===h){E=!0,h=f,l=y;break}L=L.sibling}if(!E){for(L=y.child;L;){if(L===l){E=!0,l=y,h=f;break}if(L===h){E=!0,h=y,l=f;break}L=L.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Ma(r){return r=su(r),r!==null?fo(r):null}function fo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=fo(r);if(s!==null)return s;r=r.sibling}return null}var po=e.unstable_scheduleCallback,Va=e.unstable_cancelCallback,ou=e.unstable_shouldYield,zh=e.unstable_requestPaint,kt=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,Rs=e.unstable_ImmediatePriority,xi=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,lu=e.unstable_IdlePriority,ks=null,Hn=null;function uu(r){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(ks,r,void 0,(r.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:hu,ja=Math.log,cu=Math.LN2;function hu(r){return r>>>=0,r===0?32:31-(ja(r)/cu|0)|0}var mo=64,go=4194304;function bi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function xs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var L=E&~f;L!==0?h=bi(L):(y&=E,y!==0&&(h=bi(y)))}else E=l&~f,E!==0?h=bi(E):y!==0&&(h=bi(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,y=s&-s,f>=y||f===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Pn(s),f=1<<l,h|=r[l],s&=~f;return h}function $h(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Pn(y),L=1<<E,z=f[E];z===-1?((L&l)===0||(L&h)!==0)&&(f[E]=$h(L,s)):z<=s&&(r.expiredLanes|=L),y&=~L}}function qn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function bs(){var r=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),r}function Oi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Di(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Pn(s),r[s]=l}function Rt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Pn(l),y=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~y}}function Ni(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Pn(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var dt=0;function Li(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var du,yo,fu,pu,mu,Ua=!1,jr=[],dn=null,vr=null,_r=null,Mi=new Map,tr=new Map,Ur=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(r,s){switch(r){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Mi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(s.pointerId)}}function bn(r,s,l,h,f,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[f]},s!==null&&(s=tl(s),s!==null&&yo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Wh(r,s,l,h,f){switch(s){case"focusin":return dn=bn(dn,r,s,l,h,f),!0;case"dragenter":return vr=bn(vr,r,s,l,h,f),!0;case"mouseover":return _r=bn(_r,r,s,l,h,f),!0;case"pointerover":var y=f.pointerId;return Mi.set(y,bn(Mi.get(y)||null,r,s,l,h,f)),!0;case"gotpointercapture":return y=f.pointerId,tr.set(y,bn(tr.get(y)||null,r,s,l,h,f)),!0}return!1}function yu(r){var s=Ms(r.target);if(s!==null){var l=gr(s);if(l!==null){if(s=l.tag,s===13){if(s=As(l),s!==null){r.blockedOn=s,mu(r.priority,function(){fu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ii(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=vo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);be=h,l.target.dispatchEvent(h),be=null}else return s=tl(l),s!==null&&yo(s),r.blockedOn=l,!1;s.shift()}return!0}function Os(r,s,l){ii(r)&&l.delete(s)}function vu(){Ua=!1,dn!==null&&ii(dn)&&(dn=null),vr!==null&&ii(vr)&&(vr=null),_r!==null&&ii(_r)&&(_r=null),Mi.forEach(Os),tr.forEach(Os)}function wr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function Er(r){function s(f){return wr(f,r)}if(0<jr.length){wr(jr[0],r);for(var l=1;l<jr.length;l++){var h=jr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(dn!==null&&wr(dn,r),vr!==null&&wr(vr,r),_r!==null&&wr(_r,r),Mi.forEach(s),tr.forEach(s),l=0;l<Ur.length;l++)h=Ur[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Ur.length&&(l=Ur[0],l.blockedOn===null);)yu(l),l.blockedOn===null&&Ur.shift()}var si=te.ReactCurrentBatchConfig,Vi=!0;function Nt(r,s,l,h){var f=dt,y=si.transition;si.transition=null;try{dt=1,za(r,s,l,h)}finally{dt=f,si.transition=y}}function Hh(r,s,l,h){var f=dt,y=si.transition;si.transition=null;try{dt=4,za(r,s,l,h)}finally{dt=f,si.transition=y}}function za(r,s,l,h){if(Vi){var f=vo(r,s,l,h);if(f===null)nd(r,s,h,Ds,l),gu(r,h);else if(Wh(f,r,s,l,h))h.stopPropagation();else if(gu(r,h),s&4&&-1<Bh.indexOf(r)){for(;f!==null;){var y=tl(f);if(y!==null&&du(y),y=vo(r,s,l,h),y===null&&nd(r,s,h,Ds,l),y===f)break;f=y}f!==null&&h.stopPropagation()}else nd(r,s,h,null,l)}}var Ds=null;function vo(r,s,l,h){if(Ds=null,r=ne(h),r=Ms(r),r!==null)if(s=gr(r),s===null)r=null;else if(l=s.tag,l===13){if(r=As(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ds=r,null}function $a(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case Rs:return 1;case xi:return 4;case er:case Fa:return 16;case lu:return 536870912;default:return 16}default:return 16}}var Gn=null,_o=null,On=null;function Ba(){if(On)return On;var r,s=_o,l=s.length,h,f="value"in Gn?Gn.value:Gn.textContent,y=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===f[y-h];h++);return On=f.slice(r,1<h?1-h:void 0)}function wo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function zr(){return!0}function Wa(){return!1}function fn(r){function s(l,h,f,y,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(l=r[L],this[L]=l?l(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zr:Wa,this.isPropagationStopped=Wa,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),s}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=fn(Tr),$r=b({},Tr,{view:0,detail:0}),qh=fn($r),To,oi,Fi,Ns=b({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fi&&(Fi&&r.type==="mousemove"?(To=r.screenX-Fi.screenX,oi=r.screenY-Fi.screenY):oi=To=0,Fi=r),To)},movementY:function(r){return"movementY"in r?r.movementY:oi}}),So=fn(Ns),Ha=b({},Ns,{dataTransfer:0}),_u=fn(Ha),Io=b({},$r,{relatedTarget:0}),Co=fn(Io),wu=b({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ai=fn(wu),Eu=b({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Tu=fn(Eu),Su=b({},Tr,{data:0}),qa=fn(Su),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Iu[r])?!!s[r]:!1}function Br(){return Cu}var u=b({},$r,{key:function(r){if(r.key){var s=Po[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=wo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?An[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(r){return r.type==="keypress"?wo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=fn(u),v=b({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=fn(v),J=b({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),ae=fn(J),Ne=b({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),At=fn(Ne),Xt=b({},Ns,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),gt=fn(Xt),rn=[9,13,27,32],Kt=d&&"CompositionEvent"in window,nr=null;d&&"documentMode"in document&&(nr=document.documentMode);var Kn=d&&"TextEvent"in window&&!nr,Ls=d&&(!Kt||nr&&8<nr&&11>=nr),Ao=" ",km=!1;function xm(r,s){switch(r){case"keyup":return rn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ro=!1;function ET(r,s){switch(r){case"compositionend":return bm(s);case"keypress":return s.which!==32?null:(km=!0,Ao);case"textInput":return r=s.data,r===Ao&&km?null:r;default:return null}}function TT(r,s){if(Ro)return r==="compositionend"||!Kt&&xm(r,s)?(r=Ba(),On=_o=Gn=null,Ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ls&&s.locale!=="ko"?null:s.data;default:return null}}var ST={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!ST[r.type]:s==="textarea"}function Dm(r,s,l,h){Xe(h),s=xu(s,"onChange"),0<s.length&&(l=new Eo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Ga=null,Ka=null;function IT(r){Jm(r,0)}function Pu(r){var s=Do(r);if(Le(s))return r}function CT(r,s){if(r==="change")return s}var Nm=!1;if(d){var Gh;if(d){var Kh="oninput"in document;if(!Kh){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),Kh=typeof Lm.oninput=="function"}Gh=Kh}else Gh=!1;Nm=Gh&&(!document.documentMode||9<document.documentMode)}function Mm(){Ga&&(Ga.detachEvent("onpropertychange",Vm),Ka=Ga=null)}function Vm(r){if(r.propertyName==="value"&&Pu(Ka)){var s=[];Dm(s,Ka,r,ne(r)),Wn(IT,s)}}function PT(r,s,l){r==="focusin"?(Mm(),Ga=s,Ka=l,Ga.attachEvent("onpropertychange",Vm)):r==="focusout"&&Mm()}function AT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pu(Ka)}function RT(r,s){if(r==="click")return Pu(s)}function kT(r,s){if(r==="input"||r==="change")return Pu(s)}function xT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sr=typeof Object.is=="function"?Object.is:xT;function Qa(r,s){if(Sr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!Sr(r[f],s[f]))return!1}return!0}function Fm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jm(r,s){var l=Fm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Fm(l)}}function Um(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Um(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zm(){for(var r=window,s=it();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=it(r.document)}return s}function Qh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function bT(r){var s=zm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Um(l.ownerDocument.documentElement,l)){if(h!==null&&Qh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,y=Math.min(h.start,f);h=h.end===void 0?y:Math.min(h.end,f),!r.extend&&y>h&&(f=h,h=y,y=f),f=jm(l,y);var E=jm(l,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var OT=d&&"documentMode"in document&&11>=document.documentMode,ko=null,Yh=null,Ya=null,Jh=!1;function $m(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jh||ko==null||ko!==it(h)||(h=ko,"selectionStart"in h&&Qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ya&&Qa(Ya,h)||(Ya=h,h=xu(Yh,"onSelect"),0<h.length&&(s=new Eo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=ko)))}function Au(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var xo={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Xh={},Bm={};d&&(Bm=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ru(r){if(Xh[r])return Xh[r];if(!xo[r])return r;var s=xo[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Bm)return Xh[r]=s[l];return r}var Wm=Ru("animationend"),Hm=Ru("animationiteration"),qm=Ru("animationstart"),Gm=Ru("transitionend"),Km=new Map,Qm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(r,s){Km.set(r,s),a(s,[r])}for(var Zh=0;Zh<Qm.length;Zh++){var ed=Qm[Zh],DT=ed.toLowerCase(),NT=ed[0].toUpperCase()+ed.slice(1);ji(DT,"on"+NT)}ji(Wm,"onAnimationEnd"),ji(Hm,"onAnimationIteration"),ji(qm,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(Gm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function Ym(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,iu(h,s,void 0,r),r.currentTarget=null}function Jm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var L=h[E],z=L.instance,se=L.currentTarget;if(L=L.listener,z!==y&&f.isPropagationStopped())break e;Ym(f,L,se),y=z}else for(E=0;E<h.length;E++){if(L=h[E],z=L.instance,se=L.currentTarget,L=L.listener,z!==y&&f.isPropagationStopped())break e;Ym(f,L,se),y=z}}}if(mr)throw r=La,mr=!1,La=null,r}function bt(r,s){var l=s[ld];l===void 0&&(l=s[ld]=new Set);var h=r+"__bubble";l.has(h)||(Xm(s,r,2,!1),l.add(h))}function td(r,s,l){var h=0;s&&(h|=4),Xm(l,r,h,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Xa(r){if(!r[ku]){r[ku]=!0,i.forEach(function(l){l!=="selectionchange"&&(LT.has(l)||td(l,!1,r),td(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ku]||(s[ku]=!0,td("selectionchange",!1,s))}}function Xm(r,s,l,h){switch($a(s)){case 1:var f=Nt;break;case 4:f=Hh;break;default:f=za}l=f.bind(null,s,l,r),f=void 0,!uo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function nd(r,s,l,h,f){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var L=h.stateNode.containerInfo;if(L===f||L.nodeType===8&&L.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var z=E.tag;if((z===3||z===4)&&(z=E.stateNode.containerInfo,z===f||z.nodeType===8&&z.parentNode===f))return;E=E.return}for(;L!==null;){if(E=Ms(L),E===null)return;if(z=E.tag,z===5||z===6){h=y=E;continue e}L=L.parentNode}}h=h.return}Wn(function(){var se=y,Pe=ne(l),Re=[];e:{var Ie=Km.get(r);if(Ie!==void 0){var Ve=Eo,ze=r;switch(r){case"keypress":if(wo(l)===0)break e;case"keydown":case"keyup":Ve=g;break;case"focusin":ze="focus",Ve=Co;break;case"focusout":ze="blur",Ve=Co;break;case"beforeblur":case"afterblur":Ve=Co;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=ae;break;case Wm:case Hm:case qm:Ve=ai;break;case Gm:Ve=At;break;case"scroll":Ve=qh;break;case"wheel":Ve=gt;break;case"copy":case"cut":case"paste":Ve=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=I}var $e=(s&4)!==0,Ht=!$e&&r==="scroll",X=$e?Ie!==null?Ie+"Capture":null:Ie;$e=[];for(var B=se,Z;B!==null;){Z=B;var xe=Z.stateNode;if(Z.tag===5&&xe!==null&&(Z=xe,X!==null&&(xe=Ut(B,X),xe!=null&&$e.push(Za(B,xe,Z)))),Ht)break;B=B.return}0<$e.length&&(Ie=new Ve(Ie,ze,null,l,Pe),Re.push({event:Ie,listeners:$e}))}}if((s&7)===0){e:{if(Ie=r==="mouseover"||r==="pointerover",Ve=r==="mouseout"||r==="pointerout",Ie&&l!==be&&(ze=l.relatedTarget||l.fromElement)&&(Ms(ze)||ze[li]))break e;if((Ve||Ie)&&(Ie=Pe.window===Pe?Pe:(Ie=Pe.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Ve?(ze=l.relatedTarget||l.toElement,Ve=se,ze=ze?Ms(ze):null,ze!==null&&(Ht=gr(ze),ze!==Ht||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Ve=null,ze=se),Ve!==ze)){if($e=So,xe="onMouseLeave",X="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&($e=I,xe="onPointerLeave",X="onPointerEnter",B="pointer"),Ht=Ve==null?Ie:Do(Ve),Z=ze==null?Ie:Do(ze),Ie=new $e(xe,B+"leave",Ve,l,Pe),Ie.target=Ht,Ie.relatedTarget=Z,xe=null,Ms(Pe)===se&&($e=new $e(X,B+"enter",ze,l,Pe),$e.target=Z,$e.relatedTarget=Ht,xe=$e),Ht=xe,Ve&&ze)t:{for($e=Ve,X=ze,B=0,Z=$e;Z;Z=bo(Z))B++;for(Z=0,xe=X;xe;xe=bo(xe))Z++;for(;0<B-Z;)$e=bo($e),B--;for(;0<Z-B;)X=bo(X),Z--;for(;B--;){if($e===X||X!==null&&$e===X.alternate)break t;$e=bo($e),X=bo(X)}$e=null}else $e=null;Ve!==null&&Zm(Re,Ie,Ve,$e,!1),ze!==null&&Ht!==null&&Zm(Re,Ht,ze,$e,!0)}}e:{if(Ie=se?Do(se):window,Ve=Ie.nodeName&&Ie.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Ie.type==="file")var Be=CT;else if(Om(Ie))if(Nm)Be=kT;else{Be=AT;var Qe=PT}else(Ve=Ie.nodeName)&&Ve.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(Be=RT);if(Be&&(Be=Be(r,se))){Dm(Re,Be,l,Pe);break e}Qe&&Qe(r,Ie,se),r==="focusout"&&(Qe=Ie._wrapperState)&&Qe.controlled&&Ie.type==="number"&&Tt(Ie,"number",Ie.value)}switch(Qe=se?Do(se):window,r){case"focusin":(Om(Qe)||Qe.contentEditable==="true")&&(ko=Qe,Yh=se,Ya=null);break;case"focusout":Ya=Yh=ko=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,$m(Re,l,Pe);break;case"selectionchange":if(OT)break;case"keydown":case"keyup":$m(Re,l,Pe)}var Ye;if(Kt)e:{switch(r){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Ro?xm(r,l)&&(tt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(tt="onCompositionStart");tt&&(Ls&&l.locale!=="ko"&&(Ro||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Ro&&(Ye=Ba()):(Gn=Pe,_o="value"in Gn?Gn.value:Gn.textContent,Ro=!0)),Qe=xu(se,tt),0<Qe.length&&(tt=new qa(tt,r,null,l,Pe),Re.push({event:tt,listeners:Qe}),Ye?tt.data=Ye:(Ye=bm(l),Ye!==null&&(tt.data=Ye)))),(Ye=Kn?ET(r,l):TT(r,l))&&(se=xu(se,"onBeforeInput"),0<se.length&&(Pe=new qa("onBeforeInput","beforeinput",null,l,Pe),Re.push({event:Pe,listeners:se}),Pe.data=Ye))}Jm(Re,s)})}function Za(r,s,l){return{instance:r,listener:s,currentTarget:l}}function xu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,y=f.stateNode;f.tag===5&&y!==null&&(f=y,y=Ut(r,l),y!=null&&h.unshift(Za(r,y,f)),y=Ut(r,s),y!=null&&h.push(Za(r,y,f))),r=r.return}return h}function bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Zm(r,s,l,h,f){for(var y=s._reactName,E=[];l!==null&&l!==h;){var L=l,z=L.alternate,se=L.stateNode;if(z!==null&&z===h)break;L.tag===5&&se!==null&&(L=se,f?(z=Ut(l,y),z!=null&&E.unshift(Za(l,z,L))):f||(z=Ut(l,y),z!=null&&E.push(Za(l,z,L)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var MT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function eg(r){return(typeof r=="string"?r:""+r).replace(MT,`
`).replace(VT,"")}function bu(r,s,l){if(s=eg(s),eg(r)!==s&&l)throw Error(t(425))}function Ou(){}var rd=null,id=null;function sd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,jT=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(r){return tg.resolve(null).then(r).catch(UT)}:od;function UT(r){setTimeout(function(){throw r})}function ad(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Er(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Er(s)}function Ui(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ng(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Oo,el="__reactProps$"+Oo,li="__reactContainer$"+Oo,ld="__reactEvents$"+Oo,zT="__reactListeners$"+Oo,$T="__reactHandles$"+Oo;function Ms(r){var s=r[Wr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[li]||l[Wr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ng(r);r!==null;){if(l=r[Wr])return l;r=ng(r)}return s}r=l,l=r.parentNode}return null}function tl(r){return r=r[Wr]||r[li],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Do(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Du(r){return r[el]||null}var ud=[],No=-1;function zi(r){return{current:r}}function Ot(r){0>No||(r.current=ud[No],ud[No]=null,No--)}function xt(r,s){No++,ud[No]=r.current,r.current=s}var $i={},vn=zi($i),Dn=zi(!1),Vs=$i;function Lo(r,s){var l=r.type.contextTypes;if(!l)return $i;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},y;for(y in l)f[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Nn(r){return r=r.childContextTypes,r!=null}function Nu(){Ot(Dn),Ot(vn)}function rg(r,s,l){if(vn.current!==$i)throw Error(t(168));xt(vn,s),xt(Dn,l)}function ig(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Oe(r)||"Unknown",f));return b({},l,h)}function Lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||$i,Vs=vn.current,xt(vn,r),xt(Dn,Dn.current),!0}function sg(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=ig(r,s,Vs),h.__reactInternalMemoizedMergedChildContext=r,Ot(Dn),Ot(vn),xt(vn,r)):Ot(Dn),xt(Dn,l)}var ui=null,Mu=!1,cd=!1;function og(r){ui===null?ui=[r]:ui.push(r)}function BT(r){Mu=!0,og(r)}function Bi(){if(!cd&&ui!==null){cd=!0;var r=0,s=dt;try{var l=ui;for(dt=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}ui=null,Mu=!1}catch(f){throw ui!==null&&(ui=ui.slice(r+1)),po(Rs,Bi),f}finally{dt=s,cd=!1}}return null}var Mo=[],Vo=0,Vu=null,Fu=0,rr=[],ir=0,Fs=null,ci=1,hi="";function js(r,s){Mo[Vo++]=Fu,Mo[Vo++]=Vu,Vu=r,Fu=s}function ag(r,s,l){rr[ir++]=ci,rr[ir++]=hi,rr[ir++]=Fs,Fs=r;var h=ci;r=hi;var f=32-Pn(h)-1;h&=~(1<<f),l+=1;var y=32-Pn(s)+f;if(30<y){var E=f-f%5;y=(h&(1<<E)-1).toString(32),h>>=E,f-=E,ci=1<<32-Pn(s)+f|l<<f|h,hi=y+r}else ci=1<<y|l<<f|h,hi=r}function hd(r){r.return!==null&&(js(r,1),ag(r,1,0))}function dd(r){for(;r===Vu;)Vu=Mo[--Vo],Mo[Vo]=null,Fu=Mo[--Vo],Mo[Vo]=null;for(;r===Fs;)Fs=rr[--ir],rr[ir]=null,hi=rr[--ir],rr[ir]=null,ci=rr[--ir],rr[ir]=null}var Qn=null,Yn=null,Lt=!1,Ir=null;function lg(r,s){var l=lr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function ug(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Qn=r,Yn=Ui(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Qn=r,Yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Fs!==null?{id:ci,overflow:hi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=lr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Qn=r,Yn=null,!0):!1;default:return!1}}function fd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function pd(r){if(Lt){var s=Yn;if(s){var l=s;if(!ug(r,s)){if(fd(r))throw Error(t(418));s=Ui(l.nextSibling);var h=Qn;s&&ug(r,s)?lg(h,l):(r.flags=r.flags&-4097|2,Lt=!1,Qn=r)}}else{if(fd(r))throw Error(t(418));r.flags=r.flags&-4097|2,Lt=!1,Qn=r}}}function cg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Qn=r}function ju(r){if(r!==Qn)return!1;if(!Lt)return cg(r),Lt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sd(r.type,r.memoizedProps)),s&&(s=Yn)){if(fd(r))throw hg(),Error(t(418));for(;s;)lg(r,s),s=Ui(s.nextSibling)}if(cg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Yn=Ui(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Yn=null}}else Yn=Qn?Ui(r.stateNode.nextSibling):null;return!0}function hg(){for(var r=Yn;r;)r=Ui(r.nextSibling)}function Fo(){Yn=Qn=null,Lt=!1}function md(r){Ir===null?Ir=[r]:Ir.push(r)}var WT=te.ReactCurrentBatchConfig;function Cr(r,s){if(r&&r.defaultProps){s=b({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}var Uu=zi(null),zu=null,jo=null,gd=null;function yd(){gd=jo=zu=null}function vd(r){var s=Uu.current;Ot(Uu),r._currentValue=s}function _d(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Uo(r,s){zu=r,gd=jo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Ln=!0),r.firstContext=null)}function sr(r){var s=r._currentValue;if(gd!==r)if(r={context:r,memoizedValue:s,next:null},jo===null){if(zu===null)throw Error(t(308));jo=r,zu.dependencies={lanes:0,firstContext:r}}else jo=jo.next=r;return s}var Us=null;function wd(r){Us===null?Us=[r]:Us.push(r)}function dg(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,wd(s)):(l.next=f.next,f.next=l),s.interleaved=l,di(r,h)}function di(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Wi=!1;function Ed(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Hi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(vt&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,di(r,l)}return f=h.interleaved,f===null?(s.next=s,wd(h)):(s.next=f.next,f.next=s),h.interleaved=s,di(r,l)}function $u(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ni(r,l)}}function pg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?f=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?f=y=s:y=y.next=s}else f=y=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Bu(r,s,l,h){var f=r.updateQueue;Wi=!1;var y=f.firstBaseUpdate,E=f.lastBaseUpdate,L=f.shared.pending;if(L!==null){f.shared.pending=null;var z=L,se=z.next;z.next=null,E===null?y=se:E.next=se,E=z;var Pe=r.alternate;Pe!==null&&(Pe=Pe.updateQueue,L=Pe.lastBaseUpdate,L!==E&&(L===null?Pe.firstBaseUpdate=se:L.next=se,Pe.lastBaseUpdate=z))}if(y!==null){var Re=f.baseState;E=0,Pe=se=z=null,L=y;do{var Ie=L.lane,Ve=L.eventTime;if((h&Ie)===Ie){Pe!==null&&(Pe=Pe.next={eventTime:Ve,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ze=r,$e=L;switch(Ie=s,Ve=l,$e.tag){case 1:if(ze=$e.payload,typeof ze=="function"){Re=ze.call(Ve,Re,Ie);break e}Re=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=$e.payload,Ie=typeof ze=="function"?ze.call(Ve,Re,Ie):ze,Ie==null)break e;Re=b({},Re,Ie);break e;case 2:Wi=!0}}L.callback!==null&&L.lane!==0&&(r.flags|=64,Ie=f.effects,Ie===null?f.effects=[L]:Ie.push(L))}else Ve={eventTime:Ve,lane:Ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Pe===null?(se=Pe=Ve,z=Re):Pe=Pe.next=Ve,E|=Ie;if(L=L.next,L===null){if(L=f.shared.pending,L===null)break;Ie=L,L=Ie.next,Ie.next=null,f.lastBaseUpdate=Ie,f.shared.pending=null}}while(!0);if(Pe===null&&(z=Re),f.baseState=z,f.firstBaseUpdate=se,f.lastBaseUpdate=Pe,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else y===null&&(f.shared.lanes=0);Bs|=E,r.lanes=E,r.memoizedState=Re}}function mg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var gg=new n.Component().refs;function Td(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:b({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Wu={isMounted:function(r){return(r=r._reactInternals)?gr(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=kn(),f=Qi(r),y=fi(h,f);y.payload=s,l!=null&&(y.callback=l),s=Hi(r,y,f),s!==null&&(Rr(s,r,f,h),$u(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=kn(),f=Qi(r),y=fi(h,f);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Hi(r,y,f),s!==null&&(Rr(s,r,f,h),$u(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=kn(),h=Qi(r),f=fi(l,h);f.tag=2,s!=null&&(f.callback=s),s=Hi(r,f,h),s!==null&&(Rr(s,r,h,l),$u(s,r,h))}};function yg(r,s,l,h,f,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Qa(l,h)||!Qa(f,y):!0}function vg(r,s,l){var h=!1,f=$i,y=s.contextType;return typeof y=="object"&&y!==null?y=sr(y):(f=Nn(s)?Vs:vn.current,h=s.contextTypes,y=(h=h!=null)?Lo(r,f):$i),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Wu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=y),s}function _g(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Wu.enqueueReplaceState(s,s.state,null)}function Sd(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs=gg,Ed(r);var y=s.contextType;typeof y=="object"&&y!==null?f.context=sr(y):(y=Nn(s)?Vs:vn.current,f.context=Lo(r,y)),f.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Td(r,s,y,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Wu.enqueueReplaceState(f,f.state,null),Bu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function nl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var L=f.refs;L===gg&&(L=f.refs={}),E===null?delete L[y]:L[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Hu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function wg(r){var s=r._init;return s(r._payload)}function Eg(r){function s(X,B){if(r){var Z=X.deletions;Z===null?(X.deletions=[B],X.flags|=16):Z.push(B)}}function l(X,B){if(!r)return null;for(;B!==null;)s(X,B),B=B.sibling;return null}function h(X,B){for(X=new Map;B!==null;)B.key!==null?X.set(B.key,B):X.set(B.index,B),B=B.sibling;return X}function f(X,B){return X=Ji(X,B),X.index=0,X.sibling=null,X}function y(X,B,Z){return X.index=Z,r?(Z=X.alternate,Z!==null?(Z=Z.index,Z<B?(X.flags|=2,B):Z):(X.flags|=2,B)):(X.flags|=1048576,B)}function E(X){return r&&X.alternate===null&&(X.flags|=2),X}function L(X,B,Z,xe){return B===null||B.tag!==6?(B=af(Z,X.mode,xe),B.return=X,B):(B=f(B,Z),B.return=X,B)}function z(X,B,Z,xe){var Be=Z.type;return Be===M?Pe(X,B,Z.props.children,xe,Z.key):B!==null&&(B.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ge&&wg(Be)===B.type)?(xe=f(B,Z.props),xe.ref=nl(X,B,Z),xe.return=X,xe):(xe=cc(Z.type,Z.key,Z.props,null,X.mode,xe),xe.ref=nl(X,B,Z),xe.return=X,xe)}function se(X,B,Z,xe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=lf(Z,X.mode,xe),B.return=X,B):(B=f(B,Z.children||[]),B.return=X,B)}function Pe(X,B,Z,xe,Be){return B===null||B.tag!==7?(B=Gs(Z,X.mode,xe,Be),B.return=X,B):(B=f(B,Z),B.return=X,B)}function Re(X,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return B=af(""+B,X.mode,Z),B.return=X,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case $:return Z=cc(B.type,B.key,B.props,null,X.mode,Z),Z.ref=nl(X,null,B),Z.return=X,Z;case fe:return B=lf(B,X.mode,Z),B.return=X,B;case ge:var xe=B._init;return Re(X,xe(B._payload),Z)}if(ot(B)||pe(B))return B=Gs(B,X.mode,Z,null),B.return=X,B;Hu(X,B)}return null}function Ie(X,B,Z,xe){var Be=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Be!==null?null:L(X,B,""+Z,xe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case $:return Z.key===Be?z(X,B,Z,xe):null;case fe:return Z.key===Be?se(X,B,Z,xe):null;case ge:return Be=Z._init,Ie(X,B,Be(Z._payload),xe)}if(ot(Z)||pe(Z))return Be!==null?null:Pe(X,B,Z,xe,null);Hu(X,Z)}return null}function Ve(X,B,Z,xe,Be){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return X=X.get(Z)||null,L(B,X,""+xe,Be);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case $:return X=X.get(xe.key===null?Z:xe.key)||null,z(B,X,xe,Be);case fe:return X=X.get(xe.key===null?Z:xe.key)||null,se(B,X,xe,Be);case ge:var Qe=xe._init;return Ve(X,B,Z,Qe(xe._payload),Be)}if(ot(xe)||pe(xe))return X=X.get(Z)||null,Pe(B,X,xe,Be,null);Hu(B,xe)}return null}function ze(X,B,Z,xe){for(var Be=null,Qe=null,Ye=B,tt=B=0,an=null;Ye!==null&&tt<Z.length;tt++){Ye.index>tt?(an=Ye,Ye=null):an=Ye.sibling;var wt=Ie(X,Ye,Z[tt],xe);if(wt===null){Ye===null&&(Ye=an);break}r&&Ye&&wt.alternate===null&&s(X,Ye),B=y(wt,B,tt),Qe===null?Be=wt:Qe.sibling=wt,Qe=wt,Ye=an}if(tt===Z.length)return l(X,Ye),Lt&&js(X,tt),Be;if(Ye===null){for(;tt<Z.length;tt++)Ye=Re(X,Z[tt],xe),Ye!==null&&(B=y(Ye,B,tt),Qe===null?Be=Ye:Qe.sibling=Ye,Qe=Ye);return Lt&&js(X,tt),Be}for(Ye=h(X,Ye);tt<Z.length;tt++)an=Ve(Ye,X,tt,Z[tt],xe),an!==null&&(r&&an.alternate!==null&&Ye.delete(an.key===null?tt:an.key),B=y(an,B,tt),Qe===null?Be=an:Qe.sibling=an,Qe=an);return r&&Ye.forEach(function(Xi){return s(X,Xi)}),Lt&&js(X,tt),Be}function $e(X,B,Z,xe){var Be=pe(Z);if(typeof Be!="function")throw Error(t(150));if(Z=Be.call(Z),Z==null)throw Error(t(151));for(var Qe=Be=null,Ye=B,tt=B=0,an=null,wt=Z.next();Ye!==null&&!wt.done;tt++,wt=Z.next()){Ye.index>tt?(an=Ye,Ye=null):an=Ye.sibling;var Xi=Ie(X,Ye,wt.value,xe);if(Xi===null){Ye===null&&(Ye=an);break}r&&Ye&&Xi.alternate===null&&s(X,Ye),B=y(Xi,B,tt),Qe===null?Be=Xi:Qe.sibling=Xi,Qe=Xi,Ye=an}if(wt.done)return l(X,Ye),Lt&&js(X,tt),Be;if(Ye===null){for(;!wt.done;tt++,wt=Z.next())wt=Re(X,wt.value,xe),wt!==null&&(B=y(wt,B,tt),Qe===null?Be=wt:Qe.sibling=wt,Qe=wt);return Lt&&js(X,tt),Be}for(Ye=h(X,Ye);!wt.done;tt++,wt=Z.next())wt=Ve(Ye,X,tt,wt.value,xe),wt!==null&&(r&&wt.alternate!==null&&Ye.delete(wt.key===null?tt:wt.key),B=y(wt,B,tt),Qe===null?Be=wt:Qe.sibling=wt,Qe=wt);return r&&Ye.forEach(function(SS){return s(X,SS)}),Lt&&js(X,tt),Be}function Ht(X,B,Z,xe){if(typeof Z=="object"&&Z!==null&&Z.type===M&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case $:e:{for(var Be=Z.key,Qe=B;Qe!==null;){if(Qe.key===Be){if(Be=Z.type,Be===M){if(Qe.tag===7){l(X,Qe.sibling),B=f(Qe,Z.props.children),B.return=X,X=B;break e}}else if(Qe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ge&&wg(Be)===Qe.type){l(X,Qe.sibling),B=f(Qe,Z.props),B.ref=nl(X,Qe,Z),B.return=X,X=B;break e}l(X,Qe);break}else s(X,Qe);Qe=Qe.sibling}Z.type===M?(B=Gs(Z.props.children,X.mode,xe,Z.key),B.return=X,X=B):(xe=cc(Z.type,Z.key,Z.props,null,X.mode,xe),xe.ref=nl(X,B,Z),xe.return=X,X=xe)}return E(X);case fe:e:{for(Qe=Z.key;B!==null;){if(B.key===Qe)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){l(X,B.sibling),B=f(B,Z.children||[]),B.return=X,X=B;break e}else{l(X,B);break}else s(X,B);B=B.sibling}B=lf(Z,X.mode,xe),B.return=X,X=B}return E(X);case ge:return Qe=Z._init,Ht(X,B,Qe(Z._payload),xe)}if(ot(Z))return ze(X,B,Z,xe);if(pe(Z))return $e(X,B,Z,xe);Hu(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,B!==null&&B.tag===6?(l(X,B.sibling),B=f(B,Z),B.return=X,X=B):(l(X,B),B=af(Z,X.mode,xe),B.return=X,X=B),E(X)):l(X,B)}return Ht}var zo=Eg(!0),Tg=Eg(!1),rl={},Hr=zi(rl),il=zi(rl),sl=zi(rl);function zs(r){if(r===rl)throw Error(t(174));return r}function Id(r,s){switch(xt(sl,s),xt(il,r),xt(Hr,rl),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:N(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=N(s,r)}Ot(Hr),xt(Hr,s)}function $o(){Ot(Hr),Ot(il),Ot(sl)}function Sg(r){zs(sl.current);var s=zs(Hr.current),l=N(s,r.type);s!==l&&(xt(il,r),xt(Hr,l))}function Cd(r){il.current===r&&(Ot(Hr),Ot(il))}var zt=zi(0);function qu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pd=[];function Ad(){for(var r=0;r<Pd.length;r++)Pd[r]._workInProgressVersionPrimary=null;Pd.length=0}var Gu=te.ReactCurrentDispatcher,Rd=te.ReactCurrentBatchConfig,$s=0,$t=null,Zt=null,sn=null,Ku=!1,ol=!1,al=0,HT=0;function _n(){throw Error(t(321))}function kd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Sr(r[l],s[l]))return!1;return!0}function xd(r,s,l,h,f,y){if($s=y,$t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gu.current=r===null||r.memoizedState===null?QT:YT,r=l(h,f),ol){y=0;do{if(ol=!1,al=0,25<=y)throw Error(t(301));y+=1,sn=Zt=null,s.updateQueue=null,Gu.current=JT,r=l(h,f)}while(ol)}if(Gu.current=Ju,s=Zt!==null&&Zt.next!==null,$s=0,sn=Zt=$t=null,Ku=!1,s)throw Error(t(300));return r}function bd(){var r=al!==0;return al=0,r}function qr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?$t.memoizedState=sn=r:sn=sn.next=r,sn}function or(){if(Zt===null){var r=$t.alternate;r=r!==null?r.memoizedState:null}else r=Zt.next;var s=sn===null?$t.memoizedState:sn.next;if(s!==null)sn=s,Zt=r;else{if(r===null)throw Error(t(310));Zt=r,r={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},sn===null?$t.memoizedState=sn=r:sn=sn.next=r}return sn}function ll(r,s){return typeof s=="function"?s(r):s}function Od(r){var s=or(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Zt,f=h.baseQueue,y=l.pending;if(y!==null){if(f!==null){var E=f.next;f.next=y.next,y.next=E}h.baseQueue=f=y,l.pending=null}if(f!==null){y=f.next,h=h.baseState;var L=E=null,z=null,se=y;do{var Pe=se.lane;if(($s&Pe)===Pe)z!==null&&(z=z.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),h=se.hasEagerState?se.eagerState:r(h,se.action);else{var Re={lane:Pe,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};z===null?(L=z=Re,E=h):z=z.next=Re,$t.lanes|=Pe,Bs|=Pe}se=se.next}while(se!==null&&se!==y);z===null?E=h:z.next=L,Sr(h,s.memoizedState)||(Ln=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=z,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do y=f.lane,$t.lanes|=y,Bs|=y,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Dd(r){var s=or(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,y=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do y=r(y,E.action),E=E.next;while(E!==f);Sr(y,s.memoizedState)||(Ln=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Ig(){}function Cg(r,s){var l=$t,h=or(),f=s(),y=!Sr(h.memoizedState,f);if(y&&(h.memoizedState=f,Ln=!0),h=h.queue,Nd(Rg.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||sn!==null&&sn.memoizedState.tag&1){if(l.flags|=2048,ul(9,Ag.bind(null,l,h,f,s),void 0,null),on===null)throw Error(t(349));($s&30)!==0||Pg(l,s,f)}return f}function Pg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=$t.updateQueue,s===null?(s={lastEffect:null,stores:null},$t.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Ag(r,s,l,h){s.value=l,s.getSnapshot=h,kg(s)&&xg(r)}function Rg(r,s,l){return l(function(){kg(s)&&xg(r)})}function kg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Sr(r,l)}catch{return!0}}function xg(r){var s=di(r,1);s!==null&&Rr(s,r,1,-1)}function bg(r){var s=qr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:r},s.queue=r,r=r.dispatch=KT.bind(null,$t,r),[s.memoizedState,r]}function ul(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=$t.updateQueue,s===null?(s={lastEffect:null,stores:null},$t.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Og(){return or().memoizedState}function Qu(r,s,l,h){var f=qr();$t.flags|=r,f.memoizedState=ul(1|s,l,void 0,h===void 0?null:h)}function Yu(r,s,l,h){var f=or();h=h===void 0?null:h;var y=void 0;if(Zt!==null){var E=Zt.memoizedState;if(y=E.destroy,h!==null&&kd(h,E.deps)){f.memoizedState=ul(s,l,y,h);return}}$t.flags|=r,f.memoizedState=ul(1|s,l,y,h)}function Dg(r,s){return Qu(8390656,8,r,s)}function Nd(r,s){return Yu(2048,8,r,s)}function Ng(r,s){return Yu(4,2,r,s)}function Lg(r,s){return Yu(4,4,r,s)}function Mg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Vg(r,s,l){return l=l!=null?l.concat([r]):null,Yu(4,4,Mg.bind(null,s,r),l)}function Ld(){}function Fg(r,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function jg(r,s){var l=or();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&kd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Ug(r,s,l){return($s&21)===0?(r.baseState&&(r.baseState=!1,Ln=!0),r.memoizedState=l):(Sr(l,s)||(l=bs(),$t.lanes|=l,Bs|=l,r.baseState=!0),s)}function qT(r,s){var l=dt;dt=l!==0&&4>l?l:4,r(!0);var h=Rd.transition;Rd.transition={};try{r(!1),s()}finally{dt=l,Rd.transition=h}}function zg(){return or().memoizedState}function GT(r,s,l){var h=Qi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},$g(r))Bg(s,l);else if(l=dg(r,s,l,h),l!==null){var f=kn();Rr(l,r,h,f),Wg(l,s,h)}}function KT(r,s,l){var h=Qi(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if($g(r))Bg(s,f);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,L=y(E,l);if(f.hasEagerState=!0,f.eagerState=L,Sr(L,E)){var z=s.interleaved;z===null?(f.next=f,wd(s)):(f.next=z.next,z.next=f),s.interleaved=f;return}}catch{}finally{}l=dg(r,s,f,h),l!==null&&(f=kn(),Rr(l,r,h,f),Wg(l,s,h))}}function $g(r){var s=r.alternate;return r===$t||s!==null&&s===$t}function Bg(r,s){ol=Ku=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Wg(r,s,l){if((l&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ni(r,l)}}var Ju={readContext:sr,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},QT={readContext:sr,useCallback:function(r,s){return qr().memoizedState=[r,s===void 0?null:s],r},useContext:sr,useEffect:Dg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Qu(4194308,4,Mg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Qu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Qu(4,2,r,s)},useMemo:function(r,s){var l=qr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=qr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=GT.bind(null,$t,r),[h.memoizedState,r]},useRef:function(r){var s=qr();return r={current:r},s.memoizedState=r},useState:bg,useDebugValue:Ld,useDeferredValue:function(r){return qr().memoizedState=r},useTransition:function(){var r=bg(!1),s=r[0];return r=qT.bind(null,r[1]),qr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=$t,f=qr();if(Lt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),on===null)throw Error(t(349));($s&30)!==0||Pg(h,s,l)}f.memoizedState=l;var y={value:l,getSnapshot:s};return f.queue=y,Dg(Rg.bind(null,h,y,r),[r]),h.flags|=2048,ul(9,Ag.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=qr(),s=on.identifierPrefix;if(Lt){var l=hi,h=ci;l=(h&~(1<<32-Pn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=al++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=HT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},YT={readContext:sr,useCallback:Fg,useContext:sr,useEffect:Nd,useImperativeHandle:Vg,useInsertionEffect:Ng,useLayoutEffect:Lg,useMemo:jg,useReducer:Od,useRef:Og,useState:function(){return Od(ll)},useDebugValue:Ld,useDeferredValue:function(r){var s=or();return Ug(s,Zt.memoizedState,r)},useTransition:function(){var r=Od(ll)[0],s=or().memoizedState;return[r,s]},useMutableSource:Ig,useSyncExternalStore:Cg,useId:zg,unstable_isNewReconciler:!1},JT={readContext:sr,useCallback:Fg,useContext:sr,useEffect:Nd,useImperativeHandle:Vg,useInsertionEffect:Ng,useLayoutEffect:Lg,useMemo:jg,useReducer:Dd,useRef:Og,useState:function(){return Dd(ll)},useDebugValue:Ld,useDeferredValue:function(r){var s=or();return Zt===null?s.memoizedState=r:Ug(s,Zt.memoizedState,r)},useTransition:function(){var r=Dd(ll)[0],s=or().memoizedState;return[r,s]},useMutableSource:Ig,useSyncExternalStore:Cg,useId:zg,unstable_isNewReconciler:!1};function Bo(r,s){try{var l="",h=s;do l+=Ce(h),h=h.return;while(h);var f=l}catch(y){f=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:f,digest:null}}function Md(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Vd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var XT=typeof WeakMap=="function"?WeakMap:Map;function Hg(r,s,l){l=fi(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){ic||(ic=!0,Xd=h),Vd(r,s)},l}function qg(r,s,l){l=fi(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){Vd(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Vd(r,s),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Gg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new XT;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=dS.bind(null,r,s,l),s.then(r,r))}function Kg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Qg(r,s,l,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=fi(-1,1),s.tag=2,Hi(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var ZT=te.ReactCurrentOwner,Ln=!1;function Rn(r,s,l,h){s.child=r===null?Tg(s,null,l,h):zo(s,r.child,l,h)}function Yg(r,s,l,h,f){l=l.render;var y=s.ref;return Uo(s,f),h=xd(r,s,l,h,y,f),l=bd(),r!==null&&!Ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,pi(r,s,f)):(Lt&&l&&hd(s),s.flags|=1,Rn(r,s,h,f),s.child)}function Jg(r,s,l,h,f){if(r===null){var y=l.type;return typeof y=="function"&&!of(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Xg(r,s,y,h,f)):(r=cc(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&f)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(E,h)&&r.ref===s.ref)return pi(r,s,f)}return s.flags|=1,r=Ji(y,h),r.ref=s.ref,r.return=s,s.child=r}function Xg(r,s,l,h,f){if(r!==null){var y=r.memoizedProps;if(Qa(y,h)&&r.ref===s.ref)if(Ln=!1,s.pendingProps=h=y,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Ln=!0);else return s.lanes=r.lanes,pi(r,s,f)}return Fd(r,s,l,h,f)}function Zg(r,s,l){var h=s.pendingProps,f=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Ho,Jn),Jn|=l;else{if((l&1073741824)===0)return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,xt(Ho,Jn),Jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,xt(Ho,Jn),Jn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,xt(Ho,Jn),Jn|=h;return Rn(r,s,f,l),s.child}function ey(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Fd(r,s,l,h,f){var y=Nn(l)?Vs:vn.current;return y=Lo(s,y),Uo(s,f),l=xd(r,s,l,h,y,f),h=bd(),r!==null&&!Ln?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,pi(r,s,f)):(Lt&&h&&hd(s),s.flags|=1,Rn(r,s,l,f),s.child)}function ty(r,s,l,h,f){if(Nn(l)){var y=!0;Lu(s)}else y=!1;if(Uo(s,f),s.stateNode===null)Zu(r,s),vg(s,l,h),Sd(s,l,h,f),h=!0;else if(r===null){var E=s.stateNode,L=s.memoizedProps;E.props=L;var z=E.context,se=l.contextType;typeof se=="object"&&se!==null?se=sr(se):(se=Nn(l)?Vs:vn.current,se=Lo(s,se));var Pe=l.getDerivedStateFromProps,Re=typeof Pe=="function"||typeof E.getSnapshotBeforeUpdate=="function";Re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==h||z!==se)&&_g(s,E,h,se),Wi=!1;var Ie=s.memoizedState;E.state=Ie,Bu(s,h,E,f),z=s.memoizedState,L!==h||Ie!==z||Dn.current||Wi?(typeof Pe=="function"&&(Td(s,l,Pe,h),z=s.memoizedState),(L=Wi||yg(s,l,L,h,Ie,z,se))?(Re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=z),E.props=h,E.state=z,E.context=se,h=L):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,fg(r,s),L=s.memoizedProps,se=s.type===s.elementType?L:Cr(s.type,L),E.props=se,Re=s.pendingProps,Ie=E.context,z=l.contextType,typeof z=="object"&&z!==null?z=sr(z):(z=Nn(l)?Vs:vn.current,z=Lo(s,z));var Ve=l.getDerivedStateFromProps;(Pe=typeof Ve=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==Re||Ie!==z)&&_g(s,E,h,z),Wi=!1,Ie=s.memoizedState,E.state=Ie,Bu(s,h,E,f);var ze=s.memoizedState;L!==Re||Ie!==ze||Dn.current||Wi?(typeof Ve=="function"&&(Td(s,l,Ve,h),ze=s.memoizedState),(se=Wi||yg(s,l,se,h,Ie,ze,z)||!1)?(Pe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ze,z),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ze,z)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ze),E.props=h,E.state=ze,E.context=z,h=se):(typeof E.componentDidUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(s.flags|=1024),h=!1)}return jd(r,s,l,h,y,f)}function jd(r,s,l,h,f,y){ey(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&sg(s,l,!1),pi(r,s,y);h=s.stateNode,ZT.current=s;var L=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=zo(s,r.child,null,y),s.child=zo(s,null,L,y)):Rn(r,s,L,y),s.memoizedState=h.state,f&&sg(s,l,!0),s.child}function ny(r){var s=r.stateNode;s.pendingContext?rg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&rg(r,s.context,!1),Id(r,s.containerInfo)}function ry(r,s,l,h,f){return Fo(),md(f),s.flags|=256,Rn(r,s,l,h),s.child}var Ud={dehydrated:null,treeContext:null,retryLane:0};function zd(r){return{baseLanes:r,cachePool:null,transitions:null}}function iy(r,s,l){var h=s.pendingProps,f=zt.current,y=!1,E=(s.flags&128)!==0,L;if((L=E)||(L=r!==null&&r.memoizedState===null?!1:(f&2)!==0),L?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),xt(zt,f&1),r===null)return pd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=hc(E,h,0,null),r=Gs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=zd(l),s.memoizedState=Ud,r):$d(s,E));if(f=r.memoizedState,f!==null&&(L=f.dehydrated,L!==null))return eS(r,s,E,h,L,f,l);if(y){y=h.fallback,E=s.mode,f=r.child,L=f.sibling;var z={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=z,s.deletions=null):(h=Ji(f,z),h.subtreeFlags=f.subtreeFlags&14680064),L!==null?y=Ji(L,y):(y=Gs(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?zd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Ud,h}return y=r.child,r=y.sibling,h=Ji(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function $d(r,s){return s=hc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Xu(r,s,l,h){return h!==null&&md(h),zo(s,r.child,null,l),r=$d(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function eS(r,s,l,h,f,y,E){if(l)return s.flags&256?(s.flags&=-257,h=Md(Error(t(422))),Xu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,f=s.mode,h=hc({mode:"visible",children:h.children},f,0,null),y=Gs(y,f,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&zo(s,r.child,null,E),s.child.memoizedState=zd(E),s.memoizedState=Ud,y);if((s.mode&1)===0)return Xu(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var L=h.dgst;return h=L,y=Error(t(419)),h=Md(y,h,void 0),Xu(r,s,E,h)}if(L=(E&r.childLanes)!==0,Ln||L){if(h=on,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==y.retryLane&&(y.retryLane=f,di(r,f),Rr(h,r,f,-1))}return sf(),h=Md(Error(t(421))),Xu(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=fS.bind(null,r),f._reactRetry=s,null):(r=y.treeContext,Yn=Ui(f.nextSibling),Qn=s,Lt=!0,Ir=null,r!==null&&(rr[ir++]=ci,rr[ir++]=hi,rr[ir++]=Fs,ci=r.id,hi=r.overflow,Fs=s),s=$d(s,h.children),s.flags|=4096,s)}function sy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),_d(r.return,s,l)}function Bd(r,s,l,h,f){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=f)}function oy(r,s,l){var h=s.pendingProps,f=h.revealOrder,y=h.tail;if(Rn(r,s,h.children,l),h=zt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sy(r,l,s);else if(r.tag===19)sy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(xt(zt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&qu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Bd(s,!1,f,l,y);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&qu(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Bd(s,!0,l,null,y);break;case"together":Bd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function pi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Bs|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Ji(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ji(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function tS(r,s,l){switch(s.tag){case 3:ny(s),Fo();break;case 5:Sg(s);break;case 1:Nn(s.type)&&Lu(s);break;case 4:Id(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;xt(Uu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(xt(zt,zt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?iy(r,s,l):(xt(zt,zt.current&1),r=pi(r,s,l),r!==null?r.sibling:null);xt(zt,zt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(r.flags&128)!==0){if(h)return oy(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),xt(zt,zt.current),h)break;return null;case 22:case 23:return s.lanes=0,Zg(r,s,l)}return pi(r,s,l)}var ay,Wd,ly,uy;ay=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Wd=function(){},ly=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,zs(Hr.current);var y=null;switch(l){case"input":f=Et(r,f),h=Et(r,h),y=[];break;case"select":f=b({},f,{value:void 0}),h=b({},h,{value:void 0}),y=[];break;case"textarea":f=yn(r,f),h=yn(r,h),y=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Ou)}ue(l,h);var E;l=null;for(se in f)if(!h.hasOwnProperty(se)&&f.hasOwnProperty(se)&&f[se]!=null)if(se==="style"){var L=f[se];for(E in L)L.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(o.hasOwnProperty(se)?y||(y=[]):(y=y||[]).push(se,null));for(se in h){var z=h[se];if(L=f!=null?f[se]:void 0,h.hasOwnProperty(se)&&z!==L&&(z!=null||L!=null))if(se==="style")if(L){for(E in L)!L.hasOwnProperty(E)||z&&z.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in z)z.hasOwnProperty(E)&&L[E]!==z[E]&&(l||(l={}),l[E]=z[E])}else l||(y||(y=[]),y.push(se,l)),l=z;else se==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(y=y||[]).push(se,z)):se==="children"?typeof z!="string"&&typeof z!="number"||(y=y||[]).push(se,""+z):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(o.hasOwnProperty(se)?(z!=null&&se==="onScroll"&&bt("scroll",r),y||L===z||(y=[])):(y=y||[]).push(se,z))}l&&(y=y||[]).push("style",l);var se=y;(s.updateQueue=se)&&(s.flags|=4)}},uy=function(r,s,l,h){l!==h&&(s.flags|=4)};function cl(r,s){if(!Lt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function wn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function nS(r,s,l){var h=s.pendingProps;switch(dd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(s),null;case 1:return Nn(s.type)&&Nu(),wn(s),null;case 3:return h=s.stateNode,$o(),Ot(Dn),Ot(vn),Ad(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ju(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ir!==null&&(tf(Ir),Ir=null))),Wd(r,s),wn(s),null;case 5:Cd(s);var f=zs(sl.current);if(l=s.type,r!==null&&s.stateNode!=null)ly(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return wn(s),null}if(r=zs(Hr.current),ju(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[Wr]=s,h[el]=y,r=(s.mode&1)!==0,l){case"dialog":bt("cancel",h),bt("close",h);break;case"iframe":case"object":case"embed":bt("load",h);break;case"video":case"audio":for(f=0;f<Ja.length;f++)bt(Ja[f],h);break;case"source":bt("error",h);break;case"img":case"image":case"link":bt("error",h),bt("load",h);break;case"details":bt("toggle",h);break;case"input":Je(h,y),bt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},bt("invalid",h);break;case"textarea":jt(h,y),bt("invalid",h)}ue(l,y),f=null;for(var E in y)if(y.hasOwnProperty(E)){var L=y[E];E==="children"?typeof L=="string"?h.textContent!==L&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,L,r),f=["children",L]):typeof L=="number"&&h.textContent!==""+L&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,L,r),f=["children",""+L]):o.hasOwnProperty(E)&&L!=null&&E==="onScroll"&&bt("scroll",h)}switch(l){case"input":We(h),Pt(h,y,!0);break;case"textarea":We(h),lt(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Ou)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[Wr]=s,r[el]=h,ay(r,s,!1,!1),s.stateNode=r;e:{switch(E=ce(l,h),l){case"dialog":bt("cancel",r),bt("close",r),f=h;break;case"iframe":case"object":case"embed":bt("load",r),f=h;break;case"video":case"audio":for(f=0;f<Ja.length;f++)bt(Ja[f],r);f=h;break;case"source":bt("error",r),f=h;break;case"img":case"image":case"link":bt("error",r),bt("load",r),f=h;break;case"details":bt("toggle",r),f=h;break;case"input":Je(r,h),f=Et(r,h),bt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=b({},h,{value:void 0}),bt("invalid",r);break;case"textarea":jt(r,h),f=yn(r,h),bt("invalid",r);break;default:f=h}ue(l,f),L=f;for(y in L)if(L.hasOwnProperty(y)){var z=L[y];y==="style"?we(r,z):y==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&le(r,z)):y==="children"?typeof z=="string"?(l!=="textarea"||z!=="")&&re(r,z):typeof z=="number"&&re(r,""+z):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?z!=null&&y==="onScroll"&&bt("scroll",r):z!=null&&U(r,y,z,E))}switch(l){case"input":We(r),Pt(r,h,!1);break;case"textarea":We(r),lt(r);break;case"option":h.value!=null&&r.setAttribute("value",""+oe(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Ft(r,!!h.multiple,y,!1):h.defaultValue!=null&&Ft(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Ou)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return wn(s),null;case 6:if(r&&s.stateNode!=null)uy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=zs(sl.current),zs(Hr.current),ju(s)){if(h=s.stateNode,l=s.memoizedProps,h[Wr]=s,(y=h.nodeValue!==l)&&(r=Qn,r!==null))switch(r.tag){case 3:bu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&bu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Wr]=s,s.stateNode=h}return wn(s),null;case 13:if(Ot(zt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Lt&&Yn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)hg(),Fo(),s.flags|=98560,y=!1;else if(y=ju(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Wr]=s}else Fo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wn(s),y=!1}else Ir!==null&&(tf(Ir),Ir=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(zt.current&1)!==0?en===0&&(en=3):sf())),s.updateQueue!==null&&(s.flags|=4),wn(s),null);case 4:return $o(),Wd(r,s),r===null&&Xa(s.stateNode.containerInfo),wn(s),null;case 10:return vd(s.type._context),wn(s),null;case 17:return Nn(s.type)&&Nu(),wn(s),null;case 19:if(Ot(zt),y=s.memoizedState,y===null)return wn(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)cl(y,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=qu(r),E!==null){for(s.flags|=128,cl(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return xt(zt,zt.current&1|2),s.child}r=r.sibling}y.tail!==null&&kt()>qo&&(s.flags|=128,h=!0,cl(y,!1),s.lanes=4194304)}else{if(!h)if(r=qu(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),cl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Lt)return wn(s),null}else 2*kt()-y.renderingStartTime>qo&&l!==1073741824&&(s.flags|=128,h=!0,cl(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=kt(),s.sibling=null,l=zt.current,xt(zt,h?l&1|2:l&1),s):(wn(s),null);case 22:case 23:return rf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Jn&1073741824)!==0&&(wn(s),s.subtreeFlags&6&&(s.flags|=8192)):wn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function rS(r,s){switch(dd(s),s.tag){case 1:return Nn(s.type)&&Nu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return $o(),Ot(Dn),Ot(vn),Ad(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Cd(s),null;case 13:if(Ot(zt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Fo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ot(zt),null;case 4:return $o(),null;case 10:return vd(s.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var ec=!1,En=!1,iS=typeof WeakSet=="function"?WeakSet:Set,je=null;function Wo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Wt(r,s,h)}else l.current=null}function Hd(r,s,l){try{l()}catch(h){Wt(r,s,h)}}var cy=!1;function sS(r,s){if(rd=Vi,r=zm(),Qh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,L=-1,z=-1,se=0,Pe=0,Re=r,Ie=null;t:for(;;){for(var Ve;Re!==l||f!==0&&Re.nodeType!==3||(L=E+f),Re!==y||h!==0&&Re.nodeType!==3||(z=E+h),Re.nodeType===3&&(E+=Re.nodeValue.length),(Ve=Re.firstChild)!==null;)Ie=Re,Re=Ve;for(;;){if(Re===r)break t;if(Ie===l&&++se===f&&(L=E),Ie===y&&++Pe===h&&(z=E),(Ve=Re.nextSibling)!==null)break;Re=Ie,Ie=Re.parentNode}Re=Ve}l=L===-1||z===-1?null:{start:L,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(id={focusedElem:r,selectionRange:l},Vi=!1,je=s;je!==null;)if(s=je,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,je=r;else for(;je!==null;){s=je;try{var ze=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var $e=ze.memoizedProps,Ht=ze.memoizedState,X=s.stateNode,B=X.getSnapshotBeforeUpdate(s.elementType===s.type?$e:Cr(s.type,$e),Ht);X.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var Z=s.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(xe){Wt(s,s.return,xe)}if(r=s.sibling,r!==null){r.return=s.return,je=r;break}je=s.return}return ze=cy,cy=!1,ze}function hl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var y=f.destroy;f.destroy=void 0,y!==void 0&&Hd(s,l,y)}f=f.next}while(f!==h)}}function tc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function qd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function hy(r){var s=r.alternate;s!==null&&(r.alternate=null,hy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Wr],delete s[el],delete s[ld],delete s[zT],delete s[$T])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function dy(r){return r.tag===5||r.tag===3||r.tag===4}function fy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ou));else if(h!==4&&(r=r.child,r!==null))for(Gd(r,s,l),r=r.sibling;r!==null;)Gd(r,s,l),r=r.sibling}function Kd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Kd(r,s,l),r=r.sibling;r!==null;)Kd(r,s,l),r=r.sibling}var pn=null,Pr=!1;function qi(r,s,l){for(l=l.child;l!==null;)py(r,s,l),l=l.sibling}function py(r,s,l){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(ks,l)}catch{}switch(l.tag){case 5:En||Wo(l,s);case 6:var h=pn,f=Pr;pn=null,qi(r,s,l),pn=h,Pr=f,pn!==null&&(Pr?(r=pn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):pn.removeChild(l.stateNode));break;case 18:pn!==null&&(Pr?(r=pn,l=l.stateNode,r.nodeType===8?ad(r.parentNode,l):r.nodeType===1&&ad(r,l),Er(r)):ad(pn,l.stateNode));break;case 4:h=pn,f=Pr,pn=l.stateNode.containerInfo,Pr=!0,qi(r,s,l),pn=h,Pr=f;break;case 0:case 11:case 14:case 15:if(!En&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var y=f,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Hd(l,s,E),f=f.next}while(f!==h)}qi(r,s,l);break;case 1:if(!En&&(Wo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(L){Wt(l,s,L)}qi(r,s,l);break;case 21:qi(r,s,l);break;case 22:l.mode&1?(En=(h=En)||l.memoizedState!==null,qi(r,s,l),En=h):qi(r,s,l);break;default:qi(r,s,l)}}function my(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new iS),s.forEach(function(h){var f=pS.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function Ar(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var y=r,E=s,L=E;e:for(;L!==null;){switch(L.tag){case 5:pn=L.stateNode,Pr=!1;break e;case 3:pn=L.stateNode.containerInfo,Pr=!0;break e;case 4:pn=L.stateNode.containerInfo,Pr=!0;break e}L=L.return}if(pn===null)throw Error(t(160));py(y,E,f),pn=null,Pr=!1;var z=f.alternate;z!==null&&(z.return=null),f.return=null}catch(se){Wt(f,s,se)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gy(s,r),s=s.sibling}function gy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ar(s,r),Gr(r),h&4){try{hl(3,r,r.return),tc(3,r)}catch($e){Wt(r,r.return,$e)}try{hl(5,r,r.return)}catch($e){Wt(r,r.return,$e)}}break;case 1:Ar(s,r),Gr(r),h&512&&l!==null&&Wo(l,l.return);break;case 5:if(Ar(s,r),Gr(r),h&512&&l!==null&&Wo(l,l.return),r.flags&32){var f=r.stateNode;try{re(f,"")}catch($e){Wt(r,r.return,$e)}}if(h&4&&(f=r.stateNode,f!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,L=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{L==="input"&&y.type==="radio"&&y.name!=null&&ft(f,y),ce(L,E);var se=ce(L,y);for(E=0;E<z.length;E+=2){var Pe=z[E],Re=z[E+1];Pe==="style"?we(f,Re):Pe==="dangerouslySetInnerHTML"?le(f,Re):Pe==="children"?re(f,Re):U(f,Pe,Re,se)}switch(L){case"input":nt(f,y);break;case"textarea":qe(f,y);break;case"select":var Ie=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!y.multiple;var Ve=y.value;Ve!=null?Ft(f,!!y.multiple,Ve,!1):Ie!==!!y.multiple&&(y.defaultValue!=null?Ft(f,!!y.multiple,y.defaultValue,!0):Ft(f,!!y.multiple,y.multiple?[]:"",!1))}f[el]=y}catch($e){Wt(r,r.return,$e)}}break;case 6:if(Ar(s,r),Gr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,y=r.memoizedProps;try{f.nodeValue=y}catch($e){Wt(r,r.return,$e)}}break;case 3:if(Ar(s,r),Gr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Er(s.containerInfo)}catch($e){Wt(r,r.return,$e)}break;case 4:Ar(s,r),Gr(r);break;case 13:Ar(s,r),Gr(r),f=r.child,f.flags&8192&&(y=f.memoizedState!==null,f.stateNode.isHidden=y,!y||f.alternate!==null&&f.alternate.memoizedState!==null||(Jd=kt())),h&4&&my(r);break;case 22:if(Pe=l!==null&&l.memoizedState!==null,r.mode&1?(En=(se=En)||Pe,Ar(s,r),En=se):Ar(s,r),Gr(r),h&8192){if(se=r.memoizedState!==null,(r.stateNode.isHidden=se)&&!Pe&&(r.mode&1)!==0)for(je=r,Pe=r.child;Pe!==null;){for(Re=je=Pe;je!==null;){switch(Ie=je,Ve=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:hl(4,Ie,Ie.return);break;case 1:Wo(Ie,Ie.return);var ze=Ie.stateNode;if(typeof ze.componentWillUnmount=="function"){h=Ie,l=Ie.return;try{s=h,ze.props=s.memoizedProps,ze.state=s.memoizedState,ze.componentWillUnmount()}catch($e){Wt(h,l,$e)}}break;case 5:Wo(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){_y(Re);continue}}Ve!==null?(Ve.return=Ie,je=Ve):_y(Re)}Pe=Pe.sibling}e:for(Pe=null,Re=r;;){if(Re.tag===5){if(Pe===null){Pe=Re;try{f=Re.stateNode,se?(y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(L=Re.stateNode,z=Re.memoizedProps.style,E=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Me("display",E))}catch($e){Wt(r,r.return,$e)}}}else if(Re.tag===6){if(Pe===null)try{Re.stateNode.nodeValue=se?"":Re.memoizedProps}catch($e){Wt(r,r.return,$e)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===r)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===r)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===r)break e;Pe===Re&&(Pe=null),Re=Re.return}Pe===Re&&(Pe=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:Ar(s,r),Gr(r),h&4&&my(r);break;case 21:break;default:Ar(s,r),Gr(r)}}function Gr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(dy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(re(f,""),h.flags&=-33);var y=fy(r);Kd(r,y,f);break;case 3:case 4:var E=h.stateNode.containerInfo,L=fy(r);Gd(r,L,E);break;default:throw Error(t(161))}}catch(z){Wt(r,r.return,z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function oS(r,s,l){je=r,yy(r)}function yy(r,s,l){for(var h=(r.mode&1)!==0;je!==null;){var f=je,y=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||ec;if(!E){var L=f.alternate,z=L!==null&&L.memoizedState!==null||En;L=ec;var se=En;if(ec=E,(En=z)&&!se)for(je=f;je!==null;)E=je,z=E.child,E.tag===22&&E.memoizedState!==null?wy(f):z!==null?(z.return=E,je=z):wy(f);for(;y!==null;)je=y,yy(y),y=y.sibling;je=f,ec=L,En=se}vy(r)}else(f.subtreeFlags&8772)!==0&&y!==null?(y.return=f,je=y):vy(r)}}function vy(r){for(;je!==null;){var s=je;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:En||tc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!En)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Cr(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&mg(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}mg(s,E,l)}break;case 5:var L=s.stateNode;if(l===null&&s.flags&4){l=L;var z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&l.focus();break;case"img":z.src&&(l.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var se=s.alternate;if(se!==null){var Pe=se.memoizedState;if(Pe!==null){var Re=Pe.dehydrated;Re!==null&&Er(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}En||s.flags&512&&qd(s)}catch(Ie){Wt(s,s.return,Ie)}}if(s===r){je=null;break}if(l=s.sibling,l!==null){l.return=s.return,je=l;break}je=s.return}}function _y(r){for(;je!==null;){var s=je;if(s===r){je=null;break}var l=s.sibling;if(l!==null){l.return=s.return,je=l;break}je=s.return}}function wy(r){for(;je!==null;){var s=je;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{tc(4,s)}catch(z){Wt(s,l,z)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(z){Wt(s,f,z)}}var y=s.return;try{qd(s)}catch(z){Wt(s,y,z)}break;case 5:var E=s.return;try{qd(s)}catch(z){Wt(s,E,z)}}}catch(z){Wt(s,s.return,z)}if(s===r){je=null;break}var L=s.sibling;if(L!==null){L.return=s.return,je=L;break}je=s.return}}var aS=Math.ceil,nc=te.ReactCurrentDispatcher,Qd=te.ReactCurrentOwner,ar=te.ReactCurrentBatchConfig,vt=0,on=null,Qt=null,mn=0,Jn=0,Ho=zi(0),en=0,dl=null,Bs=0,rc=0,Yd=0,fl=null,Mn=null,Jd=0,qo=1/0,mi=null,ic=!1,Xd=null,Gi=null,sc=!1,Ki=null,oc=0,pl=0,Zd=null,ac=-1,lc=0;function kn(){return(vt&6)!==0?kt():ac!==-1?ac:ac=kt()}function Qi(r){return(r.mode&1)===0?1:(vt&2)!==0&&mn!==0?mn&-mn:WT.transition!==null?(lc===0&&(lc=bs()),lc):(r=dt,r!==0||(r=window.event,r=r===void 0?16:$a(r.type)),r)}function Rr(r,s,l,h){if(50<pl)throw pl=0,Zd=null,Error(t(185));Di(r,l,h),((vt&2)===0||r!==on)&&(r===on&&((vt&2)===0&&(rc|=l),en===4&&Yi(r,mn)),Vn(r,h),l===1&&vt===0&&(s.mode&1)===0&&(qo=kt()+500,Mu&&Bi()))}function Vn(r,s){var l=r.callbackNode;ri(r,s);var h=xs(r,r===on?mn:0);if(h===0)l!==null&&Va(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Va(l),s===1)r.tag===0?BT(Ty.bind(null,r)):og(Ty.bind(null,r)),jT(function(){(vt&6)===0&&Bi()}),l=null;else{switch(Li(h)){case 1:l=Rs;break;case 4:l=xi;break;case 16:l=er;break;case 536870912:l=lu;break;default:l=er}l=xy(l,Ey.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ey(r,s){if(ac=-1,lc=0,(vt&6)!==0)throw Error(t(327));var l=r.callbackNode;if(Go()&&r.callbackNode!==l)return null;var h=xs(r,r===on?mn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=uc(r,h);else{s=h;var f=vt;vt|=2;var y=Iy();(on!==r||mn!==s)&&(mi=null,qo=kt()+500,Hs(r,s));do try{cS();break}catch(L){Sy(r,L)}while(!0);yd(),nc.current=y,vt=f,Qt!==null?s=0:(on=null,mn=0,s=en)}if(s!==0){if(s===2&&(f=qn(r),f!==0&&(h=f,s=ef(r,f))),s===1)throw l=dl,Hs(r,0),Yi(r,h),Vn(r,kt()),l;if(s===6)Yi(r,h);else{if(f=r.current.alternate,(h&30)===0&&!lS(f)&&(s=uc(r,h),s===2&&(y=qn(r),y!==0&&(h=y,s=ef(r,y))),s===1))throw l=dl,Hs(r,0),Yi(r,h),Vn(r,kt()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:qs(r,Mn,mi);break;case 3:if(Yi(r,h),(h&130023424)===h&&(s=Jd+500-kt(),10<s)){if(xs(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){kn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=od(qs.bind(null,r,Mn,mi),s);break}qs(r,Mn,mi);break;case 4:if(Yi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-Pn(h);y=1<<E,E=s[E],E>f&&(f=E),h&=~y}if(h=f,h=kt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*aS(h/1960))-h,10<h){r.timeoutHandle=od(qs.bind(null,r,Mn,mi),h);break}qs(r,Mn,mi);break;case 5:qs(r,Mn,mi);break;default:throw Error(t(329))}}}return Vn(r,kt()),r.callbackNode===l?Ey.bind(null,r):null}function ef(r,s){var l=fl;return r.current.memoizedState.isDehydrated&&(Hs(r,s).flags|=256),r=uc(r,s),r!==2&&(s=Mn,Mn=l,s!==null&&tf(s)),r}function tf(r){Mn===null?Mn=r:Mn.push.apply(Mn,r)}function lS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],y=f.getSnapshot;f=f.value;try{if(!Sr(y(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(r,s){for(s&=~Yd,s&=~rc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Pn(s),h=1<<l;r[l]=-1,s&=~h}}function Ty(r){if((vt&6)!==0)throw Error(t(327));Go();var s=xs(r,0);if((s&1)===0)return Vn(r,kt()),null;var l=uc(r,s);if(r.tag!==0&&l===2){var h=qn(r);h!==0&&(s=h,l=ef(r,h))}if(l===1)throw l=dl,Hs(r,0),Yi(r,s),Vn(r,kt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,qs(r,Mn,mi),Vn(r,kt()),null}function nf(r,s){var l=vt;vt|=1;try{return r(s)}finally{vt=l,vt===0&&(qo=kt()+500,Mu&&Bi())}}function Ws(r){Ki!==null&&Ki.tag===0&&(vt&6)===0&&Go();var s=vt;vt|=1;var l=ar.transition,h=dt;try{if(ar.transition=null,dt=1,r)return r()}finally{dt=h,ar.transition=l,vt=s,(vt&6)===0&&Bi()}}function rf(){Jn=Ho.current,Ot(Ho)}function Hs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,FT(l)),Qt!==null)for(l=Qt.return;l!==null;){var h=l;switch(dd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Nu();break;case 3:$o(),Ot(Dn),Ot(vn),Ad();break;case 5:Cd(h);break;case 4:$o();break;case 13:Ot(zt);break;case 19:Ot(zt);break;case 10:vd(h.type._context);break;case 22:case 23:rf()}l=l.return}if(on=r,Qt=r=Ji(r.current,null),mn=Jn=s,en=0,dl=null,Yd=rc=Bs=0,Mn=fl=null,Us!==null){for(s=0;s<Us.length;s++)if(l=Us[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=f,h.next=E}l.pending=h}Us=null}return r}function Sy(r,s){do{var l=Qt;try{if(yd(),Gu.current=Ju,Ku){for(var h=$t.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Ku=!1}if($s=0,sn=Zt=$t=null,ol=!1,al=0,Qd.current=null,l===null||l.return===null){en=1,dl=s,Qt=null;break}e:{var y=r,E=l.return,L=l,z=s;if(s=mn,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var se=z,Pe=L,Re=Pe.tag;if((Pe.mode&1)===0&&(Re===0||Re===11||Re===15)){var Ie=Pe.alternate;Ie?(Pe.updateQueue=Ie.updateQueue,Pe.memoizedState=Ie.memoizedState,Pe.lanes=Ie.lanes):(Pe.updateQueue=null,Pe.memoizedState=null)}var Ve=Kg(E);if(Ve!==null){Ve.flags&=-257,Qg(Ve,E,L,y,s),Ve.mode&1&&Gg(y,se,s),s=Ve,z=se;var ze=s.updateQueue;if(ze===null){var $e=new Set;$e.add(z),s.updateQueue=$e}else ze.add(z);break e}else{if((s&1)===0){Gg(y,se,s),sf();break e}z=Error(t(426))}}else if(Lt&&L.mode&1){var Ht=Kg(E);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),Qg(Ht,E,L,y,s),md(Bo(z,L));break e}}y=z=Bo(z,L),en!==4&&(en=2),fl===null?fl=[y]:fl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var X=Hg(y,z,s);pg(y,X);break e;case 1:L=z;var B=y.type,Z=y.stateNode;if((y.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Gi===null||!Gi.has(Z)))){y.flags|=65536,s&=-s,y.lanes|=s;var xe=qg(y,L,s);pg(y,xe);break e}}y=y.return}while(y!==null)}Py(l)}catch(Be){s=Be,Qt===l&&l!==null&&(Qt=l=l.return);continue}break}while(!0)}function Iy(){var r=nc.current;return nc.current=Ju,r===null?Ju:r}function sf(){(en===0||en===3||en===2)&&(en=4),on===null||(Bs&268435455)===0&&(rc&268435455)===0||Yi(on,mn)}function uc(r,s){var l=vt;vt|=2;var h=Iy();(on!==r||mn!==s)&&(mi=null,Hs(r,s));do try{uS();break}catch(f){Sy(r,f)}while(!0);if(yd(),vt=l,nc.current=h,Qt!==null)throw Error(t(261));return on=null,mn=0,en}function uS(){for(;Qt!==null;)Cy(Qt)}function cS(){for(;Qt!==null&&!ou();)Cy(Qt)}function Cy(r){var s=ky(r.alternate,r,Jn);r.memoizedProps=r.pendingProps,s===null?Py(r):Qt=s,Qd.current=null}function Py(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=nS(l,s,Jn),l!==null){Qt=l;return}}else{if(l=rS(l,s),l!==null){l.flags&=32767,Qt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{en=6,Qt=null;return}}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=r}while(s!==null);en===0&&(en=5)}function qs(r,s,l){var h=dt,f=ar.transition;try{ar.transition=null,dt=1,hS(r,s,l,h)}finally{ar.transition=f,dt=h}return null}function hS(r,s,l,h){do Go();while(Ki!==null);if((vt&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Rt(r,y),r===on&&(Qt=on=null,mn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||sc||(sc=!0,xy(er,function(){return Go(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=ar.transition,ar.transition=null;var E=dt;dt=1;var L=vt;vt|=4,Qd.current=null,sS(r,l),gy(l,r),bT(id),Vi=!!rd,id=rd=null,r.current=l,oS(l),zh(),vt=L,dt=E,ar.transition=y}else r.current=l;if(sc&&(sc=!1,Ki=r,oc=f),y=r.pendingLanes,y===0&&(Gi=null),uu(l.stateNode),Vn(r,kt()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(ic)throw ic=!1,r=Xd,Xd=null,r;return(oc&1)!==0&&r.tag!==0&&Go(),y=r.pendingLanes,(y&1)!==0?r===Zd?pl++:(pl=0,Zd=r):pl=0,Bi(),null}function Go(){if(Ki!==null){var r=Li(oc),s=ar.transition,l=dt;try{if(ar.transition=null,dt=16>r?16:r,Ki===null)var h=!1;else{if(r=Ki,Ki=null,oc=0,(vt&6)!==0)throw Error(t(331));var f=vt;for(vt|=4,je=r.current;je!==null;){var y=je,E=y.child;if((je.flags&16)!==0){var L=y.deletions;if(L!==null){for(var z=0;z<L.length;z++){var se=L[z];for(je=se;je!==null;){var Pe=je;switch(Pe.tag){case 0:case 11:case 15:hl(8,Pe,y)}var Re=Pe.child;if(Re!==null)Re.return=Pe,je=Re;else for(;je!==null;){Pe=je;var Ie=Pe.sibling,Ve=Pe.return;if(hy(Pe),Pe===se){je=null;break}if(Ie!==null){Ie.return=Ve,je=Ie;break}je=Ve}}}var ze=y.alternate;if(ze!==null){var $e=ze.child;if($e!==null){ze.child=null;do{var Ht=$e.sibling;$e.sibling=null,$e=Ht}while($e!==null)}}je=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,je=E;else e:for(;je!==null;){if(y=je,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:hl(9,y,y.return)}var X=y.sibling;if(X!==null){X.return=y.return,je=X;break e}je=y.return}}var B=r.current;for(je=B;je!==null;){E=je;var Z=E.child;if((E.subtreeFlags&2064)!==0&&Z!==null)Z.return=E,je=Z;else e:for(E=B;je!==null;){if(L=je,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:tc(9,L)}}catch(Be){Wt(L,L.return,Be)}if(L===E){je=null;break e}var xe=L.sibling;if(xe!==null){xe.return=L.return,je=xe;break e}je=L.return}}if(vt=f,Bi(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(ks,r)}catch{}h=!0}return h}finally{dt=l,ar.transition=s}}return!1}function Ay(r,s,l){s=Bo(l,s),s=Hg(r,s,1),r=Hi(r,s,1),s=kn(),r!==null&&(Di(r,1,s),Vn(r,s))}function Wt(r,s,l){if(r.tag===3)Ay(r,r,l);else for(;s!==null;){if(s.tag===3){Ay(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gi===null||!Gi.has(h))){r=Bo(l,r),r=qg(s,r,1),s=Hi(s,r,1),r=kn(),s!==null&&(Di(s,1,r),Vn(s,r));break}}s=s.return}}function dS(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=kn(),r.pingedLanes|=r.suspendedLanes&l,on===r&&(mn&l)===l&&(en===4||en===3&&(mn&130023424)===mn&&500>kt()-Jd?Hs(r,0):Yd|=l),Vn(r,s)}function Ry(r,s){s===0&&((r.mode&1)===0?s=1:(s=go,go<<=1,(go&130023424)===0&&(go=4194304)));var l=kn();r=di(r,s),r!==null&&(Di(r,s,l),Vn(r,l))}function fS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Ry(r,l)}function pS(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Ry(r,l)}var ky;ky=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Dn.current)Ln=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Ln=!1,tS(r,s,l);Ln=(r.flags&131072)!==0}else Ln=!1,Lt&&(s.flags&1048576)!==0&&ag(s,Fu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Zu(r,s),r=s.pendingProps;var f=Lo(s,vn.current);Uo(s,l),f=xd(null,s,h,r,f,l);var y=bd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Nn(h)?(y=!0,Lu(s)):y=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ed(s),f.updater=Wu,s.stateNode=f,f._reactInternals=s,Sd(s,h,r,l),s=jd(null,s,h,!0,y,l)):(s.tag=0,Lt&&y&&hd(s),Rn(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Zu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=gS(h),r=Cr(h,r),f){case 0:s=Fd(null,s,h,r,l);break e;case 1:s=ty(null,s,h,r,l);break e;case 11:s=Yg(null,s,h,r,l);break e;case 14:s=Jg(null,s,h,Cr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),Fd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),ty(r,s,h,f,l);case 3:e:{if(ny(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,f=y.element,fg(r,s),Bu(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){f=Bo(Error(t(423)),s),s=ry(r,s,h,l,f);break e}else if(h!==f){f=Bo(Error(t(424)),s),s=ry(r,s,h,l,f);break e}else for(Yn=Ui(s.stateNode.containerInfo.firstChild),Qn=s,Lt=!0,Ir=null,l=Tg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),h===f){s=pi(r,s,l);break e}Rn(r,s,h,l)}s=s.child}return s;case 5:return Sg(s),r===null&&pd(s),h=s.type,f=s.pendingProps,y=r!==null?r.memoizedProps:null,E=f.children,sd(h,f)?E=null:y!==null&&sd(h,y)&&(s.flags|=32),ey(r,s),Rn(r,s,E,l),s.child;case 6:return r===null&&pd(s),null;case 13:return iy(r,s,l);case 4:return Id(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=zo(s,null,h,l):Rn(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),Yg(r,s,h,f,l);case 7:return Rn(r,s,s.pendingProps,l),s.child;case 8:return Rn(r,s,s.pendingProps.children,l),s.child;case 12:return Rn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,y=s.memoizedProps,E=f.value,xt(Uu,h._currentValue),h._currentValue=E,y!==null)if(Sr(y.value,E)){if(y.children===f.children&&!Dn.current){s=pi(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var L=y.dependencies;if(L!==null){E=y.child;for(var z=L.firstContext;z!==null;){if(z.context===h){if(y.tag===1){z=fi(-1,l&-l),z.tag=2;var se=y.updateQueue;if(se!==null){se=se.shared;var Pe=se.pending;Pe===null?z.next=z:(z.next=Pe.next,Pe.next=z),se.pending=z}}y.lanes|=l,z=y.alternate,z!==null&&(z.lanes|=l),_d(y.return,l,s),L.lanes|=l;break}z=z.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,L=E.alternate,L!==null&&(L.lanes|=l),_d(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Rn(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Uo(s,l),f=sr(f),h=h(f),s.flags|=1,Rn(r,s,h,l),s.child;case 14:return h=s.type,f=Cr(h,s.pendingProps),f=Cr(h.type,f),Jg(r,s,h,f,l);case 15:return Xg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),Zu(r,s),s.tag=1,Nn(h)?(r=!0,Lu(s)):r=!1,Uo(s,l),vg(s,h,f),Sd(s,h,f,l),jd(null,s,h,!0,r,l);case 19:return oy(r,s,l);case 22:return Zg(r,s,l)}throw Error(t(156,s.tag))};function xy(r,s){return po(r,s)}function mS(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,s,l,h){return new mS(r,s,l,h)}function of(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gS(r){if(typeof r=="function")return of(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===me)return 14}return 2}function Ji(r,s){var l=r.alternate;return l===null?(l=lr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function cc(r,s,l,h,f,y){var E=2;if(h=r,typeof r=="function")of(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case M:return Gs(l.children,f,y,s);case R:E=8,f|=8;break;case k:return r=lr(12,l,s,f|2),r.elementType=k,r.lanes=y,r;case O:return r=lr(13,l,s,f),r.elementType=O,r.lanes=y,r;case Te:return r=lr(19,l,s,f),r.elementType=Te,r.lanes=y,r;case _e:return hc(l,f,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case P:E=9;break e;case j:E=11;break e;case me:E=14;break e;case ge:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=lr(E,l,s,f),s.elementType=r,s.type=h,s.lanes=y,s}function Gs(r,s,l,h){return r=lr(7,r,h,s),r.lanes=l,r}function hc(r,s,l,h){return r=lr(22,r,h,s),r.elementType=_e,r.lanes=l,r.stateNode={isHidden:!1},r}function af(r,s,l){return r=lr(6,r,null,s),r.lanes=l,r}function lf(r,s,l){return s=lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function yS(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function uf(r,s,l,h,f,y,E,L,z){return r=new yS(r,s,l,L,z),s===1?(s=1,y===!0&&(s|=8)):s=0,y=lr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(y),r}function vS(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function by(r){if(!r)return $i;r=r._reactInternals;e:{if(gr(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Nn(l))return ig(r,l,s)}return s}function Oy(r,s,l,h,f,y,E,L,z){return r=uf(l,h,!0,r,f,y,E,L,z),r.context=by(null),l=r.current,h=kn(),f=Qi(l),y=fi(h,f),y.callback=s??null,Hi(l,y,f),r.current.lanes=f,Di(r,f,h),Vn(r,h),r}function dc(r,s,l,h){var f=s.current,y=kn(),E=Qi(f);return l=by(l),s.context===null?s.context=l:s.pendingContext=l,s=fi(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Hi(f,s,E),r!==null&&(Rr(r,f,E,y),$u(r,f,E)),E}function fc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function cf(r,s){Dy(r,s),(r=r.alternate)&&Dy(r,s)}function _S(){return null}var Ny=typeof reportError=="function"?reportError:function(r){console.error(r)};function hf(r){this._internalRoot=r}pc.prototype.render=hf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));dc(r,s,null,null)},pc.prototype.unmount=hf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ws(function(){dc(null,r,null,null)}),s[li]=null}};function pc(r){this._internalRoot=r}pc.prototype.unstable_scheduleHydration=function(r){if(r){var s=pu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Ur.length&&s!==0&&s<Ur[l].priority;l++);Ur.splice(l,0,r),l===0&&yu(r)}};function df(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ly(){}function wS(r,s,l,h,f){if(f){if(typeof h=="function"){var y=h;h=function(){var se=fc(E);y.call(se)}}var E=Oy(s,h,r,0,null,!1,!1,"",Ly);return r._reactRootContainer=E,r[li]=E.current,Xa(r.nodeType===8?r.parentNode:r),Ws(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var L=h;h=function(){var se=fc(z);L.call(se)}}var z=uf(r,0,!1,null,null,!1,!1,"",Ly);return r._reactRootContainer=z,r[li]=z.current,Xa(r.nodeType===8?r.parentNode:r),Ws(function(){dc(s,z,l,h)}),z}function gc(r,s,l,h,f){var y=l._reactRootContainer;if(y){var E=y;if(typeof f=="function"){var L=f;f=function(){var z=fc(E);L.call(z)}}dc(s,E,r,f)}else E=wS(l,s,r,f,h);return fc(E)}du=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=bi(s.pendingLanes);l!==0&&(Ni(s,l|1),Vn(s,kt()),(vt&6)===0&&(qo=kt()+500,Bi()))}break;case 13:Ws(function(){var h=di(r,1);if(h!==null){var f=kn();Rr(h,r,1,f)}}),cf(r,1)}},yo=function(r){if(r.tag===13){var s=di(r,134217728);if(s!==null){var l=kn();Rr(s,r,134217728,l)}cf(r,134217728)}},fu=function(r){if(r.tag===13){var s=Qi(r),l=di(r,s);if(l!==null){var h=kn();Rr(l,r,s,h)}cf(r,s)}},pu=function(){return dt},mu=function(r,s){var l=dt;try{return dt=r,s()}finally{dt=l}},he=function(r,s,l){switch(s){case"input":if(nt(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=Du(h);if(!f)throw Error(t(90));Le(h),nt(h,f)}}}break;case"textarea":qe(r,l);break;case"select":s=l.value,s!=null&&Ft(r,!!l.multiple,s,!1)}},_t=nf,Bn=Ws;var ES={usingClientEntryPoint:!1,Events:[tl,Do,Du,Xe,mt,nf]},ml={findFiberByHostInstance:Ms,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TS={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ma(r),r===null?null:r.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||_S,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ks=yc.inject(TS),Hn=yc}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ES,Fn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(s))throw Error(t(200));return vS(r,s,null,l)},Fn.createRoot=function(r,s){if(!df(r))throw Error(t(299));var l=!1,h="",f=Ny;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=uf(r,1,!1,null,null,l,!1,h,f),r[li]=s.current,Xa(r.nodeType===8?r.parentNode:r),new hf(s)},Fn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ma(s),r=r===null?null:r.stateNode,r},Fn.flushSync=function(r){return Ws(r)},Fn.hydrate=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!0,l)},Fn.hydrateRoot=function(r,s,l){if(!df(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,y="",E=Ny;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Oy(s,null,r,1,l??null,f,!1,y,E),r[li]=s.current,Xa(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new pc(s)},Fn.render=function(r,s,l){if(!mc(s))throw Error(t(200));return gc(null,r,s,!1,l)},Fn.unmountComponentAtNode=function(r){if(!mc(r))throw Error(t(40));return r._reactRootContainer?(Ws(function(){gc(null,null,r,!1,function(){r._reactRootContainer=null,r[li]=null})}),!0):!1},Fn.unstable_batchedUpdates=nf,Fn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!mc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return gc(r,s,l,!1,h)},Fn.version="18.2.0-next-9e3b772b8-20220608",Fn}var By;function xS(){if(By)return mf.exports;By=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mf.exports=kS(),mf.exports}var Wy;function bS(){if(Wy)return vc;Wy=1;var n=xS();return vc.createRoot=n.createRoot,vc.hydrateRoot=n.hydrateRoot,vc}var OS=bS(),yl={},Hy;function DS(){if(Hy)return yl;Hy=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=c,yl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,x){const A=new a,C=S.length;if(C<2)return A;const T=(x==null?void 0:x.decode)||_;let V=0;do{const F=S.indexOf("=",V);if(F===-1)break;const U=S.indexOf(";",V),te=U===-1?C:U;if(F>te){V=S.lastIndexOf(";",F-1)+1;continue}const $=d(S,V,F),fe=p(S,F,$),M=S.slice($,fe);if(A[M]===void 0){let R=d(S,F+1,te),k=p(S,te,R);const D=T(S.slice(R,k));A[M]=D}V=te+1}while(V<C);return A}function d(S,x,A){do{const C=S.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<A);return A}function p(S,x,A){for(;x>A;){const C=S.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return A}function m(S,x,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const T=C(x);if(!e.test(T))throw new TypeError(`argument val is invalid: ${x}`);let V=S+"="+T;if(!A)return V;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);V+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);V+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);V+="; Path="+A.path}if(A.expires){if(!w(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);V+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(V+="; HttpOnly"),A.secure&&(V+="; Secure"),A.partitioned&&(V+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return V}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function w(S){return o.call(S)==="[object Date]"}return yl}DS();var qy="popstate";function NS(n={}){function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return $f("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Nl(o)}return MS(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LS(){return Math.random().toString(36).substring(2,10)}function Gy(n,e){return{usr:n.state,key:n.key,idx:e}}function $f(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||i||LS()}}function Nl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ea(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function MS(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d="POP",p=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function w(){d="POP";let T=_(),V=T==null?null:T-m;m=T,p&&p({action:d,location:C.location,delta:V})}function S(T,V){d="PUSH";let F=$f(C.location,T,V);m=_()+1;let U=Gy(F,m),te=C.createHref(F);try{c.pushState(U,"",te)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(te)}a&&p&&p({action:d,location:C.location,delta:1})}function x(T,V){d="REPLACE";let F=$f(C.location,T,V);m=_();let U=Gy(F,m),te=C.createHref(F);c.replaceState(U,"",te),a&&p&&p({action:d,location:C.location,delta:0})}function A(T){return VS(T)}let C={get action(){return d},get location(){return n(o,c)},listen(T){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qy,w),p=T,()=>{o.removeEventListener(qy,w),p=null}},createHref(T){return e(o,T)},createURL:A,encodeLocation(T){let V=A(T);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:x,go(T){return c.go(T)}};return C}function VS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Nl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function rw(n,e,t="/"){return FS(n,e,t,!1)}function FS(n,e,t,i){let o=typeof e=="string"?Ea(e):e,a=Ti(o.pathname||"/",t);if(a==null)return null;let c=iw(n);jS(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=YS(a);d=KS(c[p],m,i)}return d}function iw(n,e=[],t=[],i=""){let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(Vt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=_i([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(Vt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),iw(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:qS(m,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of sw(a.path))o(a,c,p)}),e}function sw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=sw(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function jS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var US=/^:[\w-]+$/,zS=3,$S=2,BS=1,WS=10,HS=-2,Ky=n=>n==="*";function qS(n,e){let t=n.split("/"),i=t.length;return t.some(Ky)&&(i+=HS),e&&(i+=$S),t.filter(o=>!Ky(o)).reduce((o,a)=>o+(US.test(a)?zS:a===""?BS:WS),i)}function GS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function KS(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],m=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",w=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),S=p.route;if(!w&&m&&t&&!i[i.length-1].route.index&&(w=zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:_i([a,w.pathname]),pathnameBase:eI(_i([a,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(a=_i([a,w.pathnameBase]))}return c}function zc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=QS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:_,isOptional:w},S)=>{if(_==="*"){let A=d[S]||"";c=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const x=d[S];return w&&!x?m[_]=void 0:m[_]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function QS(n,e=!1,t=!0){Nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function YS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ti(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function JS(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ea(n):n;return{pathname:t?t.startsWith("/")?t:XS(t,e):e,search:tI(i),hash:nI(o)}}function XS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function vf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sp(n){let e=ZS(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ip(n,e,t,i=!1){let o;typeof n=="string"?o=Ea(n):(o={...n},Vt(!o.pathname||!o.pathname.includes("?"),vf("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),vf("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),vf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}d=w>=0?e[w]:"/"}let p=JS(o,d),m=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var _i=n=>n.join("/").replace(/\/\/+/g,"/"),eI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),tI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ow=["POST","PUT","PATCH","DELETE"];new Set(ow);var iI=["GET",...ow];new Set(iI);var Ta=Y.createContext(null);Ta.displayName="DataRouter";var ch=Y.createContext(null);ch.displayName="DataRouterState";var aw=Y.createContext({isTransitioning:!1});aw.displayName="ViewTransition";var sI=Y.createContext(new Map);sI.displayName="Fetchers";var oI=Y.createContext(null);oI.displayName="Await";var Vr=Y.createContext(null);Vr.displayName="Navigation";var zl=Y.createContext(null);zl.displayName="Location";var Fr=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var Cp=Y.createContext(null);Cp.displayName="RouteError";function aI(n,{relative:e}={}){Vt(Sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Y.useContext(Vr),{hash:o,pathname:a,search:c}=Bl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:_i([t,a])),i.createHref({pathname:d,search:c,hash:o})}function Sa(){return Y.useContext(zl)!=null}function Es(){return Vt(Sa(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(zl).location}var lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uw(n){Y.useContext(Vr).static||Y.useLayoutEffect(n)}function $l(){let{isDataRoute:n}=Y.useContext(Fr);return n?wI():lI()}function lI(){Vt(Sa(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(Ta),{basename:e,navigator:t}=Y.useContext(Vr),{matches:i}=Y.useContext(Fr),{pathname:o}=Es(),a=JSON.stringify(Sp(i)),c=Y.useRef(!1);return uw(()=>{c.current=!0}),Y.useCallback((p,m={})=>{if(Nr(c.current,lw),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Ip(p,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:_i([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}Y.createContext(null);function cw(){let{matches:n}=Y.useContext(Fr),e=n[n.length-1];return e?e.params:{}}function Bl(n,{relative:e}={}){let{matches:t}=Y.useContext(Fr),{pathname:i}=Es(),o=JSON.stringify(Sp(t));return Y.useMemo(()=>Ip(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function uI(n,e){return hw(n,e)}function hw(n,e,t,i){var F;Vt(Sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=Y.useContext(Vr),{matches:c}=Y.useContext(Fr),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",w=d&&d.route;{let U=w&&w.path||"";dw(m,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let S=Es(),x;if(e){let U=typeof e=="string"?Ea(e):e;Vt(_==="/"||((F=U.pathname)==null?void 0:F.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${U.pathname}" was given in the \`location\` prop.`),x=U}else x=S;let A=x.pathname||"/",C=A;if(_!=="/"){let U=_.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(U.length).join("/")}let T=!a&&t&&t.matches&&t.matches.length>0?t.matches:rw(n,{pathname:C});Nr(w||T!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Nr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=pI(T&&T.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:_i([_,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?_:_i([_,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),c,t,i);return e&&V?Y.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},V):V}function cI(){let n=_I(),e=rI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:a},"ErrorBoundary")," or"," ",Y.createElement("code",{style:a},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:o},t):null,c)}var hI=Y.createElement(cI,null),dI=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Y.createElement(Fr.Provider,{value:this.props.routeContext},Y.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fI({routeContext:n,match:e,children:t}){let i=Y.useContext(Ta);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Fr.Provider,{value:n},t)}function pI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Vt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let m=o[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:w}=t,S=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,m,_)=>{let w,S=!1,x=null,A=null;t&&(w=a&&m.route.id?a[m.route.id]:void 0,x=m.route.errorElement||hI,c&&(d<0&&_===0?(dw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,A=null):d===_&&(S=!0,A=m.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,_+1)),T=()=>{let V;return w?V=x:S?V=A:m.route.Component?V=Y.createElement(m.route.Component,null):m.route.element?V=m.route.element:V=p,Y.createElement(fI,{match:m,routeContext:{outlet:p,matches:C,isDataRoute:t!=null},children:V})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?Y.createElement(dI,{location:t.location,revalidation:t.revalidation,component:x,error:w,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}function Pp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mI(n){let e=Y.useContext(Ta);return Vt(e,Pp(n)),e}function gI(n){let e=Y.useContext(ch);return Vt(e,Pp(n)),e}function yI(n){let e=Y.useContext(Fr);return Vt(e,Pp(n)),e}function Ap(n){let e=yI(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function vI(){return Ap("useRouteId")}function _I(){var i;let n=Y.useContext(Cp),e=gI("useRouteError"),t=Ap("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function wI(){let{router:n}=mI("useNavigate"),e=Ap("useNavigate"),t=Y.useRef(!1);return uw(()=>{t.current=!0}),Y.useCallback(async(o,a={})=>{Nr(t.current,lw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Qy={};function dw(n,e,t){!e&&!Qy[n]&&(Qy[n]=!0,Nr(!1,t))}Y.memo(EI);function EI({routes:n,future:e,state:t}){return hw(n,void 0,t,e)}function Bf({to:n,replace:e,state:t,relative:i}){Vt(Sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(Vr);Nr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Y.useContext(Fr),{pathname:c}=Es(),d=$l(),p=Ip(n,Sp(a),c,i==="path"),m=JSON.stringify(p);return Y.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function ss(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Vt(!Sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=Y.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=Ea(t));let{pathname:p="/",search:m="",hash:_="",state:w=null,key:S="default"}=t,x=Y.useMemo(()=>{let A=Ti(p,c);return A==null?null:{location:{pathname:A,search:m,hash:_,state:w,key:S},navigationType:i}},[c,p,m,_,w,S,i]);return Nr(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Y.createElement(Vr.Provider,{value:d},Y.createElement(zl.Provider,{children:e,value:x}))}function fw({children:n,location:e}){return uI(Wf(n),e)}function Wf(n,e=[]){let t=[];return Y.Children.forEach(n,(i,o)=>{if(!Y.isValidElement(i))return;let a=[...e,o];if(i.type===Y.Fragment){t.push.apply(t,Wf(i.props.children,a));return}Vt(i.type===ss,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Wf(i.props.children,a)),t.push(c)}),t}var Rc="get",kc="application/x-www-form-urlencoded";function hh(n){return n!=null&&typeof n.tagName=="string"}function SI(n){return hh(n)&&n.tagName.toLowerCase()==="button"}function II(n){return hh(n)&&n.tagName.toLowerCase()==="form"}function CI(n){return hh(n)&&n.tagName.toLowerCase()==="input"}function PI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AI(n,e){return n.button===0&&(!e||e==="_self")&&!PI(n)}var _c=null;function RI(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var kI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _f(n){return n!=null&&!kI.has(n)?(Nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):n}function xI(n,e){let t,i,o,a,c;if(II(n)){let d=n.getAttribute("action");i=d?Ti(d,e):null,t=n.getAttribute("method")||Rc,o=_f(n.getAttribute("enctype"))||kc,a=new FormData(n)}else if(SI(n)||CI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Ti(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Rc,o=_f(n.getAttribute("formenctype"))||_f(d.getAttribute("enctype"))||kc,a=new FormData(d,n),!RI()){let{name:m,type:_,value:w}=n;if(_==="image"){let S=m?`${m}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else m&&a.append(m,w)}}else{if(hh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rc,i=null,o=kc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Rp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function bI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function DI(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await bI(a,t);return c.links?c.links():[]}return[]}));return VI(i.flat(1).filter(OI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(n,e,t,i,o,a){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>{var _;return t[m].pathname!==p.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):a==="data"?e.filter((p,m)=>{var w;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function NI(n,e,{includeHydrateFallback:t}={}){return LI(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function LI(n){return[...new Set(n)]}function MI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function VI(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(MI(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FI=new Set([100,101,204,205]);function jI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ti(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function pw(){let n=Y.useContext(Ta);return Rp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function UI(){let n=Y.useContext(ch);return Rp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var kp=Y.createContext(void 0);kp.displayName="FrameworkContext";function mw(){let n=Y.useContext(kp);return Rp(n,"You must render this element inside a <HydratedRouter> element"),n}function zI(n,e){let t=Y.useContext(kp),[i,o]=Y.useState(!1),[a,c]=Y.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:w}=e,S=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=V=>{V.forEach(F=>{c(F.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return S.current&&T.observe(S.current),()=>{T.disconnect()}}},[n]),Y.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let x=()=>{o(!0)},A=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,S,{}]:[a,S,{onFocus:vl(d,x),onBlur:vl(p,A),onMouseEnter:vl(m,x),onMouseLeave:vl(_,A),onTouchStart:vl(w,x)}]:[!1,S,{}]}function vl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $I({page:n,...e}){let{router:t}=pw(),i=Y.useMemo(()=>rw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Y.createElement(WI,{page:n,matches:i,...e}):null}function BI(n){let{manifest:e,routeModules:t}=mw(),[i,o]=Y.useState([]);return Y.useEffect(()=>{let a=!1;return DI(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function WI({page:n,matches:e,...t}){let i=Es(),{manifest:o,routeModules:a}=mw(),{basename:c}=pw(),{loaderData:d,matches:p}=UI(),m=Y.useMemo(()=>Yy(n,e,p,o,i,"data"),[n,e,p,o,i]),_=Y.useMemo(()=>Yy(n,e,p,o,i,"assets"),[n,e,p,o,i]),w=Y.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,C=!1;if(e.forEach(V=>{var U;let F=o.routes[V.route.id];!F||!F.hasLoader||(!m.some(te=>te.route.id===V.route.id)&&V.route.id in d&&((U=a[V.route.id])!=null&&U.shouldRevalidate)||F.hasClientLoader?C=!0:A.add(V.route.id))}),A.size===0)return[];let T=jI(n,c);return C&&A.size>0&&T.searchParams.set("_routes",e.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[T.pathname+T.search]},[c,d,i,o,m,e,n,a]),S=Y.useMemo(()=>NI(_,o),[_,o]),x=BI(_);return Y.createElement(Y.Fragment,null,w.map(A=>Y.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),S.map(A=>Y.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),x.map(({key:A,link:C})=>Y.createElement("link",{key:A,...C})))}function HI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gw&&(window.__reactRouterVersion="7.6.0")}catch{}function qI({basename:n,children:e,window:t}){let i=Y.useRef();i.current==null&&(i.current=NS({window:t,v5Compat:!0}));let o=i.current,[a,c]=Y.useState({action:o.action,location:o.location}),d=Y.useCallback(p=>{Y.startTransition(()=>c(p))},[c]);return Y.useLayoutEffect(()=>o.listen(d),[o,d]),Y.createElement(TI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vw=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:d,target:p,to:m,preventScrollReset:_,viewTransition:w,...S},x){let{basename:A}=Y.useContext(Vr),C=typeof m=="string"&&yw.test(m),T,V=!1;if(typeof m=="string"&&C&&(T=m,gw))try{let k=new URL(window.location.href),D=m.startsWith("//")?new URL(k.protocol+m):new URL(m),P=Ti(D.pathname,A);D.origin===k.origin&&P!=null?m=P+D.search+D.hash:V=!0}catch{Nr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=aI(m,{relative:o}),[U,te,$]=zI(i,S),fe=YI(m,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:w});function M(k){e&&e(k),k.defaultPrevented||fe(k)}let R=Y.createElement("a",{...S,...$,href:T||F,onClick:V||a?e:M,ref:HI(x,te),target:p,"data-discover":!C&&t==="render"?"true":void 0});return U&&!C?Y.createElement(Y.Fragment,null,R,Y.createElement($I,{page:F})):R});vw.displayName="Link";var GI=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p,...m},_){let w=Bl(c,{relative:m.relative}),S=Es(),x=Y.useContext(ch),{navigator:A,basename:C}=Y.useContext(Vr),T=x!=null&&tC(w)&&d===!0,V=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,F=S.pathname,U=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(F=F.toLowerCase(),U=U?U.toLowerCase():null,V=V.toLowerCase()),U&&C&&(U=Ti(U,C)||U);const te=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let $=F===V||!o&&F.startsWith(V)&&F.charAt(te)==="/",fe=U!=null&&(U===V||!o&&U.startsWith(V)&&U.charAt(V.length)==="/"),M={isActive:$,isPending:fe,isTransitioning:T},R=$?e:void 0,k;typeof i=="function"?k=i(M):k=[i,$?"active":null,fe?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(M):a;return Y.createElement(vw,{...m,"aria-current":R,className:k,ref:_,style:D,to:c,viewTransition:d},typeof p=="function"?p(M):p)});GI.displayName="NavLink";var KI=Y.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Rc,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:w,...S},x)=>{let A=ZI(),C=eC(d,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&yw.test(d),F=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let te=U.nativeEvent.submitter,$=(te==null?void 0:te.getAttribute("formmethod"))||c;A(te||U.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:w})};return Y.createElement("form",{ref:x,method:T,action:C,onSubmit:i?p:F,...S,"data-discover":!V&&n==="render"?"true":void 0})});KI.displayName="Form";function QI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(n){let e=Y.useContext(Ta);return Vt(e,QI(n)),e}function YI(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let d=$l(),p=Es(),m=Bl(n,{relative:a});return Y.useCallback(_=>{if(AI(_,e)){_.preventDefault();let w=t!==void 0?t:Nl(p)===Nl(m);d(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,d,m,t,i,e,n,o,a,c])}var JI=0,XI=()=>`__${String(++JI)}__`;function ZI(){let{router:n}=_w("useSubmit"),{basename:e}=Y.useContext(Vr),t=vI();return Y.useCallback(async(i,o={})=>{let{action:a,method:c,encType:d,formData:p,body:m}=xI(i,e);if(o.navigate===!1){let _=o.fetcherKey||XI();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function eC(n,{relative:e}={}){let{basename:t}=Y.useContext(Vr),i=Y.useContext(Fr);Vt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Bl(n||".",{relative:e})},c=Es();if(n==null){a.search=c.search;let d=new URLSearchParams(a.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:_i([t,a.pathname])),Nl(a)}function tC(n,e={}){let t=Y.useContext(aw);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_w("useViewTransitionState"),o=Bl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ti(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Ti(t.nextLocation.pathname,i)||t.nextLocation.pathname;return zc(o.pathname,c)!=null||zc(o.pathname,a)!=null}[...FI];const nC=()=>{};var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},rC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let S=(d&15)<<2|m>>6,x=m&63;p||(x=64,c||(S=64)),i.push(t[_],t[w],t[S],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ww(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new iC;const S=a<<2|d>>4;if(i.push(S),m!==64){const x=d<<4&240|m>>2;if(i.push(x),w!==64){const A=m<<6&192|w;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(n){const e=ww(n);return Ew.encodeByteArray(e,!0)},$c=function(n){return sC(n).replace(/\./g,"")},Tw=function(n){try{return Ew.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=()=>oC().__FIREBASE_DEFAULTS__,lC=()=>{if(typeof process>"u"||typeof Jy>"u")return;const n=Jy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},uC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Tw(n[1]);return e&&JSON.parse(e)},dh=()=>{try{return nC()||aC()||lC()||uC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sw=n=>{var e,t;return(t=(e=dh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cC=n=>{const e=Sw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Iw=()=>{var n;return(n=dh())===null||n===void 0?void 0:n.config},Cw=n=>{var e;return(e=dh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$c(JSON.stringify(t)),$c(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function pC(){var n;const e=(n=dh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const n=Cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _C(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="FirebaseError";class Ri extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=TC,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wl.prototype.create)}}class Wl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?SC(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ri(o,d,i)}}function SC(n,e){return n.replace(IC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const IC=/\{\$([^}]+)}/g;function CC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Si(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Xy(a)&&Xy(c)){if(!Si(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Xy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function El(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Tl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function PC(n,e){const t=new AC(n,e);return t.subscribe.bind(t)}class AC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");RC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=wf),o.error===void 0&&(o.error=wf),o.complete===void 0&&(o.complete=wf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n){return n.endsWith(".cloudworkstations.dev")}async function Pw(n){return(await fetch(n,{credentials:"include"})).ok}class Js{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new hC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bC(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xC(n){return n===Qs?void 0:n}function bC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const DC={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},NC=ct.INFO,LC={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},MC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=LC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=NC,this._logHandler=MC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const VC=(n,e)=>e.some(t=>n instanceof t);let Zy,ev;function FC(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Aw=new WeakMap,Hf=new WeakMap,Rw=new WeakMap,Ef=new WeakMap,bp=new WeakMap;function UC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(as(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Aw.set(t,n)}).catch(()=>{}),bp.set(e,n),e}function zC(n){if(Hf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Hf.set(n,e)}let qf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Rw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $C(n){qf=n(qf)}function BC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Tf(this),e,...t);return Rw.set(i,e.sort?e.sort():[e]),as(i)}:jC().includes(n)?function(...e){return n.apply(Tf(this),e),as(Aw.get(this))}:function(...e){return as(n.apply(Tf(this),e))}}function WC(n){return typeof n=="function"?BC(n):(n instanceof IDBTransaction&&zC(n),VC(n,FC())?new Proxy(n,qf):n)}function as(n){if(n instanceof IDBRequest)return UC(n);if(Ef.has(n))return Ef.get(n);const e=WC(n);return e!==n&&(Ef.set(n,e),bp.set(e,n)),e}const Tf=n=>bp.get(n);function HC(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=as(c);return i&&c.addEventListener("upgradeneeded",p=>{i(as(c.result),p.oldVersion,p.newVersion,as(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const qC=["get","getKey","getAll","getAllKeys","count"],GC=["put","add","delete","clear"],Sf=new Map;function tv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=GC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||qC.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&p.done]))[0]};return Sf.set(e,a),a}$C(n=>({...n,get:(e,t,i)=>tv(e,t)||n.get(e,t,i),has:(e,t)=>!!tv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function QC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gf="@firebase/app",nv="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new xp("@firebase/app"),YC="@firebase/app-compat",JC="@firebase/analytics-compat",XC="@firebase/analytics",ZC="@firebase/app-check-compat",e1="@firebase/app-check",t1="@firebase/auth",n1="@firebase/auth-compat",r1="@firebase/database",i1="@firebase/data-connect",s1="@firebase/database-compat",o1="@firebase/functions",a1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",d1="@firebase/performance",f1="@firebase/performance-compat",p1="@firebase/remote-config",m1="@firebase/remote-config-compat",g1="@firebase/storage",y1="@firebase/storage-compat",v1="@firebase/firestore",_1="@firebase/vertexai",w1="@firebase/firestore-compat",E1="firebase",T1="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",S1={[Gf]:"fire-core",[YC]:"fire-core-compat",[XC]:"fire-analytics",[JC]:"fire-analytics-compat",[e1]:"fire-app-check",[ZC]:"fire-app-check-compat",[t1]:"fire-auth",[n1]:"fire-auth-compat",[r1]:"fire-rtdb",[i1]:"fire-data-connect",[s1]:"fire-rtdb-compat",[o1]:"fire-fn",[a1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[d1]:"fire-perf",[f1]:"fire-perf-compat",[p1]:"fire-rc",[m1]:"fire-rc-compat",[g1]:"fire-gcs",[y1]:"fire-gcs-compat",[v1]:"fire-fst",[w1]:"fire-fst-compat",[_1]:"fire-vertex","fire-js":"fire-js",[E1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,I1=new Map,Qf=new Map;function rv(n,e){try{n.container.addComponent(e)}catch(t){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function aa(n){const e=n.name;if(Qf.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,n);for(const t of Bc.values())rv(t,n);for(const t of I1.values())rv(t,n);return!0}function Op(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function br(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Wl("app","Firebase",C1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=T1;function kw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(t||(t=Iw()),!t)throw ls.create("no-options");const a=Bc.get(o);if(a){if(Si(t,a.options)&&Si(i,a.config))return a;throw ls.create("duplicate-app",{appName:o})}const c=new OC(o);for(const p of Qf.values())c.addComponent(p);const d=new P1(t,i,c);return Bc.set(o,d),d}function xw(n=Kf){const e=Bc.get(n);if(!e&&n===Kf&&Iw())return kw();if(!e)throw ls.create("no-app",{appName:n});return e}function us(n,e,t){var i;let o=(i=S1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(d.join(" "));return}aa(new Js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebase-heartbeat-database",R1=1,Ll="firebase-heartbeat-store";let If=null;function bw(){return If||(If=HC(A1,R1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ll)}catch(t){console.warn(t)}}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),If}async function k1(n){try{const t=(await bw()).transaction(Ll),i=await t.objectStore(Ll).get(Ow(n));return await t.done,i}catch(e){if(e instanceof Ri)Ii.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(t.message)}}}async function iv(n,e){try{const i=(await bw()).transaction(Ll,"readwrite");await i.objectStore(Ll).put(e,Ow(n)),await i.done}catch(t){if(t instanceof Ri)Ii.warn(t.message);else{const i=ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(i.message)}}}function Ow(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=1024,b1=30;class O1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new N1(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>b1){const c=L1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sv(),{heartbeatsToSend:i,unsentEntries:o}=D1(this._heartbeatsCache.heartbeats),a=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ii.warn(t),""}}}function sv(){return new Date().toISOString().substring(0,10)}function D1(n,e=x1){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),ov(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ov(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class N1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await k1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return iv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return iv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ov(n){return $c(JSON.stringify({version:2,heartbeats:n})).length}function L1(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n){aa(new Js("platform-logger",e=>new KC(e),"PRIVATE")),aa(new Js("heartbeat",e=>new O1(e),"PRIVATE")),us(Gf,nv,n),us(Gf,nv,"esm2017"),us("fire-js","")}M1("");var V1="firebase",F1="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(V1,F1,"app");function Dp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j1=Dw,Nw=new Wl("auth","Firebase",Dw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new xp("@firebase/auth");function U1(n,...e){Wc.logLevel<=ct.WARN&&Wc.warn(`Auth (${Ia}): ${n}`,...e)}function xc(n,...e){Wc.logLevel<=ct.ERROR&&Wc.error(`Auth (${Ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n,...e){throw Np(n,...e)}function Yr(n,...e){return Np(n,...e)}function Lw(n,e,t){const i=Object.assign(Object.assign({},j1()),{[e]:t});return new Wl("auth","Firebase",i).create(e,{appName:n.name})}function cs(n){return Lw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nw.create(n,...e)}function Ze(n,e,...t){if(!n)throw Np(e,...t)}function yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xc(e),new Error(e)}function Ci(n,e){n||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function z1(){return av()==="http:"||av()==="https:"}function av(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z1()||gC()||"connection"in navigator)?navigator.onLine:!0}function B1(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ci(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||yC()}get(){return $1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n,e){Ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q1=new ql(3e4,6e4);function so(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ki(n,e,t,i,o={}){return Vw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=Hl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},a);return mC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&fh(n.emulatorConfig.host)&&(m.credentials="include"),Mw.fetch()(await Fw(n,n.config.apiHost,t,d),m)})}async function Vw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},W1),e);try{const o=new K1(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw wc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw wc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Lw(n,_,m);Lr(n,_)}}catch(o){if(o instanceof Ri)throw o;Lr(n,"network-request-failed",{message:String(o)})}}async function ph(n,e,t,i,o={}){const a=await ki(n,e,t,i,o);return"mfaPendingCredential"in a&&Lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Fw(n,e,t,i){const o=`${e}${t}?${i}`,a=n,c=a.config.emulator?Lp(n.config,o):`${n.config.apiScheme}://${o}`;return H1.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function G1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class K1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Yr(this.auth,"network-request-failed")),q1.get())})}}function wc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Yr(n,e,i);return o.customData._tokenResponse=t,o}function lv(n){return n!==void 0&&n.enterprise!==void 0}class Q1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return G1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Y1(n,e){return ki(n,"GET","/v2/recaptchaConfig",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(n,e){return ki(n,"POST","/v1/accounts:delete",e)}async function Hc(n,e){return ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X1(n,e=!1){const t=cn(n),i=await t.getIdToken(e),o=Mp(i);Ze(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Al(Cf(o.auth_time)),issuedAtTime:Al(Cf(o.iat)),expirationTime:Al(Cf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cf(n){return Number(n)*1e3}function Mp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tw(t);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uv(n){const e=Mp(n);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ri&&Z1(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Z1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await la(n,Hc(t,{idToken:i}));Ze(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?jw(a.providerUserInfo):[],d=nP(n.providerData,c),p=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Jf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function tP(n){const e=cn(n);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nP(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function jw(n){return n.map(e=>{var{providerId:t}=e,i=Dp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n,e){const t=await Vw(n,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await Fw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Mw.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iP(n,e){return ki(n,"POST","/v2/accounts:revokeToken",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const t=uv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await rP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new ra;return i&&(Ze(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ze(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ze(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(n,e){Ze(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Jf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await la(this,this.stsTokenManager.getToken(this.auth,e));return Ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return X1(this,e)}reload(){return tP(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(br(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await la(this,J1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,m,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,x=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(c=t.photoURL)!==null&&c!==void 0?c:void 0,C=(d=t.tenantId)!==null&&d!==void 0?d:void 0,T=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,V=(m=t.createdAt)!==null&&m!==void 0?m:void 0,F=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:U,emailVerified:te,isAnonymous:$,providerData:fe,stsTokenManager:M}=t;Ze(U&&M,e,"internal-error");const R=ra.fromJSON(this.name,M);Ze(typeof U=="string",e,"internal-error"),Zi(w,e.name),Zi(S,e.name),Ze(typeof te=="boolean",e,"internal-error"),Ze(typeof $=="boolean",e,"internal-error"),Zi(x,e.name),Zi(A,e.name),Zi(C,e.name),Zi(T,e.name),Zi(V,e.name),Zi(F,e.name);const k=new Or({uid:U,auth:e,email:S,emailVerified:te,displayName:w,isAnonymous:$,photoURL:A,phoneNumber:x,tenantId:C,stsTokenManager:R,createdAt:V,lastLoginAt:F});return fe&&Array.isArray(fe)&&(k.providerData=fe.map(D=>Object.assign({},D))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new ra;o.updateFromServerResponse(t);const a=new Or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ze(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?jw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new ra;d.updateFromIdToken(i);const p=new Or({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Jf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;function vi(n){Ci(n instanceof Function,"Expected a class definition");let e=cv.get(n);return e?(Ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Uw.type="NONE";const hv=Uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class ia{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hc(this.auth,{idToken:e}).catch(()=>{});return t?Or._fromGetAccountInfoResponse(this.auth,t,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ia(vi(hv),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||vi(hv);const c=bc(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){let w;if(typeof _=="string"){const S=await Hc(e,{idToken:_}).catch(()=>{});if(!S)break;w=await Or._fromGetAccountInfoResponse(e,S,_)}else w=Or._fromJSON(e,_);m!==a&&(d=w),a=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new ia(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new ia(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qw(e))return"Blackberry";if(Gw(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||Bw(e))&&!e.includes("edge/"))return"Chrome";if(Hw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zw(n=Cn()){return/firefox\//i.test(n)}function $w(n=Cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bw(n=Cn()){return/crios\//i.test(n)}function Ww(n=Cn()){return/iemobile/i.test(n)}function Hw(n=Cn()){return/android/i.test(n)}function qw(n=Cn()){return/blackberry/i.test(n)}function Gw(n=Cn()){return/webos/i.test(n)}function Vp(n=Cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sP(n=Cn()){var e;return Vp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oP(){return vC()&&document.documentMode===10}function Kw(n=Cn()){return Vp(n)||Hw(n)||Gw(n)||qw(n)||/windows phone/i.test(n)||Ww(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n,e=[]){let t;switch(n){case"Browser":t=dv(Cn());break;case"Worker":t=`${dv(Cn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(n,e={}){return ki(n,"GET","/v2/passwordPolicy",so(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=6;class cP{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:uP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fv(this),this.idTokenSubscription=new fv(this),this.beforeStateQueue=new aP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue(async()=>{var i,o,a;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hc(this,{idToken:e}),i=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(br(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(br(this.app))return Promise.reject(cs(this));const t=e?cn(e):null;return t&&Ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return br(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return br(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lP(this),t=new cP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await iP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;Ze(t,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&U1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ca(n){return cn(n)}class fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=PC(t=>this.observer=t)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dP(n){mh=n}function Yw(n){return mh.loadJS(n)}function fP(){return mh.recaptchaEnterpriseScript}function pP(){return mh.gapiScript}function mP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class gP{constructor(){this.enterprise=new yP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const vP="recaptcha-enterprise",Jw="NO_RECAPTCHA";class _P{constructor(e){this.type=vP,this.auth=Ca(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{Y1(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new Q1(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function o(a,c,d){const p=window.grecaptcha;lv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(Jw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gP().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(d=>{if(!t&&lv(window.grecaptcha))o(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fP();p.length!==0&&(p+=d),Yw(p).then(()=>{o(d,a,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function pv(n,e,t,i=!1,o=!1){const a=new _P(n);let c;if(o)c=Jw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function mv(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await pv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n,e){const t=Op(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Si(a,e??{}))return o;Lr(o,"already-initialized")}return t.initialize({options:e})}function EP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(vi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function TP(n,e,t){const i=Ca(n);Ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Xw(e),{host:c,port:d}=SP(e),p=d===null?"":`:${d}`,m={url:`${a}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ze(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ze(Si(m,i.config.emulator)&&Si(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,IP(),fh(c)&&Pw(`${a}//${c}${p}`)}function Xw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SP(n){const e=Xw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:gv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:gv(c)}}}function gv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,t){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function CP(n,e){return ki(n,"POST","/v1/accounts:update",e)}async function PP(n,e){return ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e){return ph(n,"POST","/v1/accounts:signInWithPassword",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(n,e){return ph(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}async function kP(n,e){return ph(n,"POST","/v1/accounts:signInWithEmailLink",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Fp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ml(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ml(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,t,"signInWithPassword",AP);case"emailLink":return RP(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,i,"signUpPassword",PP);case"emailLink":return kP(e,{idToken:t,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n,e){return ph(n,"POST","/v1/accounts:signInWithIdp",so(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="http://localhost";class Xs extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Dp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Xs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return sa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,sa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sa(e,t)}buildRequest(){const e={requestUri:xP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OP(n){const e=El(Tl(n)).link,t=e?El(Tl(e)).deep_link_id:null,i=El(Tl(n)).deep_link_id;return(i?El(Tl(i)).link:null)||i||t||e||n}class jp{constructor(e){var t,i,o,a,c,d;const p=El(Tl(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,w=bP((o=p.mode)!==null&&o!==void 0?o:null);Ze(m&&_&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=OP(e);try{return new jp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,t){return Ml._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=jp.parseLink(t);return Ze(i,"argument-error"),Ml._fromEmailAndCode(e,i.code,i.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Zw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Gl{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xs._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ns.credential(t,i)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Gl{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Gl{constructor(){super("twitter.com")}static credential(e,t){return Xs._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return is.credential(t,i)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Or._fromIdTokenResponse(e,i,o),c=yv(i);return new ua({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=yv(i);return new ua({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function yv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Ri{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Gc(e,t,i,o)}}function e0(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(n,a,e,i):a})}async function DP(n,e,t=!1){const i=await la(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ua._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n,e,t=!1){const{auth:i}=n;if(br(i.app))return Promise.reject(cs(i));const o="reauthenticate";try{const a=await la(n,e0(i,o,e,n),t);Ze(a.idToken,i,"internal-error");const c=Mp(a.idToken);Ze(c,i,"internal-error");const{sub:d}=c;return Ze(n.uid===d,i,"user-mismatch"),ua._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(n,e,t=!1){if(br(n.app))return Promise.reject(cs(n));const i="signIn",o=await e0(n,i,e),a=await ua._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function LP(n,e){return t0(Ca(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(n){const e=Ca(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function VP(n,e,t){return br(n.app)?Promise.reject(cs(n)):LP(cn(n),Pa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&MP(n),i})}function FP(n,e){return jP(cn(n),null,e)}async function jP(n,e,t){const{auth:i}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const c=await la(n,CP(i,a));await n._updateTokensIfNecessary(c,!0)}function UP(n,e,t,i){return cn(n).onIdTokenChanged(e,t,i)}function zP(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function $P(n,e,t,i){return cn(n).onAuthStateChanged(e,t,i)}function BP(n){return cn(n).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=1e3,HP=10;class r0 extends n0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);oP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},WP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}r0.type="LOCAL";const qP=r0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends n0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}i0.type="SESSION";const s0=i0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new gh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async m=>m(t.origin,a)),p=await GP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const m=Up("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(S.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function QP(n){Jr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function YP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function XP(){return o0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="firebaseLocalStorageDb",ZP=1,Qc="firebaseLocalStorage",l0="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yh(n,e){return n.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function eA(){const n=indexedDB.deleteDatabase(a0);return new Kl(n).toPromise()}function Xf(){const n=indexedDB.open(a0,ZP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Qc,{keyPath:l0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Qc)?e(i):(i.close(),await eA(),e(await Xf()))})})}async function vv(n,e,t){const i=yh(n,!0).put({[l0]:e,value:t});return new Kl(i).toPromise()}async function tA(n,e){const t=yh(n,!1).get(e),i=await new Kl(t).toPromise();return i===void 0?null:i.value}function _v(n,e){const t=yh(n,!0).delete(e);return new Kl(t).toPromise()}const nA=800,rA=3;class u0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>rA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(XP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YP(),!this.activeServiceWorker)return;this.sender=new KP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xf();return await vv(e,Kc,"1"),await _v(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>vv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_v(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=yh(o,!1).getAll();return new Kl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u0.type="LOCAL";const iA=u0;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n,e){return e?vi(e):(Ze(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oA(n){return t0(n.auth,new zp(n),n.bypassAuthState)}function aA(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),NP(t,new zp(n),n.bypassAuthState)}async function lA(n){const{auth:e,user:t}=n;return Ze(t,e,"internal-error"),DP(t,new zp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oA;case"linkViaPopup":case"linkViaRedirect":return lA;case"reauthViaPopup":case"reauthViaRedirect":return aA;default:Lr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=new ql(2e3,1e4);class ea extends c0{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uA.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="pendingRedirect",Oc=new Map;class hA extends c0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const i=await dA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dA(n,e){const t=mA(e),i=pA(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function fA(n,e){Oc.set(n._key(),e)}function pA(n){return vi(n._redirectPersistence)}function mA(n){return bc(cA,n.config.apiKey,n.name)}async function gA(n,e,t=!1){if(br(n.app))return Promise.reject(cs(n));const i=Ca(n),o=sA(i,e),c=await new hA(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=10*60*1e3;class vA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_A(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!h0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Yr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yA&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}function wv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function h0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _A(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(n,e={}){return ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TA=/^https?/;async function SA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wA(n);for(const t of e)try{if(IA(t))return}catch{}Lr(n,"unauthorized-domain")}function IA(n){const e=Yf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!TA.test(t))return!1;if(EA.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new ql(3e4,6e4);function Ev(){const n=Jr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PA(n){return new Promise((e,t)=>{var i,o,a;function c(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),t(Yr(n,"network-request-failed"))},timeout:CA.get()})}if(!((o=(i=Jr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Jr().gapi)===null||a===void 0)&&a.load)c();else{const d=mP("iframefcb");return Jr()[d]=()=>{gapi.load?c():t(Yr(n,"network-request-failed"))},Yw(`${pP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function AA(n){return Dc=Dc||PA(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new ql(5e3,15e3),kA="__/auth/iframe",xA="emulator/auth/iframe",bA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DA(n){const e=n.config;Ze(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lp(e,xA):`https://${n.config.authDomain}/${kA}`,i={apiKey:e.apiKey,appName:n.name,v:Ia},o=OA.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Hl(i).slice(1)}`}async function NA(n){const e=await AA(n),t=Jr().gapi;return Ze(t,n,"internal-error"),e.open({where:document.body,url:DA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bA,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Yr(n,"network-request-failed"),d=Jr().setTimeout(()=>{a(c)},RA.get());function p(){Jr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MA=500,VA=600,FA="_blank",jA="http://localhost";class Tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UA(n,e,t,i=MA,o=VA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},LA),{width:i.toString(),height:o.toString(),top:a,left:c}),m=Cn().toLowerCase();t&&(d=Bw(m)?FA:t),zw(m)&&(e=e||jA,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[x,A])=>`${S}${x}=${A},`,"");if(sP(m)&&d!=="_self")return zA(e||"",d),new Tv(null);const w=window.open(e||"",d,_);Ze(w,n,"popup-blocked");try{w.focus()}catch{}return new Tv(w)}function zA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="__/auth/handler",BA="emulator/auth/handler",WA=encodeURIComponent("fac");async function Sv(n,e,t,i,o,a){Ze(n.config.authDomain,n,"auth-domain-config-required"),Ze(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ia,eventId:o};if(e instanceof Zw){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",CC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof Gl){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),m=p?`#${WA}=${encodeURIComponent(p)}`:"";return`${HA(n)}?${Hl(d).slice(1)}${m}`}function HA({config:n}){return n.emulator?Lp(n,BA):`https://${n.authDomain}/${$A}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class qA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s0,this._completeRedirectFn=gA,this._overrideRedirectResult=fA}async _openPopup(e,t,i,o){var a;Ci((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await Sv(e,t,i,Yf(),o);return UA(e,c,Up())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await Sv(e,t,i,Yf(),o);return QP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Ci(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await NA(e),i=new vA(e);return t.register("authEvent",o=>(Ze(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pf,{type:Pf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Pf];c!==void 0&&t(!!c),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kw()||$w()||Vp()}}const GA=qA;var Iv="@firebase/auth",Cv="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YA(n){aa(new Js("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ze(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qw(n)},m=new hP(i,o,a,p);return EP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),aa(new Js("auth-internal",e=>{const t=Ca(e.getProvider("auth").getImmediate());return(i=>new KA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Iv,Cv,QA(n)),us(Iv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=5*60,XA=Cw("authIdTokenMaxAge")||JA;let Pv=null;const ZA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>XA)return;const o=t==null?void 0:t.token;Pv!==o&&(Pv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eR(n=xw()){const e=Op(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wP(n,{popupRedirectResolver:GA,persistence:[iA,qP,s0]}),i=Cw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=ZA(a.toString());zP(t,c,()=>c(t.currentUser)),UP(t,d=>c(d))}}const o=Sw("auth");return o&&TP(t,`http://${o}`),t}function tR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Yr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",tR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YA("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,d0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function k(){}k.prototype=R.prototype,M.D=R.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(D,P,j){for(var O=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)O[Te-2]=arguments[Te];return R.prototype[P].apply(D,O)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,k){k||(k=0);var D=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)D[P]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(P=0;16>P;++P)D[P]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=M.g[0],k=M.g[1],P=M.g[2];var j=M.g[3],O=R+(j^k&(P^j))+D[0]+3614090360&4294967295;R=k+(O<<7&4294967295|O>>>25),O=j+(P^R&(k^P))+D[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(k^j&(R^k))+D[2]+606105819&4294967295,P=j+(O<<17&4294967295|O>>>15),O=k+(R^P&(j^R))+D[3]+3250441966&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(j^k&(P^j))+D[4]+4118548399&4294967295,R=k+(O<<7&4294967295|O>>>25),O=j+(P^R&(k^P))+D[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(k^j&(R^k))+D[6]+2821735955&4294967295,P=j+(O<<17&4294967295|O>>>15),O=k+(R^P&(j^R))+D[7]+4249261313&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(j^k&(P^j))+D[8]+1770035416&4294967295,R=k+(O<<7&4294967295|O>>>25),O=j+(P^R&(k^P))+D[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(k^j&(R^k))+D[10]+4294925233&4294967295,P=j+(O<<17&4294967295|O>>>15),O=k+(R^P&(j^R))+D[11]+2304563134&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(j^k&(P^j))+D[12]+1804603682&4294967295,R=k+(O<<7&4294967295|O>>>25),O=j+(P^R&(k^P))+D[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=P+(k^j&(R^k))+D[14]+2792965006&4294967295,P=j+(O<<17&4294967295|O>>>15),O=k+(R^P&(j^R))+D[15]+1236535329&4294967295,k=P+(O<<22&4294967295|O>>>10),O=R+(P^j&(k^P))+D[1]+4129170786&4294967295,R=k+(O<<5&4294967295|O>>>27),O=j+(k^P&(R^k))+D[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(j^R))+D[11]+643717713&4294967295,P=j+(O<<14&4294967295|O>>>18),O=k+(j^R&(P^j))+D[0]+3921069994&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(P^j&(k^P))+D[5]+3593408605&4294967295,R=k+(O<<5&4294967295|O>>>27),O=j+(k^P&(R^k))+D[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(j^R))+D[15]+3634488961&4294967295,P=j+(O<<14&4294967295|O>>>18),O=k+(j^R&(P^j))+D[4]+3889429448&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(P^j&(k^P))+D[9]+568446438&4294967295,R=k+(O<<5&4294967295|O>>>27),O=j+(k^P&(R^k))+D[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(j^R))+D[3]+4107603335&4294967295,P=j+(O<<14&4294967295|O>>>18),O=k+(j^R&(P^j))+D[8]+1163531501&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(P^j&(k^P))+D[13]+2850285829&4294967295,R=k+(O<<5&4294967295|O>>>27),O=j+(k^P&(R^k))+D[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=P+(R^k&(j^R))+D[7]+1735328473&4294967295,P=j+(O<<14&4294967295|O>>>18),O=k+(j^R&(P^j))+D[12]+2368359562&4294967295,k=P+(O<<20&4294967295|O>>>12),O=R+(k^P^j)+D[5]+4294588738&4294967295,R=k+(O<<4&4294967295|O>>>28),O=j+(R^k^P)+D[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^k)+D[11]+1839030562&4294967295,P=j+(O<<16&4294967295|O>>>16),O=k+(P^j^R)+D[14]+4259657740&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(k^P^j)+D[1]+2763975236&4294967295,R=k+(O<<4&4294967295|O>>>28),O=j+(R^k^P)+D[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^k)+D[7]+4139469664&4294967295,P=j+(O<<16&4294967295|O>>>16),O=k+(P^j^R)+D[10]+3200236656&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(k^P^j)+D[13]+681279174&4294967295,R=k+(O<<4&4294967295|O>>>28),O=j+(R^k^P)+D[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^k)+D[3]+3572445317&4294967295,P=j+(O<<16&4294967295|O>>>16),O=k+(P^j^R)+D[6]+76029189&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(k^P^j)+D[9]+3654602809&4294967295,R=k+(O<<4&4294967295|O>>>28),O=j+(R^k^P)+D[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=P+(j^R^k)+D[15]+530742520&4294967295,P=j+(O<<16&4294967295|O>>>16),O=k+(P^j^R)+D[2]+3299628645&4294967295,k=P+(O<<23&4294967295|O>>>9),O=R+(P^(k|~j))+D[0]+4096336452&4294967295,R=k+(O<<6&4294967295|O>>>26),O=j+(k^(R|~P))+D[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~k))+D[14]+2878612391&4294967295,P=j+(O<<15&4294967295|O>>>17),O=k+(j^(P|~R))+D[5]+4237533241&4294967295,k=P+(O<<21&4294967295|O>>>11),O=R+(P^(k|~j))+D[12]+1700485571&4294967295,R=k+(O<<6&4294967295|O>>>26),O=j+(k^(R|~P))+D[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~k))+D[10]+4293915773&4294967295,P=j+(O<<15&4294967295|O>>>17),O=k+(j^(P|~R))+D[1]+2240044497&4294967295,k=P+(O<<21&4294967295|O>>>11),O=R+(P^(k|~j))+D[8]+1873313359&4294967295,R=k+(O<<6&4294967295|O>>>26),O=j+(k^(R|~P))+D[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~k))+D[6]+2734768916&4294967295,P=j+(O<<15&4294967295|O>>>17),O=k+(j^(P|~R))+D[13]+1309151649&4294967295,k=P+(O<<21&4294967295|O>>>11),O=R+(P^(k|~j))+D[4]+4149444226&4294967295,R=k+(O<<6&4294967295|O>>>26),O=j+(k^(R|~P))+D[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=P+(R^(j|~k))+D[2]+718787259&4294967295,P=j+(O<<15&4294967295|O>>>17),O=k+(j^(P|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+j&4294967295}i.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var k=R-this.blockSize,D=this.B,P=this.h,j=0;j<R;){if(P==0)for(;j<=k;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(D[P++]=M.charCodeAt(j++),P==this.blockSize){o(this,D),P=0;break}}else for(;j<R;)if(D[P++]=M[j++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=R},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var k=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=k&255,k/=256;for(this.u(M),M=Array(16),R=k=0;4>R;++R)for(var D=0;32>D;D+=8)M[k++]=this.g[R]>>>D&255;return M};function a(M,R){var k=d;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=R(M)}function c(M,R){this.h=R;for(var k=[],D=!0,P=M.length-1;0<=P;P--){var j=M[P]|0;D&&j==R||(k[P]=j,D=!1)}this.g=k}var d={};function p(M){return-128<=M&&128>M?a(M,function(R){return new c([R|0],0>R?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return T(m(-M));for(var R=[],k=1,D=0;M>=k;D++)R[D]=M/k|0,k*=4294967296;return new c(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return T(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),D=w,P=0;P<M.length;P+=8){var j=Math.min(8,M.length-P),O=parseInt(M.substring(P,P+j),R);8>j?(j=m(Math.pow(R,j)),D=D.j(j).add(m(O))):(D=D.j(k),D=D.add(m(O)))}return D}var w=p(0),S=p(1),x=p(16777216);n=c.prototype,n.m=function(){if(C(this))return-T(this).m();for(var M=0,R=1,k=0;k<this.g.length;k++){var D=this.i(k);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(C(this))return"-"+T(this).toString(M);for(var R=m(Math.pow(M,6)),k=this,D="";;){var P=te(k,R).g;k=V(k,P.j(R));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=P,A(k))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function C(M){return M.h==-1}n.l=function(M){return M=V(this,M),C(M)?-1:A(M)?0:1};function T(M){for(var R=M.g.length,k=[],D=0;D<R;D++)k[D]=~M.g[D];return new c(k,~M.h).add(S)}n.abs=function(){return C(this)?T(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],D=0,P=0;P<=R;P++){var j=D+(this.i(P)&65535)+(M.i(P)&65535),O=(j>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);D=O>>>16,j&=65535,O&=65535,k[P]=O<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function V(M,R){return M.add(T(R))}n.j=function(M){if(A(this)||A(M))return w;if(C(this))return C(M)?T(this).j(T(M)):T(T(this).j(M));if(C(M))return T(this.j(T(M)));if(0>this.l(x)&&0>M.l(x))return m(this.m()*M.m());for(var R=this.g.length+M.g.length,k=[],D=0;D<2*R;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<M.g.length;P++){var j=this.i(D)>>>16,O=this.i(D)&65535,Te=M.i(P)>>>16,me=M.i(P)&65535;k[2*D+2*P]+=O*me,F(k,2*D+2*P),k[2*D+2*P+1]+=j*me,F(k,2*D+2*P+1),k[2*D+2*P+1]+=O*Te,F(k,2*D+2*P+1),k[2*D+2*P+2]+=j*Te,F(k,2*D+2*P+2)}for(D=0;D<R;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=R;D<2*R;D++)k[D]=0;return new c(k,0)};function F(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function U(M,R){this.g=M,this.h=R}function te(M,R){if(A(R))throw Error("division by zero");if(A(M))return new U(w,w);if(C(M))return R=te(T(M),R),new U(T(R.g),T(R.h));if(C(R))return R=te(M,T(R)),new U(T(R.g),R.h);if(30<M.g.length){if(C(M)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var k=S,D=R;0>=D.l(M);)k=$(k),D=$(D);var P=fe(k,1),j=fe(D,1);for(D=fe(D,2),k=fe(k,2);!A(D);){var O=j.add(D);0>=O.l(M)&&(P=P.add(k),j=O),D=fe(D,1),k=fe(k,1)}return R=V(M,P.j(R)),new U(P,R)}for(P=w;0<=M.l(R);){for(k=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=m(k),O=j.j(R);C(O)||0<O.l(M);)k-=D,j=m(k),O=j.j(R);A(j)&&(j=S),P=P.add(j),M=V(M,O)}return new U(P,M)}n.A=function(M){return te(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],D=0;D<R;D++)k[D]=this.i(D)&M.i(D);return new c(k,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],D=0;D<R;D++)k[D]=this.i(D)|M.i(D);return new c(k,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),k=[],D=0;D<R;D++)k[D]=this.i(D)^M.i(D);return new c(k,this.h^M.h)};function $(M){for(var R=M.g.length+1,k=[],D=0;D<R;D++)k[D]=M.i(D)<<1|M.i(D-1)>>>31;return new c(k,M.h)}function fe(M,R){var k=R>>5;R%=32;for(var D=M.g.length-k,P=[],j=0;j<D;j++)P[j]=0<R?M.i(j+k)>>>R|M.i(j+k+1)<<32-R:M.i(j+k);return new c(P,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,d0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,hs=c}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f0,Sl,p0,Nc,Zf,m0,g0,y0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var J=u[I];if(!(J in v))break e;v=v[J]}u=u[u.length-1],I=v[u],g=g(I),g!=I&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var v=0,I=!1,J={next:function(){if(!I&&v<u.length){var ae=v++;return{value:g(ae,u[ae]),done:!1}}return I=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function _(u,g,v){return u.call.apply(u.bind,arguments)}function w(u,g,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,I),u.apply(g,J)}}return function(){return u.apply(g,arguments)}}function S(u,g,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,S.apply(null,arguments)}function x(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function A(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,J,ae){for(var Ne=Array(arguments.length-2),At=2;At<arguments.length;At++)Ne[At-2]=arguments[At];return g.prototype[J].apply(I,Ne)}}function C(u){const g=u.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=u[I];return v}return[]}function T(u,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const J=u.length||0,ae=I.length||0;u.length=J+ae;for(let Ne=0;Ne<ae;Ne++)u[J+Ne]=I[Ne]}else u.push(I)}}class V{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(u){return/^[\s\xa0]*$/.test(u)}function U(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var $=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function fe(u,g,v){for(const I in u)g.call(v,u[I],I,u)}function M(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function R(u){const g={};for(const v in u)g[v]=u[v];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let v,I;for(let J=1;J<arguments.length;J++){I=arguments[J];for(v in I)u[v]=I[v];for(let ae=0;ae<k.length;ae++)v=k[ae],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function P(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function j(u){d.setTimeout(()=>{throw u},0)}function O(){var u=pe;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Te{constructor(){this.h=this.g=null}add(g,v){const I=me.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var me=new V(()=>new ge,u=>u.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Q=!1,pe=new Te,b=()=>{const u=d.Promise.resolve(void 0);_e=()=>{u.then(H)}};var H=()=>{for(var u;u=O();){try{u.h.call(u.g)}catch(v){j(v)}var g=me;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,g),d.removeEventListener("test",v,g)}catch{}return u}();function Ce(u,g){if(K.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if($){e:{try{te(g.nodeName);var J=!0;break e}catch{}J=!1}J||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:q[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}A(Ce,K);var q={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),oe=0;function Ue(u,g,v,I,J){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=J,this.key=++oe,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function We(u){this.src=u,this.g={},this.h=0}We.prototype.add=function(u,g,v,I,J){var ae=u.toString();u=this.g[ae],u||(u=this.g[ae]=[],this.h++);var Ne=it(u,g,I,J);return-1<Ne?(g=u[Ne],v||(g.fa=!1)):(g=new Ue(g,this.src,ae,!!I,J),g.fa=v,u.push(g)),g};function Le(u,g){var v=g.type;if(v in u.g){var I=u.g[v],J=Array.prototype.indexOf.call(I,g,void 0),ae;(ae=0<=J)&&Array.prototype.splice.call(I,J,1),ae&&(de(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function it(u,g,v,I){for(var J=0;J<u.length;++J){var ae=u[J];if(!ae.da&&ae.listener==g&&ae.capture==!!v&&ae.ha==I)return J}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),Je={};function ft(u,g,v,I,J){if(Array.isArray(g)){for(var ae=0;ae<g.length;ae++)ft(u,g[ae],v,I,J);return null}return v=lt(v),u&&u[Oe]?u.K(g,v,m(I)?!!I.capture:!1,J):nt(u,g,v,!1,I,J)}function nt(u,g,v,I,J,ae){if(!g)throw Error("Invalid event type");var Ne=m(J)?!!J.capture:!!J,At=jt(u);if(At||(u[Et]=At=new We(u)),v=At.add(g,v,I,Ne,ae),v.proxy)return v;if(I=Pt(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)ie||(J=Ne),J===void 0&&(J=!1),u.addEventListener(g.toString(),I,J);else if(u.attachEvent)u.attachEvent(Ft(g.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pt(){function u(v){return g.call(u.src,u.listener,v)}const g=yn;return u}function Tt(u,g,v,I,J){if(Array.isArray(g))for(var ae=0;ae<g.length;ae++)Tt(u,g[ae],v,I,J);else I=m(I)?!!I.capture:!!I,v=lt(v),u&&u[Oe]?(u=u.i,g=String(g).toString(),g in u.g&&(ae=u.g[g],v=it(ae,v,I,J),-1<v&&(de(ae[v]),Array.prototype.splice.call(ae,v,1),ae.length==0&&(delete u.g[g],u.h--)))):u&&(u=jt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=it(g,v,I,J)),(v=-1<u?g[u]:null)&&ot(v))}function ot(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Oe])Le(g.i,u);else{var v=u.type,I=u.proxy;g.removeEventListener?g.removeEventListener(v,I,u.capture):g.detachEvent?g.detachEvent(Ft(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=jt(g))?(Le(v,u),v.h==0&&(v.src=null,g[Et]=null)):de(u)}}}function Ft(u){return u in Je?Je[u]:Je[u]="on"+u}function yn(u,g){if(u.da)u=!0;else{g=new Ce(g,this);var v=u.listener,I=u.ha||u.src;u.fa&&ot(u),u=v.call(I,g)}return u}function jt(u){return u=u[Et],u instanceof We?u:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(u){return typeof u=="function"?u:(u[qe]||(u[qe]=function(g){return u.handleEvent(g)}),u[qe])}function pt(){G.call(this),this.i=new We(this),this.M=this,this.F=null}A(pt,G),pt.prototype[Oe]=!0,pt.prototype.removeEventListener=function(u,g,v,I){Tt(this,u,g,v,I)};function N(u,g){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=g.type||g,typeof g=="string")g=new K(g,u);else if(g instanceof K)g.target=g.target||u;else{var J=g;g=new K(I,u),D(g,J)}if(J=!0,v)for(var ae=v.length-1;0<=ae;ae--){var Ne=g.g=v[ae];J=W(Ne,I,!0,g)&&J}if(Ne=g.g=u,J=W(Ne,I,!0,g)&&J,J=W(Ne,I,!1,g)&&J,v)for(ae=0;ae<v.length;ae++)Ne=g.g=v[ae],J=W(Ne,I,!1,g)&&J}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],I=0;I<v.length;I++)de(v[I]);delete u.g[g],u.h--}}this.F=null},pt.prototype.K=function(u,g,v,I){return this.i.add(String(u),g,!1,v,I)},pt.prototype.L=function(u,g,v,I){return this.i.add(String(u),g,!0,v,I)};function W(u,g,v,I){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var J=!0,ae=0;ae<g.length;++ae){var Ne=g[ae];if(Ne&&!Ne.da&&Ne.capture==v){var At=Ne.listener,Xt=Ne.ha||Ne.src;Ne.fa&&Le(u.i,Ne),J=At.call(Xt,I)!==!1&&J}}return J&&!I.defaultPrevented}function le(u,g,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(u,g||0)}function re(u){u.g=le(()=>{u.g=null,u.i&&(u.i=!1,re(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Se extends G{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ke(u){G.call(this),this.h=u,this.g={}}A(ke,G);var Me=[];function we(u){fe(u.g,function(g,v){this.g.hasOwnProperty(v)&&ot(g)},u),u.g={}}ke.prototype.N=function(){ke.aa.N.call(this),we(this)},ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ee=d.JSON.stringify,ue=d.JSON.parse,ce=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function be(){}be.prototype.h=null;function ne(u){return u.h||(u.h=u.i())}function he(){}var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function De(){K.call(this,"d")}A(De,K);function Ge(){K.call(this,"c")}A(Ge,K);var Xe={},mt=null;function _t(){return mt=mt||new pt}Xe.La="serverreachability";function Bn(u){K.call(this,Xe.La,u)}A(Bn,K);function Gt(u){const g=_t();N(g,new Bn(g))}Xe.STAT_EVENT="statevent";function Wn(u,g){K.call(this,Xe.STAT_EVENT,u),this.stat=g}A(Wn,K);function Ut(u){const g=_t();N(g,new Wn(g,u))}Xe.Ma="timingevent";function uo(u,g){K.call(this,Xe.Ma,u),this.size=g}A(uo,K);function pr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},g)}function Cs(){this.g=!0}Cs.prototype.xa=function(){this.g=!1};function Ps(u,g,v,I,J,ae){u.info(function(){if(u.g)if(ae)for(var Ne="",At=ae.split("&"),Xt=0;Xt<At.length;Xt++){var gt=At[Xt].split("=");if(1<gt.length){var rn=gt[0];gt=gt[1];var Kt=rn.split("_");Ne=2<=Kt.length&&Kt[1]=="type"?Ne+(rn+"="+gt+"&"):Ne+(rn+"=redacted&")}}else Ne=null;else Ne=ae;return"XMLHTTP REQ ("+I+") [attempt "+J+"]: "+g+`
`+v+`
`+Ne})}function co(u,g,v,I,J,ae,Ne){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+J+"]: "+g+`
`+v+`
`+ae+" "+Ne})}function mr(u,g,v,I){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Uh(u,v)+(I?" "+I:"")})}function La(u,g){u.info(function(){return"TIMEOUT: "+g})}Cs.prototype.info=function(){};function Uh(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var J=I[1];if(Array.isArray(J)&&!(1>J.length)){var ae=J[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Ne=1;Ne<J.length;Ne++)J[Ne]=""}}}}return Ee(v)}catch{return g}}var ho={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gr;function As(){}A(As,be),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},gr=new As;function yr(u,g,v,I){this.j=u,this.i=g,this.l=v,this.R=I||1,this.U=new ke(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new su}function su(){this.i=null,this.g="",this.h=!1}var Ma={},fo={};function po(u,g,v){u.L=1,u.v=Ni(qn(g)),u.m=v,u.P=!0,Va(u,null)}function Va(u,g){u.F=Date.now(),kt(u),u.A=qn(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Mi(v.i,"t",I),u.C=0,v=u.j.J,u.h=new su,u.g=Su(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Se(S(u.Y,u,u.g),u.O)),g=u.U,v=u.g,I=u.ca;var J="readystatechange";Array.isArray(J)||(J&&(Me[0]=J.toString()),J=Me);for(var ae=0;ae<J.length;ae++){var Ne=ft(v,J[ae],I||g.handleEvent,!1,g.h||g);if(!Ne)break;g.g[Ne.key]=Ne}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Gt(),Ps(u.i,u.u,u.A,u.l,u.R,u.m)}yr.prototype.ca=function(u){u=u.target;const g=this.M;g&&On(u)==3?g.j():this.Y(u)},yr.prototype.Y=function(u){try{if(u==this.g)e:{const Kt=On(this.g);var g=this.g.Ba();const nr=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Ba(this.g)))){this.J||Kt!=4||g==7||(g==8||0>=nr?Gt(3):Gt(2)),Rs(this);var v=this.g.Z();this.X=v;t:if(ou(this)){var I=Ba(this.g);u="";var J=I.length,ae=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),xi(this);var Ne="";break t}this.h.i=new d.TextDecoder}for(g=0;g<J;g++)this.h.h=!0,u+=this.h.i.decode(I[g],{stream:!(ae&&g==J-1)});I.length=0,this.h.g+=u,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=v==200,co(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Xt=this.g;if((At=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(At)){var gt=At;break t}}gt=null}if(v=gt)mr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,v);else{this.o=!1,this.s=3,Ut(12),er(this),xi(this);break e}}if(this.P){v=!0;let Kn;for(;!this.J&&this.C<Ne.length;)if(Kn=zh(this,Ne),Kn==fo){Kt==4&&(this.s=4,Ut(14),v=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Ma){this.s=4,Ut(15),mr(this.i,this.l,Ne,"[Invalid Chunk]"),v=!1;break}else mr(this.i,this.l,Kn,null),Fa(this,Kn);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||Ne.length!=0||this.h.h||(this.s=1,Ut(16),v=!1),this.o=this.o&&v,!v)mr(this.i,this.l,Ne,"[Invalid Chunked Response]"),er(this),xi(this);else if(0<Ne.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),Ha(rn),rn.M=!0,Ut(11))}}else mr(this.i,this.l,Ne,null),Fa(this,Ne);Kt==4&&er(this),this.o&&!this.J&&(Kt==4?Co(this.j,this):(this.o=!1,kt(this)))}else wo(this.g),v==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),er(this),xi(this)}}}catch{}finally{}};function ou(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zh(u,g){var v=u.C,I=g.indexOf(`
`,v);return I==-1?fo:(v=Number(g.substring(v,I)),isNaN(v)?Ma:(I+=1,I+v>g.length?fo:(g=g.slice(I,I+v),u.C=I+v,g)))}yr.prototype.cancel=function(){this.J=!0,er(this)};function kt(u){u.S=Date.now()+u.I,au(u,u.I)}function au(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pr(S(u.ba,u),g)}function Rs(u){u.B&&(d.clearTimeout(u.B),u.B=null)}yr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(La(this.i,this.A),this.L!=2&&(Gt(),Ut(17)),er(this),this.s=2,xi(this)):au(this,this.S-u)};function xi(u){u.j.G==0||u.J||Co(u.j,u)}function er(u){Rs(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,we(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Fa(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||Pn(v.h,u))){if(!u.K&&Pn(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var J=I;if(J[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Io(v),Tr(v);else break e;So(v),Ut(18)}}else v.za=J[1],0<v.za-v.T&&37500>J[2]&&v.F&&v.v==0&&!v.C&&(v.C=pr(S(v.Za,v),6e3));if(1>=uu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ai(v,11)}else if((u.K||v.g==u)&&Io(v),!F(g))for(J=v.Da.g.parse(g),g=0;g<J.length;g++){let gt=J[g];if(v.T=gt[0],gt=gt[1],v.G==2)if(gt[0]=="c"){v.K=gt[1],v.ia=gt[2];const rn=gt[3];rn!=null&&(v.la=rn,v.j.info("VER="+v.la));const Kt=gt[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));const nr=gt[5];nr!=null&&typeof nr=="number"&&0<nr&&(I=1.5*nr,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Kn=u.g;if(Kn){const Ls=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var ae=I.h;ae.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(ja(ae,ae.h),ae.h=null))}if(I.D){const Ao=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(I.ya=Ao,Rt(I.I,I.D,Ao))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var Ne=u;if(I.qa=Tu(I,I.J?I.ia:null,I.W),Ne.K){cu(I.h,Ne);var At=Ne,Xt=I.L;Xt&&(At.I=Xt),At.B&&(Rs(At),kt(At)),I.g=Ne}else Ns(I);0<v.i.length&&$r(v)}else gt[0]!="stop"&&gt[0]!="close"||ai(v,7);else v.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?ai(v,7):fn(v):gt[0]!="noop"&&v.l&&v.l.ta(gt),v.v=0)}}Gt(4)}catch{}}var lu=class{constructor(u,g){this.g=u,this.map=g}};function ks(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function uu(u){return u.h?1:u.g?u.g.size:0}function Pn(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ja(u,g){u.g?u.g.add(g):u.h=g}function cu(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ks.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function hu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return C(u.i)}function mo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,I=0;I<v;I++)g.push(u[I]);return g}g=[],v=0;for(I in u)g[v++]=u[I];return g}function go(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const I in u)g[v++]=I;return g}}}function bi(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=go(u),I=mo(u),J=I.length,ae=0;ae<J;ae++)g.call(void 0,I[ae],v&&v[ae],u)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $h(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),J=null;if(0<=I){var ae=u[v].substring(0,I);J=u[v].substring(I+1)}else ae=u[v];g(ae,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ri(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ri){this.h=u.h,bs(this,u.j),this.o=u.o,this.g=u.g,Oi(this,u.s),this.l=u.l;var g=u.i,v=new jr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Di(this,v),this.m=u.m}else u&&(g=String(u).match(xs))?(this.h=!1,bs(this,g[1]||"",!0),this.o=dt(g[2]||""),this.g=dt(g[3]||"",!0),Oi(this,g[4]),this.l=dt(g[5]||"",!0),Di(this,g[6]||"",!0),this.m=dt(g[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}ri.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Li(g,yo,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Li(g,yo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Li(v,v.charAt(0)=="/"?pu:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Li(v,Ua)),u.join("")};function qn(u){return new ri(u)}function bs(u,g,v){u.j=v?dt(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Oi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Di(u,g,v){g instanceof jr?(u.i=g,Ur(u.i,u.h)):(v||(g=Li(g,mu)),u.i=new jr(g,u.h))}function Rt(u,g,v){u.i.set(g,v)}function Ni(u){return Rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function dt(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Li(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,du),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function du(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var yo=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,Ua=/#/g;function jr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&$h(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=jr.prototype,n.add=function(u,g){dn(this),this.i=null,u=tr(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function vr(u,g){dn(u),g=tr(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function _r(u,g){return dn(u),g=tr(u,g),u.g.has(g)}n.forEach=function(u,g){dn(this),this.g.forEach(function(v,I){v.forEach(function(J){u.call(g,J,I,this)},this)},this)},n.na=function(){dn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const J=u[I];for(let ae=0;ae<J.length;ae++)v.push(g[I])}return v},n.V=function(u){dn(this);let g=[];if(typeof u=="string")_r(this,u)&&(g=g.concat(this.g.get(tr(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},n.set=function(u,g){return dn(this),this.i=null,u=tr(this,u),_r(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Mi(u,g,v){vr(u,g),0<v.length&&(u.i=null,u.g.set(tr(u,g),C(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const ae=encodeURIComponent(String(I)),Ne=this.V(I);for(I=0;I<Ne.length;I++){var J=ae;Ne[I]!==""&&(J+="="+encodeURIComponent(String(Ne[I]))),u.push(J)}}return this.i=u.join("&")};function tr(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ur(u,g){g&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,I){var J=I.toLowerCase();I!=J&&(vr(this,I),Mi(this,J,v))},u)),u.j=g}function Bh(u,g){const v=new Cs;if(d.Image){const I=new Image;I.onload=x(bn,v,"TestLoadImage: loaded",!0,g,I),I.onerror=x(bn,v,"TestLoadImage: error",!1,g,I),I.onabort=x(bn,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=x(bn,v,"TestLoadImage: timeout",!1,g,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else g(!1)}function gu(u,g){const v=new Cs,I=new AbortController,J=setTimeout(()=>{I.abort(),bn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:I.signal}).then(ae=>{clearTimeout(J),ae.ok?bn(v,"TestPingServer: ok",!0,g):bn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(J),bn(v,"TestPingServer: error",!1,g)})}function bn(u,g,v,I,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),I(v)}catch{}}function Wh(){this.g=new ce}function yu(u,g,v){const I=v||"";try{bi(u,function(J,ae){let Ne=J;m(J)&&(Ne=Ee(J)),g.push(I+ae+"="+encodeURIComponent(Ne))})}catch(J){throw g.push(I+"type="+encodeURIComponent("_badmap")),J}}function ii(u){this.l=u.Ub||null,this.j=u.eb||!1}A(ii,be),ii.prototype.g=function(){return new Os(this.l,this.j)},ii.prototype.i=function(u){return function(){return u}}({});function Os(u,g){pt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Os,pt),n=Os.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Er(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?wr(this):Er(this),this.readyState==3&&vu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,wr(this))},n.Qa=function(u){this.g&&(this.response=u,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Er(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Er(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function si(u){let g="";return fe(u,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function Vi(u,g,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=si(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Rt(u,g,v))}function Nt(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Nt,pt);var Hh=/^https?$/i,za=["POST","PUT"];n=Nt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gr.g(),this.v=this.o?ne(this.o):ne(gr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(ae){Ds(this,ae);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var J in I)v.set(J,I[J]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ae of I.keys())v.set(ae,I.get(ae));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(ae=>ae.toLowerCase()=="content-type"),J=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(za,g,void 0))||I||J||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ne]of v)this.g.setRequestHeader(ae,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_o(this),this.u=!0,this.g.send(u),this.u=!1}catch(ae){Ds(this,ae)}};function Ds(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,vo(u),Gn(u)}function vo(u){u.A||(u.A=!0,N(u,"complete"),N(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,N(this,"complete"),N(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(u){if(u.h&&typeof c<"u"&&(!u.v[1]||On(u)!=4||u.Z()!=2)){if(u.u&&On(u)==4)le(u.Ea,0,u);else if(N(u,"readystatechange"),On(u)==4){u.h=!1;try{const Ne=u.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var I;if(I=Ne===0){var J=String(u.D).match(xs)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),I=!Hh.test(J?J.toLowerCase():"")}v=I}if(v)N(u,"complete"),N(u,"success");else{u.m=6;try{var ae=2<On(u)?u.g.statusText:""}catch{ae=""}u.l=ae+" ["+u.Z()+"]",vo(u)}}finally{Gn(u)}}}}function Gn(u,g){if(u.g){_o(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||N(u,"ready");try{v.onreadystatechange=I}catch{}}}function _o(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function On(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ue(g)}};function Ba(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wo(u){const g={};u=(u.g&&2<=On(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(F(u[I]))continue;var v=P(u[I]);const J=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const ae=g[J]||[];g[J]=ae,ae.push(v)}M(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Wa(u){this.Aa=0,this.i=[],this.j=new Cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,u),this.cb=zr("retryDelaySeedMs",1e4,u),this.Wa=zr("forwardChannelMaxRetries",2,u),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ks(u&&u.concurrentRequestLimit),this.Da=new Wh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(u,g,v,I){Ut(0),this.W=u,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Tu(this,null,this.W),$r(this)};function fn(u){if(Eo(u),u.G==3){var g=u.U++,v=qn(u.I);if(Rt(v,"SID",u.K),Rt(v,"RID",g),Rt(v,"TYPE","terminate"),oi(u,v),g=new yr(u,u.j,g),g.L=2,g.v=Ni(qn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=g.v,v=!0),v||(g.g=Su(g.j,null),g.g.ea(g.v)),g.F=Date.now(),kt(g)}Eu(u)}function Tr(u){u.g&&(Ha(u),u.g.cancel(),u.g=null)}function Eo(u){Tr(u),u.u&&(d.clearTimeout(u.u),u.u=null),Io(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function $r(u){if(!Hn(u.h)&&!u.s){u.s=!0;var g=u.Ga;_e||b(),Q||(_e(),Q=!0),pe.add(g,u),u.B=0}}function qh(u,g){return uu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pr(S(u.Ga,u,g),wu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const J=new yr(this,this.j,u);let ae=this.o;if(this.S&&(ae?(ae=R(ae),D(ae,this.S)):ae=this.S),this.m!==null||this.O||(J.H=ae,ae=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Fi(this,J,g),v=qn(this.I),Rt(v,"RID",u),Rt(v,"CVER",22),this.D&&Rt(v,"X-HTTP-Session-Id",this.D),oi(this,v),ae&&(this.O?g="headers="+encodeURIComponent(String(si(ae)))+"&"+g:this.m&&Vi(v,this.m,ae)),ja(this.h,J),this.Ua&&Rt(v,"TYPE","init"),this.P?(Rt(v,"$req",g),Rt(v,"SID","null"),J.T=!0,po(J,v,null)):po(J,v,g),this.G=2}}else this.G==3&&(u?To(this,u):this.i.length==0||Hn(this.h)||To(this))};function To(u,g){var v;g?v=g.l:v=u.U++;const I=qn(u.I);Rt(I,"SID",u.K),Rt(I,"RID",v),Rt(I,"AID",u.T),oi(u,I),u.m&&u.o&&Vi(I,u.m,u.o),v=new yr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Fi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ja(u.h,v),po(v,I,g)}function oi(u,g){u.H&&fe(u.H,function(v,I){Rt(g,I,v)}),u.l&&bi({},function(v,I){Rt(g,I,v)})}function Fi(u,g,v){v=Math.min(u.i.length,v);var I=u.l?S(u.l.Na,u.l,u):null;e:{var J=u.i;let ae=-1;for(;;){const Ne=["count="+v];ae==-1?0<v?(ae=J[0].g,Ne.push("ofs="+ae)):ae=0:Ne.push("ofs="+ae);let At=!0;for(let Xt=0;Xt<v;Xt++){let gt=J[Xt].g;const rn=J[Xt].map;if(gt-=ae,0>gt)ae=Math.max(0,J[Xt].g-100),At=!1;else try{yu(rn,Ne,"req"+gt+"_")}catch{I&&I(rn)}}if(At){I=Ne.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,I}function Ns(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;_e||b(),Q||(_e(),Q=!0),pe.add(g,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pr(S(u.Fa,u),wu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pr(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Tr(this),_u(this))};function Ha(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function _u(u){u.g=new yr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=qn(u.qa);Rt(g,"RID","rpc"),Rt(g,"SID",u.K),Rt(g,"AID",u.T),Rt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Rt(g,"TO",u.ja),Rt(g,"TYPE","xmlhttp"),oi(u,g),u.m&&u.o&&Vi(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ni(qn(g)),v.m=null,v.P=!0,Va(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),So(this),Ut(19))};function Io(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Co(u,g){var v=null;if(u.g==g){Io(u),Ha(u),u.g=null;var I=2}else if(Pn(u.h,g))v=g.D,cu(u.h,g),I=1;else return;if(u.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var J=u.B;I=_t(),N(I,new uo(I,v)),$r(u)}else Ns(u);else if(J=g.s,J==3||J==0&&0<g.X||!(I==1&&qh(u,g)||I==2&&So(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),J){case 1:ai(u,5);break;case 4:ai(u,10);break;case 3:ai(u,6);break;default:ai(u,2)}}}function wu(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function ai(u,g){if(u.j.info("Error code "+g),g==2){var v=S(u.fb,u),I=u.Xa;const J=!I;I=new ri(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||bs(I,"https"),Ni(I),J?Bh(I.toString(),v):gu(I.toString(),v)}else Ut(2);u.G=0,u.l&&u.l.sa(g),Eu(u),Eo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const g=hu(u.h);(g.length!=0||u.i.length!=0)&&(T(u.ka,g),T(u.ka,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.ra()}}function Tu(u,g,v){var I=v instanceof ri?qn(v):new ri(v);if(I.g!="")g&&(I.g=g+"."+I.g),Oi(I,I.s);else{var J=d.location;I=J.protocol,g=g?g+"."+J.hostname:J.hostname,J=+J.port;var ae=new ri(null);I&&bs(ae,I),g&&(ae.g=g),J&&Oi(ae,J),v&&(ae.l=v),I=ae}return v=u.D,g=u.ya,v&&g&&Rt(I,v,g),Rt(I,"VER",u.la),oi(u,I),I}function Su(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Nt(new ii({eb:v})):new Nt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Po(){}Po.prototype.g=function(u,g){return new An(u,g)};function An(u,g){pt.call(this),this.g=new Wa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!F(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Br(this)}A(An,pt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){fn(this.g)},An.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ee(u),u=v);g.i.push(new lu(g.Ya++,u)),g.G==3&&$r(g)},An.prototype.N=function(){this.g.l=null,delete this.j,fn(this.g),delete this.g,An.aa.N.call(this)};function Iu(u){De.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}A(Iu,De);function Cu(){Ge.call(this),this.status=1}A(Cu,Ge);function Br(u){this.g=u}A(Br,qa),Br.prototype.ua=function(){N(this.g,"a")},Br.prototype.ta=function(u){N(this.g,new Iu(u))},Br.prototype.sa=function(u){N(this.g,new Cu)},Br.prototype.ra=function(){N(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,y0=function(){return new Po},g0=function(){return _t()},m0=Xe,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ho.NO_ERROR=0,ho.TIMEOUT=8,ho.HTTP_ERROR=6,Nc=ho,iu.COMPLETE="complete",p0=iu,he.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Sl=he,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,f0=Nt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore",kv="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new xp("@firebase/firestore");function Yo(){return Zs.logLevel}function Fe(n,...e){if(Zs.logLevel<=ct.DEBUG){const t=e.map($p);Zs.debug(`Firestore (${Aa}): ${n}`,...t)}}function Pi(n,...e){if(Zs.logLevel<=ct.ERROR){const t=e.map($p);Zs.error(`Firestore (${Aa}): ${n}`,...t)}}function eo(n,...e){if(Zs.logLevel<=ct.WARN){const t=e.map($p);Zs.warn(`Firestore (${Aa}): ${n}`,...t)}}function $p(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,v0(n,i,t)}function v0(n,e,t){let i=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Pi(i),new Error(i)}function Ct(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||v0(e,o,i)}function st(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class nR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rR{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ct(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string",31837,{l:i}),new _0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class iR{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sR{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new iR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ct(this.o===void 0,3512);const i=a=>{a.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new xv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new xv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=aR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function at(n,e){return n<e?-1:n>e?1:0}function ep(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return at(i,o);{const a=E0(),c=lR(a.encode(bv(n,t)),a.encode(bv(e,t)));return c!==0?c:at(i,o)}}t+=i>65535?2:1}return at(n.length,e.length)}function bv(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function lR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return at(n[t],e[t]);return at(n.length,e.length)}function ca(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,Dv=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Dv);return new Jt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ov)throw new He(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new Jt(0,0))}static max(){return new rt(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__name__";class Qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&et(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&et(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Qr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return at(e.length,t.length)}static compareSegments(e,t){const i=Qr.isNumericId(e),o=Qr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):ep(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class Mt extends Qr{construct(e,t,i){return new Mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new He(Ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const uR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Qr{construct(e,t,i){return new un(e,t,i)}static isValidIdentifier(e){return uR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nv}static keyField(){return new un([Nv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new He(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new He(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new He(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new He(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(Mt.fromString(e))}static fromName(e){return new Ke(Mt.fromString(e).popFirst(5))}static empty(){return new Ke(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function cR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=rt.fromTimestamp(i===1e9?new Jt(t+1,0):new Jt(t,i));return new fs(o,Ke.empty(),e)}function hR(n){return new fs(n.readTime,n.key,Vl)}class fs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fs(rt.min(),Ke.empty(),Vl)}static max(){return new fs(rt.max(),Ke.empty(),Vl)}}function dR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ke.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==fR)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,i)=>{t(e)})}static reject(e){return new ye((t,i)=>{i(e)})}static waitFor(e){return new ye((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=ye.resolve(!1);for(const i of e)t=t.next(o=>o?ye.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ye((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next(_=>{c[m]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new ye((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function mR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ka(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function _h(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function gR(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="";function yR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Lv(e)),e=vR(n.get(t),e);return Lv(e)}function vR(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case T0:t+="";break;default:t+=a}}return t}function Lv(n){return n+T0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function S0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??gn.RED,this.left=o??gn.EMPTY,this.right=a??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new gn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw et(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(e,t,i,o,a){return this}insert(e,t,i){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new nn(un.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new I0("Invalid base64 string: "+a):a}}(e);return new hn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(n){if(Ct(!!n,39018),typeof n=="string"){let e=0;const t=_R.exec(n);if(Ct(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ms(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="server_timestamp",P0="__type__",A0="__previous_value__",R0="__local_write_time__";function Hp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[P0])===null||t===void 0?void 0:t.stringValue)===C0}function wh(n){const e=n.mapValue.fields[A0];return Hp(e)?wh(e):e}function Fl(n){const e=ps(n.mapValue.fields[R0].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,i,o,a,c,d,p,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=_}}const Jc="(default)";class ha{constructor(e,t){this.projectId=e,this.database=t||Jc}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__type__",ER="__max__",Sc={mapValue:{}},x0="__vector__",Xc="value";function gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hp(n)?4:SR(n)?9007199254740991:TR(n)?10:11:et(28295,{value:n})}function ei(n,e){if(n===e)return!0;const t=gs(n);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fl(n).isEqual(Fl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=ps(o.timestampValue),d=ps(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ms(o.bytesValue).isEqual(ms(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return qt(o.geoPointValue.latitude)===qt(a.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return qt(o.integerValue)===qt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=qt(o.doubleValue),d=qt(a.doubleValue);return c===d?Yc(c)===Yc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Mv(c)!==Mv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ei(c[p],d[p])))return!1;return!0}(n,e);default:return et(52216,{left:n})}}function jl(n,e){return(n.values||[]).find(t=>ei(t,e))!==void 0}function da(n,e){if(n===e)return 0;const t=gs(n),i=gs(e);if(t!==i)return at(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=qt(a.integerValue||a.doubleValue),p=qt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Fv(n.timestampValue,e.timestampValue);case 4:return Fv(Fl(n),Fl(e));case 5:return ep(n.stringValue,e.stringValue);case 6:return function(a,c){const d=ms(a),p=ms(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const _=at(d[m],p[m]);if(_!==0)return _}return at(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=at(qt(a.latitude),qt(c.latitude));return d!==0?d:at(qt(a.longitude),qt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jv(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,m,_;const w=a.fields||{},S=c.fields||{},x=(d=w[Xc])===null||d===void 0?void 0:d.arrayValue,A=(p=S[Xc])===null||p===void 0?void 0:p.arrayValue,C=at(((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0,((_=A==null?void 0:A.values)===null||_===void 0?void 0:_.length)||0);return C!==0?C:jv(x,A)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Sc.mapValue&&c===Sc.mapValue)return 0;if(a===Sc.mapValue)return 1;if(c===Sc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const S=ep(p[w],_[w]);if(S!==0)return S;const x=da(d[p[w]],m[_[w]]);if(x!==0)return x}return at(p.length,_.length)}(n.mapValue,e.mapValue);default:throw et(23264,{Pe:t})}}function Fv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=ps(n),i=ps(e),o=at(t.seconds,i.seconds);return o!==0?o:at(t.nanos,i.nanos)}function jv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=da(t[o],i[o]);if(a)return a}return at(t.length,i.length)}function fa(n){return tp(n)}function tp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ps(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=tp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${tp(t.fields[c])}`;return o+"}"}(n.mapValue):et(61005,{value:n})}function Lc(n){switch(gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(n);return e?16+Lc(e):16;case 5:return 2*n.stringValue.length;case 6:return ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Lc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Ts(i.fields,(a,c)=>{o+=a.length+Lc(c)}),o}(n.mapValue);default:throw et(13486,{value:n})}}function np(n){return!!n&&"integerValue"in n}function qp(n){return!!n&&"arrayValue"in n}function Uv(n){return!!n&&"nullValue"in n}function zv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mc(n){return!!n&&"mapValue"in n}function TR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[k0])===null||t===void 0?void 0:t.stringValue)===x0}function Rl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ts(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function SR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Mc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=un.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Rl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Mc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ts(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new $n(Rl(this.value))}}function b0(n){const e=[];return Ts(n.fields,(t,i)=>{const o=new un([t]);if(Mc(i)){const a=b0(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new In(e,0,rt.min(),rt.min(),rt.min(),$n.empty(),0)}static newFoundDocument(e,t,i,o){return new In(e,1,t,rt.min(),i,o,0)}static newNoDocument(e,t){return new In(e,2,t,rt.min(),rt.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,rt.min(),rt.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.position=e,this.inclusive=t}}function $v(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ke.comparator(Ke.fromName(c.referenceValue),t.key):i=da(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function IR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{}class tn extends O0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new PR(e,t,i):t==="array-contains"?new kR(e,i):t==="in"?new xR(e,i):t==="not-in"?new bR(e,i):t==="array-contains-any"?new OR(e,i):new tn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new AR(e,i):new RR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(da(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends O0{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ti(e,t)}matches(e){return D0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function D0(n){return n.op==="and"}function N0(n){return CR(n)&&D0(n)}function CR(n){for(const e of n.filters)if(e instanceof ti)return!1;return!0}function rp(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+fa(n.value);if(N0(n))return n.filters.map(e=>rp(e)).join(",");{const e=n.filters.map(t=>rp(t)).join(",");return`${n.op}(${e})`}}function L0(n,e){return n instanceof tn?function(i,o){return o instanceof tn&&i.op===o.op&&i.field.isEqual(o.field)&&ei(i.value,o.value)}(n,e):n instanceof ti?function(i,o){return o instanceof ti&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&L0(c,o.filters[d]),!0):!1}(n,e):void et(19439)}function M0(n){return n instanceof tn?function(t){return`${t.field.canonicalString()} ${t.op} ${fa(t.value)}`}(n):n instanceof ti?function(t){return t.op.toString()+" {"+t.getFilters().map(M0).join(" ,")+"}"}(n):"Filter"}class PR extends tn{constructor(e,t,i){super(e,t,i),this.key=Ke.fromName(i.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class AR extends tn{constructor(e,t){super(e,"in",t),this.keys=V0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RR extends tn{constructor(e,t){super(e,"not-in",t),this.keys=V0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function V0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ke.fromName(i.referenceValue))}class kR extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qp(t)&&jl(t.arrayValue,this.value)}}class xR extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jl(this.value.arrayValue,t)}}class bR extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jl(this.value.arrayValue,t)}}class OR extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Ie=null}}function Wv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new DR(n,e,t,i,o,a,c)}function Gp(n){const e=st(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>rp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>fa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>fa(i)).join(",")),e.Ie=t}return e.Ie}function Kp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!L0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bv(n.startAt,e.startAt)&&Bv(n.endAt,e.endAt)}function ip(n){return Ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NR(n,e,t,i,o,a,c,d){return new Eh(n,e,t,i,o,a,c,d)}function Qp(n){return new Eh(n)}function Hv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function LR(n){return n.collectionGroup!==null}function kl(n){const e=st(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new nn(un.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new eh(a,i))}),t.has(un.keyField().canonicalString())||e.Ee.push(new eh(un.keyField(),i))}return e.Ee}function Xr(n){const e=st(n);return e.de||(e.de=MR(e,kl(n))),e.de}function MR(n,e){if(n.limitType==="F")return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new eh(o.field,a)});const t=n.endAt?new Zc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zc(n.startAt.position,n.startAt.inclusive):null;return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function sp(n,e,t){return new Eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Th(n,e){return Kp(Xr(n),Xr(e))&&n.limitType===e.limitType}function F0(n){return`${Gp(Xr(n))}|lt:${n.limitType}`}function Jo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>M0(o)).join(", ")}]`),_h(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>fa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>fa(o)).join(",")),`Target(${i})`}(Xr(n))}; limitType=${n.limitType})`}function Sh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ke.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of kl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const m=$v(c,d,p);return c.inclusive?m<=0:m<0}(i.startAt,kl(i),o)||i.endAt&&!function(c,d,p){const m=$v(c,d,p);return c.inclusive?m>=0:m>0}(i.endAt,kl(i),o))}(n,e)}function VR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function j0(n){return(e,t)=>{let i=!1;for(const o of kl(n)){const a=FR(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function FR(n,e,t){const i=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),m=d.data.field(a);return p!==null&&m!==null?da(p,m):et(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return S0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Bt(Ke.comparator);function Ai(){return jR}const U0=new Bt(Ke.comparator);function Il(...n){let e=U0;for(const t of n)e=e.insert(t.key,t);return e}function z0(n){let e=U0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ys(){return xl()}function $0(){return xl()}function xl(){return new oo(n=>n.toString(),(n,e)=>n.isEqual(e))}const UR=new Bt(Ke.comparator),zR=new nn(Ke.comparator);function ht(...n){let e=zR;for(const t of n)e=e.add(t);return e}const $R=new nn(at);function BR(){return $R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function B0(n){return{integerValue:""+n}}function WR(n,e){return gR(e)?B0(e):Yp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function HR(n,e,t){return n instanceof th?function(o,a){const c={fields:{[P0]:{stringValue:C0},[R0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Hp(a)&&(a=wh(a)),a&&(c.fields[A0]=a),{mapValue:c}}(t,e):n instanceof pa?H0(n,e):n instanceof ma?q0(n,e):function(o,a){const c=W0(o,a),d=qv(c)+qv(o.Re);return np(c)&&np(o.Re)?B0(d):Yp(o.serializer,d)}(n,e)}function qR(n,e,t){return n instanceof pa?H0(n,e):n instanceof ma?q0(n,e):t}function W0(n,e){return n instanceof nh?function(i){return np(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class th extends Ih{}class pa extends Ih{constructor(e){super(),this.elements=e}}function H0(n,e){const t=G0(e);for(const i of n.elements)t.some(o=>ei(o,i))||t.push(i);return{arrayValue:{values:t}}}class ma extends Ih{constructor(e){super(),this.elements=e}}function q0(n,e){let t=G0(e);for(const i of n.elements)t=t.filter(o=>!ei(o,i));return{arrayValue:{values:t}}}class nh extends Ih{constructor(e,t){super(),this.serializer=e,this.Re=t}}function qv(n){return qt(n.integerValue||n.doubleValue)}function G0(n){return qp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t){this.field=e,this.transform=t}}function GR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof pa&&o instanceof pa||i instanceof ma&&o instanceof ma?ca(i.elements,o.elements,ei):i instanceof nh&&o instanceof nh?ei(i.Re,o.Re):i instanceof th&&o instanceof th}(n.transform,e.transform)}class KR{constructor(e,t){this.version=e,this.transformResults=t}}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ch{}function Q0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jp(n.key,cr.none()):new Ql(n.key,n.data,cr.none());{const t=n.data,i=$n.empty();let o=new nn(un.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new Ss(n.key,i,new Xn(o.toArray()),cr.none())}}function QR(n,e,t){n instanceof Ql?function(o,a,c){const d=o.value.clone(),p=Kv(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ss?function(o,a,c){if(!Vc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=Kv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(Y0(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function bl(n,e,t,i){return n instanceof Ql?function(a,c,d,p){if(!Vc(a.precondition,c))return d;const m=a.value.clone(),_=Qv(a.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ss?function(a,c,d,p){if(!Vc(a.precondition,c))return d;const m=Qv(a.fieldTransforms,p,c),_=c.data;return _.setAll(Y0(a)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,c,d){return Vc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function YR(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=W0(i.transform,o||null);a!=null&&(t===null&&(t=$n.empty()),t.set(i.field,a))}return t||null}function Gv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ca(i,o,(a,c)=>GR(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ql extends Ch{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends Ch{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Y0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Kv(n,e,t){const i=new Map;Ct(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,qR(c,d,t[o]))}return i}function Qv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,HR(a,c,e))}return i}class Jp extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&QR(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=Q0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(rt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ht())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(t,i)=>Gv(t,i))&&ca(this.baseMutations,e.baseMutations,(t,i)=>Gv(t,i))}}class Xp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ct(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let o=function(){return UR}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Xp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,yt;function tk(n){switch(n){case Ae.OK:return et(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return et(15467,{code:n})}}function J0(n){if(n===void 0)return Pi("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case Yt.OK:return Ae.OK;case Yt.CANCELLED:return Ae.CANCELLED;case Yt.UNKNOWN:return Ae.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return Ae.INTERNAL;case Yt.UNAVAILABLE:return Ae.UNAVAILABLE;case Yt.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Yt.NOT_FOUND:return Ae.NOT_FOUND;case Yt.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Yt.ABORTED:return Ae.ABORTED;case Yt.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Yt.DATA_LOSS:return Ae.DATA_LOSS;default:return et(39323,{code:n})}}(yt=Yt||(Yt={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new hs([4294967295,4294967295],0);function Yv(n){const e=E0().encode(n),t=new d0;return t.update(e),new Uint8Array(t.digest())}function Jv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new hs([t,i],0),new hs([o,a],0)]}class Zp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Cl(`Invalid padding: ${t}`);if(i<0)throw new Cl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=hs.fromNumber(this.pe)}we(e,t,i){let o=e.add(t.multiply(hs.fromNumber(i)));return o.compare(nk)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Yv(e),[i,o]=Jv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);if(!this.be(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Zp(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=Yv(e),[i,o]=Jv(t);for(let a=0;a<this.hashCount;a++){const c=this.we(i,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ph(rt.min(),o,new Bt(at),Ai(),ht())}}class Yl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Yl(i,t,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,i,o){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=o}}class X0{constructor(e,t){this.targetId=e,this.Ce=t}}class Z0{constructor(e,t,i=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Xv{constructor(){this.Fe=0,this.Me=Zv(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ht(),t=ht(),i=ht();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:et(38017,{changeType:a})}}),new Yl(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Zv()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ct(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rk{constructor(e){this.ze=e,this.je=new Map,this.He=Ai(),this.Je=Ic(),this.Ye=Ic(),this.Ze=new Bt(at)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:et(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,i=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(ip(a))if(i===0){const c=new Ke(a.path);this.tt(t,c,In.newNoDocument(c,rt.min()))}else Ct(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=ms(i).toUint8Array()}catch(p){if(p instanceof I0)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Zp(c,o,a)}catch(p){return eo(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,c)=>{const d=this._t(c);if(d){if(a.current&&ip(d.target)){const p=new Ke(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,In.newNoDocument(p,e))}a.Le&&(t.set(c,a.qe()),a.Qe())}});let i=ht();this.Ye.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.He.forEach((a,c)=>c.setReadTime(e));const o=new Ph(e,t,this.Ze,this.He,i);return this.He=Ai(),this.Je=Ic(),this.Ye=Ic(),this.Ze=new Bt(at),o}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Xv,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new nn(at),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new nn(at),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Xv),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ic(){return new Bt(Ke.comparator)}function Zv(){return new Bt(Ke.comparator)}const ik={asc:"ASCENDING",desc:"DESCENDING"},sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ok={and:"AND",or:"OR"};class ak{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(n,e){return n.useProto3Json||_h(e)?e:{value:e}}function rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lk(n,e){return rh(n,e.toTimestamp())}function Zr(n){return Ct(!!n,49232),rt.fromTimestamp(function(t){const i=ps(t);return new Jt(i.seconds,i.nanos)}(n))}function em(n,e){return ap(n,e).canonicalString()}function ap(n,e){const t=function(o){return new Mt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tE(n){const e=Mt.fromString(n);return Ct(oE(e),10190,{key:e.toString()}),e}function lp(n,e){return em(n.databaseId,e.path)}function Af(n,e){const t=tE(e);if(t.get(1)!==n.databaseId.projectId)throw new He(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(rE(t))}function nE(n,e){return em(n.databaseId,e)}function uk(n){const e=tE(n);return e.length===4?Mt.emptyPath():rE(e)}function up(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rE(n){return Ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function e_(n,e,t){return{name:lp(n,e),fields:t.value.mapValue.fields}}function ck(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:et(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(Ct(_===void 0||typeof _=="string",58123),hn.fromBase64String(_||"")):(Ct(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),hn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const _=m.code===void 0?Ae.UNKNOWN:J0(m.code);return new He(_,m.message||"")}(c);t=new Z0(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Af(n,i.document.name),a=Zr(i.document.updateTime),c=i.document.createTime?Zr(i.document.createTime):rt.min(),d=new $n({mapValue:{fields:i.document.fields}}),p=In.newFoundDocument(o,a,c,d),m=i.targetIds||[],_=i.removedTargetIds||[];t=new Fc(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Af(n,i.document),a=i.readTime?Zr(i.readTime):rt.min(),c=In.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Fc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Af(n,i.document),a=i.removedTargetIds||[];t=new Fc([],a,o,null)}else{if(!("filter"in e))return et(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new ek(o,a),d=i.targetId;t=new X0(d,c)}}return t}function hk(n,e){let t;if(e instanceof Ql)t={update:e_(n,e.key,e.value)};else if(e instanceof Jp)t={delete:lp(n,e.key)};else if(e instanceof Ss)t={update:e_(n,e.key,e.data),updateMask:wk(e.fieldMask)};else{if(!(e instanceof JR))return et(16599,{ft:e.type});t={verify:lp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof th)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pa)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ma)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof nh)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw et(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:lk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:et(27497)}(n,e.precondition)),t}function dk(n,e){return n&&n.length>0?(Ct(e!==void 0,14353),n.map(t=>function(o,a){let c=o.updateTime?Zr(o.updateTime):Zr(a);return c.isEqual(rt.min())&&(c=Zr(a)),new KR(c,o.transformResults||[])}(t,e))):[]}function fk(n,e){return{documents:[nE(n,e.path)]}}function pk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=nE(n,o);const a=function(m){if(m.length!==0)return sE(ti.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(_=>function(S){return{field:Xo(S.field),direction:yk(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=op(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function mk(n){let e=uk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ct(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(w){const S=iE(w);return S instanceof ti&&N0(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(S=>function(A){return new eh(Zo(A.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(w){let S;return S=typeof w=="object"?w.value:w,_h(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(w){const S=!!w.before,x=w.values||[];return new Zc(x,S)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const S=!w.before,x=w.values||[];return new Zc(x,S)}(t.endAt)),NR(e,o,c,a,d,"F",p,m)}function gk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zo(t.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(t.unaryFilter.field);return tn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zo(t.unaryFilter.field);return tn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return et(61313);default:return et(60726)}}(n):n.fieldFilter!==void 0?function(t){return tn.create(Zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return et(58110);default:return et(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ti.create(t.compositeFilter.filters.map(i=>iE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return et(1026)}}(t.compositeFilter.op))}(n):et(30097,{filter:n})}function yk(n){return ik[n]}function vk(n){return sk[n]}function _k(n){return ok[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return un.fromServerFormat(n.fieldPath)}function sE(n){return n instanceof tn?function(t){if(t.op==="=="){if(zv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(Uv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(Uv(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:vk(t.op),value:t.value}}}(n):n instanceof ti?function(t){const i=t.getFilters().map(o=>sE(o));return i.length===1?i[0]:{compositeFilter:{op:_k(t.op),filters:i}}}(n):et(54877,{filter:n})}function wk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,i,o,a=rt.min(),c=rt.min(),d=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.wt=e}}function Tk(n){const e=mk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.yn=new Ik}addToCollectionParentIndex(e,t){return this.yn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(fs.min())}updateCollectionGroup(e,t,i){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class Ik{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new nn(Mt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new nn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aE=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(aE,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ga(0)}static ir(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",Ck=1048576;function r_([n,e],[t,i]){const o=at(n,t);return o===0?at(e,i):o}class Pk{constructor(e){this.cr=e,this.buffer=new nn(r_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();r_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ak{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Fe(n_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ka(t)?Fe(n_,"Ignoring IndexedDB error during garbage collection: ",t):await Ra(t)}await this.Ir(3e5)})}}class Rk{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(vh.le);const i=new Pk(t);return this.Er.forEachTarget(e,o=>i.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>i.Pr(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(t_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,o,a,c,d,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Yo()<=ct.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function kk(n,e){return new Rk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.changes=new oo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ye.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&bl(i.mutation,o,Xn.empty(),Jt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ht()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ht()){const o=Ys();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Il();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ys();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ht()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=Ai();const c=xl(),d=function(){return xl()}();return t.forEach((p,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Ss)?a=a.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),bl(_.mutation,m,_.mutation.getFieldMask(),Jt.now())):c.set(m.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var w;return d.set(m,new bk(_,(w=c.get(m))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=xl();let o=new Bt((c,d)=>c-d),a=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let _=i.get(p)||Xn.empty();_=d.applyToLocalView(m,_),i.set(p,_);const w=(o.get(d.batchId)||ht()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,_=p.value,w=$0();_.forEach(S=>{if(!a.has(S)){const x=Q0(t.get(S),i.get(S));x!==null&&w.set(S,x),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return ye.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ye.resolve(Ys());let d=Vl,p=a;return c.next(m=>ye.forEach(m,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?ye.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,p,m,ht())).next(_=>({batchId:d,changes:z0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(i=>{let o=Il();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Il();return this.indexManager.getCollectionParents(e,a).next(d=>ye.forEach(d,p=>{const m=function(w,S){return new Eh(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(_=>{_.forEach((w,S)=>{c=c.insert(w,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,In.newInvalidDocument(_)))});let d=Il();return c.forEach((p,m)=>{const _=a.get(p);_!==void 0&&bl(_.mutation,m,Xn.empty(),Jt.now()),Sh(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ye.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Zr(o.createTime)}}(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:Tk(o.bundledQuery),readTime:Zr(o.readTime)}}(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.overlays=new Bt(Ke.comparator),this.Or=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ys();return ye.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.St(e,t,a)}),ye.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Or.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),ye.resolve()}getOverlaysForCollection(e,t,i){const o=Ys(),a=t.length+1,c=new Ke(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Bt((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=a.get(m.largestBatchId);_===null&&(_=Ys(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=Ys(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=o)););return ye.resolve(d)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Or.get(o.largestBatchId).delete(i.key);this.Or.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ZR(t,i));let a=this.Or.get(t);a===void 0&&(a=ht(),this.Or.set(t,a)),this.Or.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Nr=new nn(ln.Br),this.Lr=new nn(ln.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new ln(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new ln(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ke(new Mt([])),i=new ln(t,e),o=new ln(t,e+1),a=[];return this.Lr.forEachInRange([i,o],c=>{this.Qr(c),a.push(c.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ke(new Mt([])),i=new ln(t,e),o=new ln(t,e+1);let a=ht();return this.Lr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ln(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ke.comparator(e.key,t.key)||at(e.Gr,t.Gr)}static kr(e,t){return at(e.Gr,t.Gr)||Ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new nn(ln.Br)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XR(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.zr=this.zr.add(new ln(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,t){return ye.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Hr(i),a=o<0?0:o;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Wp:this.Jn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ln(t,0),o=new ln(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,o],c=>{const d=this.jr(c.Gr);a.push(d)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(at);return t.forEach(o=>{const a=new ln(o,0),c=new ln(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,c],d=>{i=i.add(d.Gr)})}),ye.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ke.isDocumentKey(a)||(a=a.child(""));const c=new ln(new Ke(a),0);let d=new nn(at);return this.zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(p.Gr)),!0)},c),ye.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const o=this.jr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ct(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ye.forEach(t.mutations,o=>{const a=new ln(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new ln(t,0),o=this.zr.firstAfterOrEqual(i);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.Zr=e,this.docs=function(){return new Bt(Ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ye.resolve(i?i.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let i=Ai();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():In.newInvalidDocument(o))}),ye.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Ai();const c=t.path,d=new Ke(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||dR(hR(_),i)<=0||(o.has(_.key)||Sh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,t,i,o){et(9500)}Xr(e,t){return ye.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Fk(this)}getSize(e){return ye.resolve(this.size)}}class Fk extends xk{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(i)}),ye.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.persistence=e,this.ei=new oo(t=>Gp(t),Kp),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ti=0,this.ni=new tm,this.targetCount=0,this.ri=ga.rr()}forEachTarget(e,t){return this.ei.forEach((i,o)=>t(o)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),ye.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new ga(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.ar(t),ye.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ye.waitFor(a).next(()=>o)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return ye.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),ye.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return ye.resolve(i)}containsKey(e,t){return ye.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.ii={},this.overlays={},this.si=new vh(0),this.oi=!1,this.oi=!0,this._i=new Lk,this.referenceDelegate=e(this),this.ai=new jk(this),this.indexManager=new Sk,this.remoteDocumentCache=function(o){return new Vk(o)}(i=>this.referenceDelegate.ui(i)),this.serializer=new Ek(t),this.ci=new Dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new Mk(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const o=new Uk(this.si.next());return this.referenceDelegate.li(),i(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return ye.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class Uk extends pR{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Ti=new tm,this.Ii=null}static Ei(e){return new nm(e)}get di(){if(this.Ii)return this.Ii;throw et(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),ye.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,i=>{const o=Ke.fromPath(i);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,rt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ye.or([()=>ye.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.Ri=new oo(i=>yR(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=kk(this,t)}static Ei(e,t){return new ih(e,t)}li(){}hi(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return ye.forEach(this.Ri,(i,o)=>this.gr(e,i,o).next(a=>a?ye.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,a.removeEntry(c,rt.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ye.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lc(e.data.value)),t}gr(e,t,i){return ye.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ye.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=o}static Ps(e,t){let i=ht(),o=ht();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new rm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return _C()?8:mR(Cn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Vs(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new zk;return this.fs(e,t,c).next(d=>{if(a.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>a.result)}gs(e,t,i,o){return i.documentReadCount<this.Es?(Yo()<=ct.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ye.resolve()):(Yo()<=ct.DEBUG&&Fe("QueryEngine","Query:",Jo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ds*o?(Yo()<=ct.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(t))):ye.resolve())}Rs(e,t){if(Hv(t))return ye.resolve(null);let i=Xr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sp(t,null,"F"),i=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=ht(...a);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.ps(t,d);return this.ys(t,m,c,p.readTime)?this.Rs(e,sp(t,null,"F")):this.ws(e,m,t,p)}))})))}Vs(e,t,i,o){return Hv(t)||o.isEqual(rt.min())?ye.resolve(null):this.As.getDocuments(e,i).next(a=>{const c=this.ps(t,a);return this.ys(t,c,i,o)?ye.resolve(null):(Yo()<=ct.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(t)),this.ws(e,c,t,cR(o,Vl)).next(d=>d))})}ps(e,t){let i=new nn(j0(e));return t.forEach((o,a)=>{Sh(e,a)&&(i=i.add(a))}),i}ys(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,i){return Yo()<=ct.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.As.getDocumentsMatchingQuery(e,t,fs.min(),i)}ws(e,t,i,o){return this.As.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",Bk=3e8;class Wk{constructor(e,t,i,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new Bt(at),this.Ds=new oo(a=>Gp(a),Kp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ok(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function Hk(n,e,t,i){return new Wk(n,e,t,i)}async function uE(n,e){const t=st(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=ht();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of a){d.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Ms:m,removedBatchIds:c,addedBatchIds:d}))})})}function qk(n,e){const t=st(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,m,_){const w=m.batch,S=w.keys();let x=ye.resolve();return S.forEach(A=>{x=x.next(()=>_.getEntry(p,A)).next(C=>{const T=m.docVersions.get(A);Ct(T!==null,48541),C.version.compareTo(T)<0&&(w.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),_.addEntry(C)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=ht();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function cE(n){const e=st(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Gk(n,e){const t=st(n),i=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const d=[];e.targetChanges.forEach((_,w)=>{const S=o.get(w);if(!S)return;d.push(t.ai.removeMatchingKeys(a,_.removedDocuments,w).next(()=>t.ai.addMatchingKeys(a,_.addedDocuments,w)));let x=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?x=x.withResumeToken(hn.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),o=o.insert(w,x),function(C,T,V){return C.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Bk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(S,x,_)&&d.push(t.ai.updateTargetData(a,x))});let p=Ai(),m=ht();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(Kk(a,c,e.documentUpdates).next(_=>{p=_.xs,m=_.Os})),!i.isEqual(rt.min())){const _=t.ai.getLastRemoteSnapshotVersion(a).next(w=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return ye.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,m)).next(()=>p)}).then(a=>(t.Ss=o,a))}function Kk(n,e,t){let i=ht(),o=ht();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Ai();return t.forEach((d,p)=>{const m=a.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(rt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Fe(im,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{xs:c,Os:o}})}function Qk(n,e){const t=st(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Wp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Yk(n,e){const t=st(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.ai.getTargetData(i,e).next(a=>a?(o=a,ye.resolve(o)):t.ai.allocateTargetId(i).next(c=>(o=new os(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ss.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function cp(n,e,t){const i=st(n),o=i.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ka(c))throw c;Fe(im,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(o.target)}function i_(n,e,t){const i=st(n);let o=rt.min(),a=ht();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const w=st(p),S=w.Ds.get(_);return S!==void 0?ye.resolve(w.Ss.get(S)):w.ai.getTargetData(m,_)}(i,c,Xr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?o:rt.min(),t?a:ht())).next(d=>(Jk(i,VR(e),d),{documents:d,Ns:a})))}function Jk(n,e,t){let i=n.vs.get(e)||rt.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.vs.set(e,i)}class s_{constructor(){this.activeTargetIds=BR()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xk{constructor(){this.So=new s_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new s_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class a_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Fe(o_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Fe(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function hp(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${o}`,this.qo=this.databaseId.database===Jc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Qo(e,t,i,o,a){const c=hp(),d=this.$o(e,t.toUriEncodedString());Fe(Rf,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,a);const{host:m}=new URL(d),_=fh(m);return this.Ko(e,d,p,i,_).then(w=>(Fe(Rf,`Received RPC '${e}' ${c}: `,w),w),w=>{throw eo(Rf,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",i),w})}Wo(e,t,i,o,a,c){return this.Qo(e,t,i,o,a)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const i=ex[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class rx extends tx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,o,a){const c=hp();return new Promise((d,p)=>{const m=new f0;m.setWithCredentials(!0),m.listenOnce(p0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Nc.NO_ERROR:const w=m.getResponseJson();Fe(Tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Nc.TIMEOUT:Fe(Tn,`RPC '${e}' ${c} timed out`),p(new He(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const S=m.getStatus();if(Fe(Tn,`RPC '${e}' ${c} failed with status:`,S,"response text:",m.getResponseText()),S>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x==null?void 0:x.error;if(A&&A.status&&A.message){const C=function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(F)>=0?F:Ae.UNKNOWN}(A.status);p(new He(C,A.message))}else p(new He(Ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new He(Ae.UNAVAILABLE,"Connection failed."));break;default:et(9055,{s_:e,streamId:c,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{Fe(Tn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);Fe(Tn,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",_,i,15)})}a_(e,t,i){const o=hp(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=y0(),d=g0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");Fe(Tn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=c.createWebChannel(_,p);let S=!1,x=!1;const A=new nx({Go:T=>{x?Fe(Tn,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(S||(Fe(Tn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),Fe(Tn,`RPC '${e}' stream ${o} sending:`,T),w.send(T))},zo:()=>w.close()}),C=(T,V,F)=>{T.listen(V,U=>{try{F(U)}catch(te){setTimeout(()=>{throw te},0)}})};return C(w,Sl.EventType.OPEN,()=>{x||(Fe(Tn,`RPC '${e}' stream ${o} transport opened.`),A.t_())}),C(w,Sl.EventType.CLOSE,()=>{x||(x=!0,Fe(Tn,`RPC '${e}' stream ${o} transport closed`),A.r_())}),C(w,Sl.EventType.ERROR,T=>{x||(x=!0,eo(Tn,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),A.r_(new He(Ae.UNAVAILABLE,"The operation could not be completed")))}),C(w,Sl.EventType.MESSAGE,T=>{var V;if(!x){const F=T.data[0];Ct(!!F,16349);const U=F,te=(U==null?void 0:U.error)||((V=U[0])===null||V===void 0?void 0:V.error);if(te){Fe(Tn,`RPC '${e}' stream ${o} received error:`,te);const $=te.status;let fe=function(k){const D=Yt[k];if(D!==void 0)return J0(D)}($),M=te.message;fe===void 0&&(fe=Ae.INTERNAL,M="Unknown error status: "+$+" with message "+te.message),x=!0,A.r_(new He(fe,M)),w.close()}else Fe(Tn,`RPC '${e}' stream ${o} received:`,F),A.i_(F)}}),C(d,m0.STAT_EVENT,T=>{T.stat===Zf.PROXY?Fe(Tn,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===Zf.NOPROXY&&Fe(Tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n){return new ak(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-i);o>0&&Fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class dE{constructor(e,t,i,o,a,c,d,p){this.bi=e,this.R_=i,this.V_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new hE(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(Pi(t.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.m_===t&&this.B_(i,o)},i=>{e(()=>{const o=new He(Ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(o)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{i(()=>this.L_(o))}),this.stream.onMessage(o=>{i(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Fe(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Fe(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ix extends dE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=ck(this.serializer,e),i=function(a){if(!("targetChange"in a))return rt.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?rt.min():c.readTime?Zr(c.readTime):rt.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=up(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=ip(p)?{documents:fk(a,p)}:{query:pk(a,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=eE(a,c.resumeToken);const m=op(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(rt.min())>0){d.readTime=rh(a,c.snapshotVersion.toTimestamp());const m=op(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=gk(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.F_(t)}}class sx extends dE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=dk(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=up(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>hk(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{}class ax extends ox{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new He(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Qo(e,ap(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new He(Ae.UNKNOWN,a.toString())})}Wo(e,t,i,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,ap(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new He(Ae.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class lx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Pi(t),this.ea=!1):Fe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="RemoteStore";class ux{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(c=>{i.enqueueAndForget(async()=>{ao(this)&&(Fe(to,"Restarting streams for network reachability change."),await async function(p){const m=st(p);m.aa.add(4),await Jl(m),m.la.set("Unknown"),m.aa.delete(4),await Rh(m)}(this))})}),this.la=new lx(i,o)}}async function Rh(n){if(ao(n))for(const e of n.ua)await e(!0)}async function Jl(n){for(const e of n.ua)await e(!1)}function fE(n,e){const t=st(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),lm(t)?am(t):xa(t).b_()&&om(t,e))}function sm(n,e){const t=st(n),i=xa(t);t._a.delete(e),i.b_()&&pE(t,e),t._a.size===0&&(i.b_()?i.v_():ao(t)&&t.la.set("Unknown"))}function om(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xa(n).U_(e)}function pE(n,e){n.ha.Ke(e),xa(n).K_(e)}function am(n){n.ha=new rk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),xa(n).start(),n.la.ta()}function lm(n){return ao(n)&&!xa(n).w_()&&n._a.size>0}function ao(n){return st(n).aa.size===0}function mE(n){n.ha=void 0}async function cx(n){n.la.set("Online")}async function hx(n){n._a.forEach((e,t)=>{om(n,e)})}async function dx(n,e){mE(n),lm(n)?(n.la.ia(e),am(n)):n.la.set("Unknown")}async function fx(n,e,t){if(n.la.set("Online"),e instanceof Z0&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o._a.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o._a.delete(d),o.ha.removeTarget(d))}(n,e)}catch(i){Fe(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await sh(n,i)}else if(e instanceof Fc?n.ha.Xe(e):e instanceof X0?n.ha.ot(e):n.ha.nt(e),!t.isEqual(rt.min()))try{const i=await cE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.ha.It(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=a._a.get(m);_&&a._a.set(m,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const _=a._a.get(p);if(!_)return;a._a.set(p,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),pE(a,p);const w=new os(_.target,p,m,_.sequenceNumber);om(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){Fe(to,"Failed to raise snapshot:",i),await sh(n,i)}}async function sh(n,e,t){if(!ka(e))throw e;n.aa.add(1),await Jl(n),n.la.set("Offline"),t||(t=()=>cE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Fe(to,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Rh(n)})}function gE(n,e){return e().catch(t=>sh(n,t,e))}async function kh(n){const e=st(n),t=ys(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Wp;for(;px(e);)try{const o=await Qk(e.localStore,i);if(o===null){e.oa.length===0&&t.v_();break}i=o.batchId,mx(e,o)}catch(o){await sh(e,o)}yE(e)&&vE(e)}function px(n){return ao(n)&&n.oa.length<10}function mx(n,e){n.oa.push(e);const t=ys(n);t.b_()&&t.W_&&t.G_(e.mutations)}function yE(n){return ao(n)&&!ys(n).w_()&&n.oa.length>0}function vE(n){ys(n).start()}async function gx(n){ys(n).H_()}async function yx(n){const e=ys(n);for(const t of n.oa)e.G_(t.mutations)}async function vx(n,e,t){const i=n.oa.shift(),o=Xp.from(i,e,t);await gE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await kh(n)}async function _x(n,e){e&&ys(n).W_&&await async function(i,o){if(function(c){return tk(c)&&c!==Ae.ABORTED}(o.code)){const a=i.oa.shift();ys(i).D_(),await gE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await kh(i)}}(n,e),yE(n)&&vE(n)}async function u_(n,e){const t=st(n);t.asyncQueue.verifyOperationInProgress(),Fe(to,"RemoteStore received new credentials");const i=ao(t);t.aa.add(3),await Jl(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Rh(t)}async function wx(n,e){const t=st(n);e?(t.aa.delete(2),await Rh(t)):e||(t.aa.add(2),await Jl(t),t.la.set("Unknown"))}function xa(n){return n.Pa||(n.Pa=function(t,i,o){const a=st(t);return a.Y_(),new ix(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:cx.bind(null,n),Jo:hx.bind(null,n),Zo:dx.bind(null,n),Q_:fx.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),lm(n)?am(n):n.la.set("Unknown")):(await n.Pa.stop(),mE(n))})),n.Pa}function ys(n){return n.Ta||(n.Ta=function(t,i,o){const a=st(t);return a.Y_(),new sx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:gx.bind(null,n),Zo:_x.bind(null,n),z_:yx.bind(null,n),j_:vx.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await kh(n)):(await n.Ta.stop(),n.oa.length>0&&(Fe(to,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new um(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(n,e){if(Pi("AsyncQueue",`${e}: ${n}`),ka(n))return new He(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{static emptySet(e){return new oa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ke.comparator(t.key,i.key):(t,i)=>Ke.comparator(t.key,i.key),this.keyedMap=Il(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new oa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.Ia=new Bt(Ke.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):et(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class ya{constructor(e,t,i,o,a,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ya(e,t,oa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Tx{constructor(){this.queries=h_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const o=st(t),a=o.queries;o.queries=h_(),a.forEach((c,d)=>{for(const p of d.Ra)p.onError(i)})})(this,new He(Ae.ABORTED,"Firestore shutting down"))}}function h_(){return new oo(n=>F0(n),Th)}async function _E(n,e){const t=st(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(i=2):(a=new Ex,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=cm(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&hm(t)}async function wE(n,e){const t=st(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.Ra.indexOf(e);c>=0&&(a.Ra.splice(c,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Sx(n,e){const t=st(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Ra)d.pa(o)&&(i=!0);c.Aa=o}}i&&hm(t)}function Ix(n,e,t){const i=st(n),o=i.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);i.queries.delete(e)}function hm(n){n.fa.forEach(e=>{e.next()})}var dp,d_;(d_=dp||(dp={})).ya="default",d_.Cache="cache";class EE{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ya(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.key=e}}class SE{constructor(e){this.key=e}}class Cx{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ht(),this.mutatedKeys=ht(),this.Ua=j0(e),this.Ka=new oa(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new c_,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const S=o.get(_),x=Sh(this.query,w)?w:null,A=!!S&&this.mutatedKeys.has(S.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;S&&x?S.data.isEqual(x.data)?A!==C&&(i.track({type:3,doc:x}),T=!0):this.ja(S,x)||(i.track({type:2,doc:x}),T=!0,(p&&this.Ua(x,p)>0||m&&this.Ua(x,m)<0)&&(d=!0)):!S&&x?(i.track({type:0,doc:x}),T=!0):S&&!x&&(i.track({type:1,doc:S}),T=!0,(p||m)&&(d=!0)),T&&(x?(c=c.add(x),a=C?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{Ka:c,za:i,ys:d,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((_,w)=>function(x,A){const C=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et(20277,{Vt:T})}};return C(x)-C(A)}(_.type,w.type)||this.Ua(_.doc,w.doc)),this.Ha(i),o=o!=null&&o;const d=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,m=p!==this.Qa;return this.Qa=p,c.length!==0||m?{snapshot:new ya(this.query,e.Ka,a,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new c_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ht(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new SE(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new TE(i))}),t}Xa(e){this.qa=e.Ns,this.$a=ht();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ya.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const dm="SyncEngine";class Px{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Ax{constructor(e){this.key=e,this.tu=!1}}class Rx{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new oo(d=>F0(d),Th),this.iu=new Map,this.su=new Set,this.ou=new Bt(Ke.comparator),this._u=new Map,this.au=new tm,this.uu={},this.cu=new Map,this.lu=ga.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function kx(n,e,t=!0){const i=kE(n);let o;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await IE(i,e,t,!0),o}async function xx(n,e){const t=kE(n);await IE(t,e,!0,!1)}async function IE(n,e,t,i){const o=await Yk(n.localStore,Xr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await bx(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&fE(n.remoteStore,o),d}async function bx(n,e,t,i,o){n.Pu=(w,S,x)=>async function(C,T,V,F){let U=T.view.Ga(V);U.ys&&(U=await i_(C.localStore,T.query,!1).then(({documents:M})=>T.view.Ga(M,U)));const te=F&&F.targetChanges.get(T.targetId),$=F&&F.targetMismatches.get(T.targetId)!=null,fe=T.view.applyChanges(U,C.isPrimaryClient,te,$);return p_(C,T.targetId,fe.Ya),fe.snapshot}(n,w,S,x);const a=await i_(n.localStore,e,!0),c=new Cx(e,a.Ns),d=c.Ga(a.documents),p=Yl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(d,n.isPrimaryClient,p);p_(n,t,m.Ya);const _=new Px(e,t,c);return n.ru.set(e,_),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function Ox(n,e,t){const i=st(n),o=i.ru.get(e),a=i.iu.get(o.targetId);if(a.length>1)return i.iu.set(o.targetId,a.filter(c=>!Th(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&sm(i.remoteStore,o.targetId),fp(i,o.targetId)}).catch(Ra)):(fp(i,o.targetId),await cp(i.localStore,o.targetId,!0))}async function Dx(n,e){const t=st(n),i=t.ru.get(e),o=t.iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sm(t.remoteStore,i.targetId))}async function Nx(n,e,t){const i=zx(n);try{const o=await function(c,d){const p=st(c),m=Jt.now(),_=d.reduce((x,A)=>x.add(A.key),ht());let w,S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let A=Ai(),C=ht();return p.Cs.getEntries(x,_).next(T=>{A=T,A.forEach((V,F)=>{F.isValidDocument()||(C=C.add(V))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,A)).next(T=>{w=T;const V=[];for(const F of d){const U=YR(F,w.get(F.key).overlayedDocument);U!=null&&V.push(new Ss(F.key,U,b0(U.value.mapValue),cr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,m,V,d)}).next(T=>{S=T;const V=T.applyToLocalDocumentSet(w,C);return p.documentOverlayCache.saveOverlays(x,T.batchId,V)})}).then(()=>({batchId:S.batchId,changes:z0(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let m=c.uu[c.currentUser.toKey()];m||(m=new Bt(at)),m=m.insert(d,p),c.uu[c.currentUser.toKey()]=m}(i,o.batchId,t),await Xl(i,o.changes),await kh(i.remoteStore)}catch(o){const a=cm(o,"Failed to persist write");t.reject(a)}}async function CE(n,e){const t=st(n);try{const i=await Gk(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t._u.get(a);c&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.tu=!0:o.modifiedDocuments.size>0?Ct(c.tu,14607):o.removedDocuments.size>0&&(Ct(c.tu,42227),c.tu=!1))}),await Xl(t,i,e)}catch(i){await Ra(i)}}function f_(n,e,t){const i=st(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ru.forEach((a,c)=>{const d=c.view.ga(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=st(c);p.onlineState=d;let m=!1;p.queries.forEach((_,w)=>{for(const S of w.Ra)S.ga(d)&&(m=!0)}),m&&hm(p)}(i.eventManager,e),o.length&&i.nu.Q_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Lx(n,e,t){const i=st(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i._u.get(e),a=o&&o.key;if(a){let c=new Bt(Ke.comparator);c=c.insert(a,In.newNoDocument(a,rt.min()));const d=ht().add(a),p=new Ph(rt.min(),new Map,new Bt(at),c,d);await CE(i,p),i.ou=i.ou.remove(a),i._u.delete(e),fm(i)}else await cp(i.localStore,e,!1).then(()=>fp(i,e,t)).catch(Ra)}async function Mx(n,e){const t=st(n),i=e.batch.batchId;try{const o=await qk(t.localStore,e);AE(t,i,null),PE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Xl(t,o)}catch(o){await Ra(o)}}async function Vx(n,e,t){const i=st(n);try{const o=await function(c,d){const p=st(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,d).next(w=>(Ct(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(i.localStore,e);AE(i,e,t),PE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Xl(i,o)}catch(o){await Ra(o)}}function PE(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function AE(n,e,t){const i=st(n);let o=i.uu[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.uu[i.currentUser.toKey()]=o}}function fp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||RE(n,i)})}function RE(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(sm(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),fm(n))}function p_(n,e,t){for(const i of t)i instanceof TE?(n.au.addReference(i.key,e),Fx(n,i)):i instanceof SE?(Fe(dm,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||RE(n,i.key)):et(19791,{Iu:i})}function Fx(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(Fe(dm,"New document in limbo: "+t),n.su.add(i),fm(n))}function fm(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ke(Mt.fromString(e)),i=n.lu.next();n._u.set(i,new Ax(t)),n.ou=n.ou.insert(t,i),fE(n.remoteStore,new os(Xr(Qp(t.path)),i,"TargetPurposeLimboResolution",vh.le))}}async function Xl(n,e,t){const i=st(n),o=[],a=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,p)=>{c.push(i.Pu(p,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){o.push(m);const w=rm.Ps(p.targetId,m);a.push(w)}}))}),await Promise.all(c),i.nu.Q_(o),await async function(p,m){const _=st(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ye.forEach(m,S=>ye.forEach(S.ls,x=>_.persistence.referenceDelegate.addReference(w,S.targetId,x)).next(()=>ye.forEach(S.hs,x=>_.persistence.referenceDelegate.removeReference(w,S.targetId,x)))))}catch(w){if(!ka(w))throw w;Fe(im,"Failed to update sequence numbers: "+w)}for(const w of m){const S=w.targetId;if(!w.fromCache){const x=_.Ss.get(S),A=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(A);_.Ss=_.Ss.insert(S,C)}}}(i.localStore,a))}async function jx(n,e){const t=st(n);if(!t.currentUser.isEqual(e)){Fe(dm,"User change. New user:",e.toKey());const i=await uE(t.localStore,e);t.currentUser=e,function(a,c){a.cu.forEach(d=>{d.forEach(p=>{p.reject(new He(Ae.CANCELLED,c))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Xl(t,i.Ms)}}function Ux(n,e){const t=st(n),i=t._u.get(e);if(i&&i.tu)return ht().add(i.key);{let o=ht();const a=t.iu.get(e);if(!a)return o;for(const c of a){const d=t.ru.get(c);o=o.unionWith(d.view.Wa)}return o}}function kE(n){const e=st(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ux.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lx.bind(null,e),e.nu.Q_=Sx.bind(null,e.eventManager),e.nu.Tu=Ix.bind(null,e.eventManager),e}function zx(n){const e=st(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vx.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Hk(this.persistence,new $k,e.initialUser,this.serializer)}Ru(e){return new lE(nm.Ei,this.serializer)}Au(e){return new Xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class $x extends oh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ct(this.persistence.referenceDelegate instanceof ih,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Ak(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new lE(i=>ih.Ei(i,t),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=jx.bind(null,this.syncEngine),await wx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tx}()}createDatastore(e){const t=Ah(e.databaseInfo.databaseId),i=function(a){return new rx(a)}(e.databaseInfo);return function(a,c,d,p){return new ax(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new ux(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>f_(this.syncEngine,t,0),function(){return a_.C()?new a_:new Zk}())}createSyncEngine(e,t){return function(o,a,c,d,p,m,_){const w=new Rx(o,a,c,d,p,m);return _&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=st(o);Fe(to,"RemoteStore shutting down."),a.aa.add(5),await Jl(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class Bx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{Fe(vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Fe(vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=cm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function xf(n,e){n.asyncQueue.verifyOperationInProgress(),Fe(vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await uE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function m_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Wx(n);Fe(vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>u_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>u_(e.remoteStore,o)),n._onlineComponents=e}async function Wx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Fe(vs,"Using user provided OfflineComponentProvider");try{await xf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Ae.FAILED_PRECONDITION||o.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;eo("Error using user provided cache. Falling back to memory cache: "+t),await xf(n,new oh)}}else Fe(vs,"Using default OfflineComponentProvider"),await xf(n,new $x(void 0));return n._offlineComponents}async function bE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Fe(vs,"Using user provided OnlineComponentProvider"),await m_(n,n._uninitializedComponentsProvider._online)):(Fe(vs,"Using default OnlineComponentProvider"),await m_(n,new pp))),n._onlineComponents}function Hx(n){return bE(n).then(e=>e.syncEngine)}async function OE(n){const e=await bE(n),t=e.eventManager;return t.onListen=kx.bind(null,e.syncEngine),t.onUnlisten=Ox.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Dx.bind(null,e.syncEngine),t}function qx(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,m){const _=new xE({next:S=>{_.yu(),c.enqueueAndForget(()=>wE(a,w));const x=S.docs.has(d);!x&&S.fromCache?m.reject(new He(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&p&&p.source==="server"?m.reject(new He(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),w=new EE(Qp(d.path),_,{includeMetadataChanges:!0,Fa:!0});return _E(a,w)}(await OE(n),n.asyncQueue,e,t,i)),i.promise}function Gx(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,m){const _=new xE({next:S=>{_.yu(),c.enqueueAndForget(()=>wE(a,w)),S.fromCache&&p.source==="server"?m.reject(new He(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),w=new EE(d,_,{includeMetadataChanges:!0,Fa:!0});return _E(a,w)}(await OE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n,e,t){if(!t)throw new He(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LE(n,e,t,i){if(e===!0&&i===!0)throw new He(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y_(n){if(!Ke.isDocumentKey(n))throw new He(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function v_(n){if(Ke.isDocumentKey(n))throw new He(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":et(12329,{type:typeof n})}function dr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pm(n);throw new He(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firestore.googleapis.com",__=!0;class w_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new He(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ME,this.ssl=__}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:__;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ck)throw new He(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new He(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new He(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new He(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new w0;switch(i.type){case"firstParty":return new sR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new He(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=g_.get(t);i&&(Fe("ComponentProvider","Removing Datastore"),g_.delete(t),i.terminate())}(this),Promise.resolve()}}function VE(n,e,t,i={}){var o;n=dr(n,xh);const a=fh(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;a&&Pw(`https://${p}`),c.host!==ME&&c.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:p,ssl:a,emulatorOptions:i});if(!Si(m,d)&&(n._setSettings(m),i.mockUserToken)){let _,w;if(typeof i.mockUserToken=="string")_=i.mockUserToken,w=Sn.MOCK_USER;else{_=dC(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new He(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Sn(S)}n._authCredentials=new nR(new _0(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class xn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Ei extends Zl{constructor(e,t,i){super(e,t,Qp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Ke(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function eu(n,e,...t){if(n=cn(n),NE("collection","path",e),n instanceof xh){const i=Mt.fromString(e,...t);return v_(i),new Ei(n,null,i)}{if(!(n instanceof xn||n instanceof Ei))throw new He(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return v_(i),new Ei(n.firestore,null,i)}}function ni(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Bp.newId()),NE("doc","path",e),n instanceof xh){const i=Mt.fromString(e,...t);return y_(i),new xn(n,null,new Ke(i))}{if(!(n instanceof xn||n instanceof Ei))throw new He(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mt.fromString(e,...t));return y_(i),new xn(n.firestore,n instanceof Ei?n.converter:null,new Ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="AsyncQueue";class T_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new hE(this,"async_queue_retry"),this.ju=()=>{const i=kf();i&&Fe(E_,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=kf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=kf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new wi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ka(e))throw e;Fe(E_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Pi("INTERNAL UNHANDLED ERROR: ",S_(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=um.createAndSchedule(this,e,t,i,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&et(47125,{ec:S_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function S_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Is extends xh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new T_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T_(e),this._firestoreClient=void 0,await e}}}function FE(n,e){const t=typeof n=="object"?n:xw(),i=typeof n=="string"?n:e||Jc,o=Op(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=cC("firestore");a&&VE(o,...a)}return o}function bh(n){if(n._terminated)throw new He(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Kx(n),n._firestoreClient}function Kx(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,m,_){return new wR(d,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,DE(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Bx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(hn.fromBase64String(e))}catch(t){throw new He(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new no(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new He(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=/^__.*__$/;class Yx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ql(e,this.data,t,this.fieldTransforms)}}class jE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et(40011,{oc:n})}}class Nh{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Nh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o.lc(e),o}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:i,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return ah(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(UE(this.oc)&&Qx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Jx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ah(e)}dc(e,t,i,o=!1){return new Nh({oc:e,methodName:t,Ec:i,path:un.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(n){const e=n._freezeSettings(),t=Ah(n._databaseId);return new Jx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zE(n,e,t,i,o,a={}){const c=n.dc(a.merge||a.mergeFields?2:0,e,t,o);vm("Data must be an object, but it was:",c,i);const d=BE(i,c);let p,m;if(a.merge)p=new Xn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const S=mp(e,w,t);if(!c.contains(S))throw new He(Ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);HE(_,S)||_.push(S)}p=new Xn(_),m=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=c.fieldTransforms;return new Yx(new $n(d),p,m)}class Lh extends ba{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function $E(n,e,t){return new Nh({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gm extends ba{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=$E(this,e,!0),i=this.Ac.map(a=>Oa(a,t)),o=new pa(i);return new K0(e.path,o)}isEqual(e){return e instanceof gm&&Si(this.Ac,e.Ac)}}class ym extends ba{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=$E(this,e,!0),i=this.Ac.map(a=>Oa(a,t)),o=new ma(i);return new K0(e.path,o)}isEqual(e){return e instanceof ym&&Si(this.Ac,e.Ac)}}function Xx(n,e,t,i){const o=n.dc(1,e,t);vm("Data must be an object, but it was:",o,i);const a=[],c=$n.empty();Ts(i,(p,m)=>{const _=_m(e,p,t);m=cn(m);const w=o.hc(_);if(m instanceof Lh)a.push(_);else{const S=Oa(m,w);S!=null&&(a.push(_),c.set(_,S))}});const d=new Xn(a);return new jE(c,d,o.fieldTransforms)}function Zx(n,e,t,i,o,a){const c=n.dc(1,e,t),d=[mp(e,i,t)],p=[o];if(a.length%2!=0)throw new He(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(mp(e,a[S])),p.push(a[S+1]);const m=[],_=$n.empty();for(let S=d.length-1;S>=0;--S)if(!HE(m,d[S])){const x=d[S];let A=p[S];A=cn(A);const C=c.hc(x);if(A instanceof Lh)m.push(x);else{const T=Oa(A,C);T!=null&&(m.push(x),_.set(x,T))}}const w=new Xn(m);return new jE(_,w,c.fieldTransforms)}function Oa(n,e){if(WE(n=cn(n)))return vm("Unsupported field value:",e,n),BE(n,e);if(n instanceof ba)return function(i,o){if(!UE(o.oc))throw o.Tc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=Oa(d,o.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return WR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Jt.fromDate(i);return{timestampValue:rh(o.serializer,a)}}if(i instanceof Jt){const a=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rh(o.serializer,a)}}if(i instanceof Oh)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof no)return{bytesValue:eE(o.serializer,i._byteString)};if(i instanceof xn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:em(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Dh)return function(c,d){return{mapValue:{fields:{[k0]:{stringValue:x0},[Xc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Tc("VectorValues must only contain numeric values.");return Yp(d.serializer,m)})}}}}}}(i,o);throw o.Tc(`Unsupported field value: ${pm(i)}`)}(n,e)}function BE(n,e){const t={};return S0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(n,(i,o)=>{const a=Oa(o,e.uc(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function WE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof Oh||n instanceof no||n instanceof xn||n instanceof ba||n instanceof Dh)}function vm(n,e,t){if(!WE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=pm(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function mp(n,e,t){if((e=cn(e))instanceof tu)return e._internalPath;if(typeof e=="string")return _m(n,e);throw ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const eb=new RegExp("[~\\*/\\[\\]]");function _m(n,e,t){if(e.search(eb)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tu(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ah(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new He(Ae.INVALID_ARGUMENT,d+n+p)}function HE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tb extends qE{data(){return super.data()}}function GE(n,e){return typeof e=="string"?_m(n,e):e instanceof tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new He(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KE{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw et(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ts(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Xc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>qt(c.doubleValue));return new Dh(a)}convertGeoPoint(e){return new Oh(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const t=ps(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mt.fromString(e);Ct(oE(i),9688,{name:e});const o=new ha(i.get(1),i.get(3)),a=new Ke(i.popFirst(5));return o.isEqual(t)||Pi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wm extends qE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ol(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(GE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ol extends wm{data(e={}){return super.data(e)}}class YE{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ta(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ol(this._firestore,this._userDataWriter,i.key,i,new ta(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Ol(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ta(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new Ol(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ta(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:rb(d.type),doc:p,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n){n=dr(n,xn);const e=dr(n.firestore,Is);return qx(bh(e),n._key).then(t=>sb(e,n,t))}class JE extends KE{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function Mh(n){n=dr(n,Zl);const e=dr(n.firestore,Is),t=bh(e),i=new JE(e);return nb(n._query),Gx(t,n._query).then(o=>new YE(e,i,n,o))}function XE(n,e,t){n=dr(n,xn);const i=dr(n.firestore,Is),o=QE(n.converter,e);return nu(i,[zE(mm(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,cr.none())])}function va(n,e,t,...i){n=dr(n,xn);const o=dr(n.firestore,Is),a=mm(o);let c;return c=typeof(e=cn(e))=="string"||e instanceof tu?Zx(a,"updateDoc",n._key,e,t,i):Xx(a,"updateDoc",n._key,e),nu(o,[c.toMutation(n._key,cr.exists(!0))])}function ZE(n){return nu(dr(n.firestore,Is),[new Jp(n._key,cr.none())])}function ib(n,e){const t=dr(n.firestore,Is),i=ni(n),o=QE(n.converter,e);return nu(t,[zE(mm(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,cr.exists(!1))]).then(()=>i)}function nu(n,e){return function(i,o){const a=new wi;return i.asyncQueue.enqueueAndForget(async()=>Nx(await Hx(i),o,a)),a.promise}(bh(n),e)}function sb(n,e,t){const i=t.docs.get(e._key),o=new JE(n);return new wm(n,o,e._key,i,new ta(t.hasPendingWrites,t.fromCache),e.converter)}function Tm(...n){return new gm("arrayUnion",n)}function Sm(...n){return new ym("arrayRemove",n)}(function(e,t=!0){(function(o){Aa=o})(Ia),aa(new Js("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new Is(new rR(i.getProvider("auth-internal")),new oR(c,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new He(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(m.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),us(Rv,kv,e),us(Rv,kv,"esm2017")})();const ob=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:KE,Bytes:no,CollectionReference:Ei,DocumentReference:xn,DocumentSnapshot:wm,FieldPath:tu,FieldValue:ba,Firestore:Is,FirestoreError:He,GeoPoint:Oh,Query:Zl,QueryDocumentSnapshot:Ol,QuerySnapshot:YE,SnapshotMetadata:ta,Timestamp:Jt,VectorValue:Dh,_AutoId:Bp,_ByteString:hn,_DatabaseId:ha,_DocumentKey:Ke,_EmptyAuthCredentialsProvider:w0,_FieldPath:un,_cast:dr,_logWarn:eo,_validateIsNotUsedTogether:LE,addDoc:ib,arrayRemove:Sm,arrayUnion:Tm,collection:eu,connectFirestoreEmulator:VE,deleteDoc:ZE,doc:ni,ensureFirestoreConfigured:bh,executeWrite:nu,getDoc:Em,getDocs:Mh,getFirestore:FE,setDoc:XE,updateDoc:va},Symbol.toStringTag,{value:"Module"})),ab={apiKey:"AIzaSyAQ_SsjWagL4VemB06Jm8KsEHEjK6Rn42A",authDomain:"we-are-the-walrus.firebaseapp.com",projectId:"we-are-the-walrus",storageBucket:"we-are-the-walrus.firebasestorage.app",messagingSenderId:"267097892790",appId:"1:267097892790:web:bed96f56aaeb465e200317"},eT=kw(ab),Pl=eR(eT),fr=FE(eT,"crossword"),lb=Object.freeze(Object.defineProperty({__proto__:null,auth:Pl,db:fr},Symbol.toStringTag,{value:"Module"})),tT=Y.createContext();function ub({children:n}){const[e,t]=Y.useState(null),[i,o]=Y.useState(!0);Y.useEffect(()=>$P(Pl,async _=>{if(_){const w=await Em(ni(fr,"users",_.uid));let S=w.exists()?w.data():{};console.log("firebaseUser:"),console.log(_),console.log(w);const x=S.admin;t({uid:_.uid,email:_.email,admin:x,...S}),console.log(`isAdmin: ${x}`)}else t(null);o(!1)}),[]);const p={user:e,login:(m,_)=>VP(Pl,m,_),logout:()=>BP(Pl),changePassword:m=>FP(Pl.currentUser,m)};return ee.jsx(tT.Provider,{value:p,children:!i&&n})}function ru(){return Y.useContext(tT)}function I_({children:n}){const{user:e}=ru();return e?n:ee.jsx(Bf,{to:"/crossworder/login",replace:!0})}function cb({children:n}){const{user:e}=ru();return e===null?null:e?e.admin?n:ee.jsx(Bf,{to:"/crossworder/",replace:!0}):ee.jsx(Bf,{to:"/crossworder/login",replace:!0})}function hb(){const{login:n,user:e}=ru(),t=$l(),[i,o]=Y.useState(""),[a,c]=Y.useState(""),[d,p]=Y.useState("");Y.useEffect(()=>{e&&t("/crossworder/")},[e,t]);const m=async _=>{_.preventDefault(),p("");try{await n(i,a)}catch{p("Invalid email or password")}};return ee.jsxs("div",{className:"login-container",children:[ee.jsx("h2",{children:"Login"}),ee.jsxs("form",{onSubmit:m,children:[ee.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:_=>o(_.target.value),required:!0}),ee.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:_=>c(_.target.value),required:!0}),ee.jsx("button",{type:"submit",children:"Login"}),d&&ee.jsx("div",{className:"error",children:d})]})]})}async function nT(){const n=eu(fr,"wordSets");return(await Mh(n)).docs.map(t=>({id:t.id,...t.data()}))}async function db(n){const e=ni(fr,"users",n),t=await Em(e);return t.exists()?t.data().savedPuzzles||[]:[]}async function fb(n){const e=eu(fr,"wordSets"),t=ni(e);await XE(t,{...n,words:[]})}async function pb(n,e){const t=ni(fr,"wordSets",n);await va(t,e)}async function mb(n){const e=ni(fr,"wordSets",n);await ZE(e)}async function gb(n,e){const t=ni(fr,"wordSets",n);await va(t,{words:Tm(e)})}async function yb(n,e,t){const i=ni(fr,"wordSets",n);await va(i,{words:Sm(e)}),await va(i,{words:Tm(t)})}async function vb(n,e){const t=ni(fr,"wordSets",n);await va(t,{words:Sm(e)})}const Ks=nT;var _l={},bf={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function _b(){if(C_)return St;C_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),A;A=Symbol.for("react.module.reference");function C(T){if(typeof T=="object"&&T!==null){var V=T.$$typeof;switch(V){case n:switch(T=T.type,T){case t:case o:case i:case m:case _:return T;default:switch(T=T&&T.$$typeof,T){case d:case c:case p:case S:case w:case a:return T;default:return V}}case e:return V}}}return St.ContextConsumer=c,St.ContextProvider=a,St.Element=n,St.ForwardRef=p,St.Fragment=t,St.Lazy=S,St.Memo=w,St.Portal=e,St.Profiler=o,St.StrictMode=i,St.Suspense=m,St.SuspenseList=_,St.isAsyncMode=function(){return!1},St.isConcurrentMode=function(){return!1},St.isContextConsumer=function(T){return C(T)===c},St.isContextProvider=function(T){return C(T)===a},St.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===n},St.isForwardRef=function(T){return C(T)===p},St.isFragment=function(T){return C(T)===t},St.isLazy=function(T){return C(T)===S},St.isMemo=function(T){return C(T)===w},St.isPortal=function(T){return C(T)===e},St.isProfiler=function(T){return C(T)===o},St.isStrictMode=function(T){return C(T)===i},St.isSuspense=function(T){return C(T)===m},St.isSuspenseList=function(T){return C(T)===_},St.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===t||T===o||T===i||T===m||T===_||T===x||typeof T=="object"&&T!==null&&(T.$$typeof===S||T.$$typeof===w||T.$$typeof===a||T.$$typeof===c||T.$$typeof===p||T.$$typeof===A||T.getModuleId!==void 0)},St.typeOf=C,St}var P_;function wb(){return P_||(P_=1,bf.exports=_b()),bf.exports}var rT=wb(),Of,A_;function Eb(){return A_||(A_=1,Of=function(e,t,i,o){var a=i?i.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var c=Object.keys(e),d=Object.keys(t);if(c.length!==d.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(t),m=0;m<c.length;m++){var _=c[m];if(!p(_))return!1;var w=e[_],S=t[_];if(a=i?i.call(o,w,S,_):void 0,a===!1||a===void 0&&w!==S)return!1}return!0}),Of}var Tb=Eb();const Sb=Ul(Tb);function Ib(n){function e(G,K,ie,Ce,q){for(var Oe=0,oe=0,Ue=0,de=0,We,Le,it=0,Et=0,Je,ft=Je=We=0,nt=0,Pt=0,Tt=0,ot=0,Ft=ie.length,yn=Ft-1,jt,qe="",lt="",pt="",N="",W;nt<Ft;){if(Le=ie.charCodeAt(nt),nt===yn&&oe+de+Ue+Oe!==0&&(oe!==0&&(Le=oe===47?10:47),de=Ue=Oe=0,Ft++,yn++),oe+de+Ue+Oe===0){if(nt===yn&&(0<Pt&&(qe=qe.replace(S,"")),0<qe.trim().length)){switch(Le){case 32:case 9:case 59:case 13:case 10:break;default:qe+=ie.charAt(nt)}Le=59}switch(Le){case 123:for(qe=qe.trim(),We=qe.charCodeAt(0),Je=1,ot=++nt;nt<Ft;){switch(Le=ie.charCodeAt(nt)){case 123:Je++;break;case 125:Je--;break;case 47:switch(Le=ie.charCodeAt(nt+1)){case 42:case 47:e:{for(ft=nt+1;ft<yn;++ft)switch(ie.charCodeAt(ft)){case 47:if(Le===42&&ie.charCodeAt(ft-1)===42&&nt+2!==ft){nt=ft+1;break e}break;case 10:if(Le===47){nt=ft+1;break e}}nt=ft}}break;case 91:Le++;case 40:Le++;case 34:case 39:for(;nt++<yn&&ie.charCodeAt(nt)!==Le;);}if(Je===0)break;nt++}switch(Je=ie.substring(ot,nt),We===0&&(We=(qe=qe.replace(w,"").trim()).charCodeAt(0)),We){case 64:switch(0<Pt&&(qe=qe.replace(S,"")),Le=qe.charCodeAt(1),Le){case 100:case 109:case 115:case 45:Pt=K;break;default:Pt=ge}if(Je=e(K,Pt,Je,Le,q+1),ot=Je.length,0<Q&&(Pt=t(ge,qe,Tt),W=d(3,Je,Pt,K,O,j,ot,Le,q,Ce),qe=Pt.join(""),W!==void 0&&(ot=(Je=W.trim()).length)===0&&(Le=0,Je="")),0<ot)switch(Le){case 115:qe=qe.replace(fe,c);case 100:case 109:case 45:Je=qe+"{"+Je+"}";break;case 107:qe=qe.replace(F,"$1 $2"),Je=qe+"{"+Je+"}",Je=me===1||me===2&&a("@"+Je,3)?"@-webkit-"+Je+"@"+Je:"@"+Je;break;default:Je=qe+Je,Ce===112&&(Je=(lt+=Je,""))}else Je="";break;default:Je=e(K,t(K,qe,Tt),Je,Ce,q+1)}pt+=Je,Je=Tt=Pt=ft=We=0,qe="",Le=ie.charCodeAt(++nt);break;case 125:case 59:if(qe=(0<Pt?qe.replace(S,""):qe).trim(),1<(ot=qe.length))switch(ft===0&&(We=qe.charCodeAt(0),We===45||96<We&&123>We)&&(ot=(qe=qe.replace(" ",":")).length),0<Q&&(W=d(1,qe,K,G,O,j,lt.length,Ce,q,Ce))!==void 0&&(ot=(qe=W.trim()).length)===0&&(qe="\0\0"),We=qe.charCodeAt(0),Le=qe.charCodeAt(1),We){case 0:break;case 64:if(Le===105||Le===99){N+=qe+ie.charAt(nt);break}default:qe.charCodeAt(ot-1)!==58&&(lt+=o(qe,We,Le,qe.charCodeAt(2)))}Tt=Pt=ft=We=0,qe="",Le=ie.charCodeAt(++nt)}}switch(Le){case 13:case 10:oe===47?oe=0:1+We===0&&Ce!==107&&0<qe.length&&(Pt=1,qe+="\0"),0<Q*b&&d(0,qe,K,G,O,j,lt.length,Ce,q,Ce),j=1,O++;break;case 59:case 125:if(oe+de+Ue+Oe===0){j++;break}default:switch(j++,jt=ie.charAt(nt),Le){case 9:case 32:if(de+Oe+oe===0)switch(it){case 44:case 58:case 9:case 32:jt="";break;default:Le!==32&&(jt=" ")}break;case 0:jt="\\0";break;case 12:jt="\\f";break;case 11:jt="\\v";break;case 38:de+oe+Oe===0&&(Pt=Tt=1,jt="\f"+jt);break;case 108:if(de+oe+Oe+Te===0&&0<ft)switch(nt-ft){case 2:it===112&&ie.charCodeAt(nt-3)===58&&(Te=it);case 8:Et===111&&(Te=Et)}break;case 58:de+oe+Oe===0&&(ft=nt);break;case 44:oe+Ue+de+Oe===0&&(Pt=1,jt+="\r");break;case 34:case 39:oe===0&&(de=de===Le?0:de===0?Le:de);break;case 91:de+oe+Ue===0&&Oe++;break;case 93:de+oe+Ue===0&&Oe--;break;case 41:de+oe+Oe===0&&Ue--;break;case 40:if(de+oe+Oe===0){if(We===0)switch(2*it+3*Et){case 533:break;default:We=1}Ue++}break;case 64:oe+Ue+de+Oe+ft+Je===0&&(Je=1);break;case 42:case 47:if(!(0<de+Oe+Ue))switch(oe){case 0:switch(2*Le+3*ie.charCodeAt(nt+1)){case 235:oe=47;break;case 220:ot=nt,oe=42}break;case 42:Le===47&&it===42&&ot+2!==nt&&(ie.charCodeAt(ot+2)===33&&(lt+=ie.substring(ot,nt+1)),jt="",oe=0)}}oe===0&&(qe+=jt)}Et=it,it=Le,nt++}if(ot=lt.length,0<ot){if(Pt=K,0<Q&&(W=d(2,lt,Pt,G,O,j,ot,Ce,q,Ce),W!==void 0&&(lt=W).length===0))return N+lt+pt;if(lt=Pt.join(",")+"{"+lt+"}",me*Te!==0){switch(me!==2||a(lt,2)||(Te=0),Te){case 111:lt=lt.replace(te,":-moz-$1")+lt;break;case 112:lt=lt.replace(U,"::-webkit-input-$1")+lt.replace(U,"::-moz-$1")+lt.replace(U,":-ms-input-$1")+lt}Te=0}}return N+lt+pt}function t(G,K,ie){var Ce=K.trim().split(T);K=Ce;var q=Ce.length,Oe=G.length;switch(Oe){case 0:case 1:var oe=0;for(G=Oe===0?"":G[0]+" ";oe<q;++oe)K[oe]=i(G,K[oe],ie).trim();break;default:var Ue=oe=0;for(K=[];oe<q;++oe)for(var de=0;de<Oe;++de)K[Ue++]=i(G[de]+" ",Ce[oe],ie).trim()}return K}function i(G,K,ie){var Ce=K.charCodeAt(0);switch(33>Ce&&(Ce=(K=K.trim()).charCodeAt(0)),Ce){case 38:return K.replace(V,"$1"+G.trim());case 58:return G.trim()+K.replace(V,"$1"+G.trim());default:if(0<1*ie&&0<K.indexOf("\f"))return K.replace(V,(G.charCodeAt(0)===58?"":"$1")+G.trim())}return G+K}function o(G,K,ie,Ce){var q=G+";",Oe=2*K+3*ie+4*Ce;if(Oe===944){G=q.indexOf(":",9)+1;var oe=q.substring(G,q.length-1).trim();return oe=q.substring(0,G).trim()+oe+";",me===1||me===2&&a(oe,1)?"-webkit-"+oe+oe:oe}if(me===0||me===2&&!a(q,1))return q;switch(Oe){case 1015:return q.charCodeAt(10)===97?"-webkit-"+q+q:q;case 951:return q.charCodeAt(3)===116?"-webkit-"+q+q:q;case 963:return q.charCodeAt(5)===110?"-webkit-"+q+q:q;case 1009:if(q.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+q+q;case 978:return"-webkit-"+q+"-moz-"+q+q;case 1019:case 983:return"-webkit-"+q+"-moz-"+q+"-ms-"+q+q;case 883:if(q.charCodeAt(8)===45)return"-webkit-"+q+q;if(0<q.indexOf("image-set(",11))return q.replace(P,"$1-webkit-$2")+q;break;case 932:if(q.charCodeAt(4)===45)switch(q.charCodeAt(5)){case 103:return"-webkit-box-"+q.replace("-grow","")+"-webkit-"+q+"-ms-"+q.replace("grow","positive")+q;case 115:return"-webkit-"+q+"-ms-"+q.replace("shrink","negative")+q;case 98:return"-webkit-"+q+"-ms-"+q.replace("basis","preferred-size")+q}return"-webkit-"+q+"-ms-"+q+q;case 964:return"-webkit-"+q+"-ms-flex-"+q+q;case 1023:if(q.charCodeAt(8)!==99)break;return oe=q.substring(q.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+oe+"-webkit-"+q+"-ms-flex-pack"+oe+q;case 1005:return A.test(q)?q.replace(x,":-webkit-")+q.replace(x,":-moz-")+q:q;case 1e3:switch(oe=q.substring(13).trim(),K=oe.indexOf("-")+1,oe.charCodeAt(0)+oe.charCodeAt(K)){case 226:oe=q.replace($,"tb");break;case 232:oe=q.replace($,"tb-rl");break;case 220:oe=q.replace($,"lr");break;default:return q}return"-webkit-"+q+"-ms-"+oe+q;case 1017:if(q.indexOf("sticky",9)===-1)break;case 975:switch(K=(q=G).length-10,oe=(q.charCodeAt(K)===33?q.substring(0,K):q).substring(G.indexOf(":",7)+1).trim(),Oe=oe.charCodeAt(0)+(oe.charCodeAt(7)|0)){case 203:if(111>oe.charCodeAt(8))break;case 115:q=q.replace(oe,"-webkit-"+oe)+";"+q;break;case 207:case 102:q=q.replace(oe,"-webkit-"+(102<Oe?"inline-":"")+"box")+";"+q.replace(oe,"-webkit-"+oe)+";"+q.replace(oe,"-ms-"+oe+"box")+";"+q}return q+";";case 938:if(q.charCodeAt(5)===45)switch(q.charCodeAt(6)){case 105:return oe=q.replace("-items",""),"-webkit-"+q+"-webkit-box-"+oe+"-ms-flex-"+oe+q;case 115:return"-webkit-"+q+"-ms-flex-item-"+q.replace(R,"")+q;default:return"-webkit-"+q+"-ms-flex-line-pack"+q.replace("align-content","").replace(R,"")+q}break;case 973:case 989:if(q.charCodeAt(3)!==45||q.charCodeAt(4)===122)break;case 931:case 953:if(D.test(G)===!0)return(oe=G.substring(G.indexOf(":")+1)).charCodeAt(0)===115?o(G.replace("stretch","fill-available"),K,ie,Ce).replace(":fill-available",":stretch"):q.replace(oe,"-webkit-"+oe)+q.replace(oe,"-moz-"+oe.replace("fill-",""))+q;break;case 962:if(q="-webkit-"+q+(q.charCodeAt(5)===102?"-ms-"+q:"")+q,ie+Ce===211&&q.charCodeAt(13)===105&&0<q.indexOf("transform",10))return q.substring(0,q.indexOf(";",27)+1).replace(C,"$1-webkit-$2")+q}return q}function a(G,K){var ie=G.indexOf(K===1?":":"{"),Ce=G.substring(0,K!==3?ie:10);return ie=G.substring(ie+1,G.length-1),pe(K!==2?Ce:Ce.replace(k,"$1"),ie,K)}function c(G,K){var ie=o(K,K.charCodeAt(0),K.charCodeAt(1),K.charCodeAt(2));return ie!==K+";"?ie.replace(M," or ($1)").substring(4):"("+K+")"}function d(G,K,ie,Ce,q,Oe,oe,Ue,de,We){for(var Le=0,it=K,Et;Le<Q;++Le)switch(Et=_e[Le].call(_,G,it,ie,Ce,q,Oe,oe,Ue,de,We)){case void 0:case!1:case!0:case null:break;default:it=Et}if(it!==K)return it}function p(G){switch(G){case void 0:case null:Q=_e.length=0;break;default:if(typeof G=="function")_e[Q++]=G;else if(typeof G=="object")for(var K=0,ie=G.length;K<ie;++K)p(G[K]);else b=!!G|0}return p}function m(G){return G=G.prefix,G!==void 0&&(pe=null,G?typeof G!="function"?me=1:(me=2,pe=G):me=0),m}function _(G,K){var ie=G;if(33>ie.charCodeAt(0)&&(ie=ie.trim()),H=ie,ie=[H],0<Q){var Ce=d(-1,K,ie,ie,O,j,0,0,0,0);Ce!==void 0&&typeof Ce=="string"&&(K=Ce)}var q=e(ge,ie,K,0,0);return 0<Q&&(Ce=d(-2,q,ie,ie,O,j,q.length,0,0,0),Ce!==void 0&&(q=Ce)),H="",Te=0,j=O=1,q}var w=/^\0+/g,S=/[\0\r\f]/g,x=/: */g,A=/zoo|gra/,C=/([,: ])(transform)/g,T=/,\r+?/g,V=/([\t\r\n ])*\f?&/g,F=/@(k\w+)\s*(\S*)\s*/,U=/::(place)/g,te=/:(read-only)/g,$=/[svh]\w+-[tblr]{2}/,fe=/\(\s*(.*)\s*\)/g,M=/([\s\S]*?);/g,R=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,D=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,j=1,O=1,Te=0,me=1,ge=[],_e=[],Q=0,pe=null,b=0,H="";return _.use=p,_.set=m,n!==void 0&&m(n),_}var Cb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Pb(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Ab=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R_=Pb(function(n){return Ab.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),Df={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function Rb(){if(k_)return It;k_=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,m=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,S=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,A=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,V=n?Symbol.for("react.responder"):60118,F=n?Symbol.for("react.scope"):60119;function U($){if(typeof $=="object"&&$!==null){var fe=$.$$typeof;switch(fe){case e:switch($=$.type,$){case p:case m:case i:case a:case o:case w:return $;default:switch($=$&&$.$$typeof,$){case d:case _:case A:case x:case c:return $;default:return fe}}case t:return fe}}}function te($){return U($)===m}return It.AsyncMode=p,It.ConcurrentMode=m,It.ContextConsumer=d,It.ContextProvider=c,It.Element=e,It.ForwardRef=_,It.Fragment=i,It.Lazy=A,It.Memo=x,It.Portal=t,It.Profiler=a,It.StrictMode=o,It.Suspense=w,It.isAsyncMode=function($){return te($)||U($)===p},It.isConcurrentMode=te,It.isContextConsumer=function($){return U($)===d},It.isContextProvider=function($){return U($)===c},It.isElement=function($){return typeof $=="object"&&$!==null&&$.$$typeof===e},It.isForwardRef=function($){return U($)===_},It.isFragment=function($){return U($)===i},It.isLazy=function($){return U($)===A},It.isMemo=function($){return U($)===x},It.isPortal=function($){return U($)===t},It.isProfiler=function($){return U($)===a},It.isStrictMode=function($){return U($)===o},It.isSuspense=function($){return U($)===w},It.isValidElementType=function($){return typeof $=="string"||typeof $=="function"||$===i||$===m||$===a||$===o||$===w||$===S||typeof $=="object"&&$!==null&&($.$$typeof===A||$.$$typeof===x||$.$$typeof===c||$.$$typeof===d||$.$$typeof===_||$.$$typeof===T||$.$$typeof===V||$.$$typeof===F||$.$$typeof===C)},It.typeOf=U,It}var x_;function kb(){return x_||(x_=1,Df.exports=Rb()),Df.exports}var Nf,b_;function xb(){if(b_)return Nf;b_=1;var n=kb(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function c(A){return n.isMemo(A)?o:a[A.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,S=Object.prototype;function x(A,C,T){if(typeof C!="string"){if(S){var V=w(C);V&&V!==S&&x(A,V,T)}var F=p(C);m&&(F=F.concat(m(C)));for(var U=c(A),te=c(C),$=0;$<F.length;++$){var fe=F[$];if(!t[fe]&&!(T&&T[fe])&&!(te&&te[fe])&&!(U&&U[fe])){var M=_(C,fe);try{d(A,fe,M)}catch{}}}}return A}return Nf=x,Nf}var bb=xb();const iT=Ul(bb);var Kr={};function Zn(){return(Zn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}var O_=function(n,e){for(var t=[n[0]],i=0,o=e.length;i<o;i+=1)t.push(e[i],n[i+1]);return t},gp=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!rT.typeOf(n)},lh=Object.freeze([]),ds=Object.freeze({});function _a(n){return typeof n=="function"}function yp(n){return n.displayName||n.name||"Component"}function Vh(n){return n&&typeof n.styledComponentId=="string"}var _s=typeof process<"u"&&(Kr.REACT_APP_SC_ATTR||Kr.SC_ATTR)||"data-styled",Ob="5.3.6",Im=typeof window<"u"&&"HTMLElement"in window,Db=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Kr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Kr.REACT_APP_SC_DISABLE_SPEEDY!==""?Kr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Kr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Kr.SC_DISABLE_SPEEDY!==void 0&&Kr.SC_DISABLE_SPEEDY!==""&&Kr.SC_DISABLE_SPEEDY!=="false"&&Kr.SC_DISABLE_SPEEDY),Nb={};function Dr(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var Lb=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var i=0,o=0;o<t;o++)i+=this.groupSizes[o];return i},e.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var o=this.groupSizes,a=o.length,c=a;t>=c;)(c<<=1)<0&&Dr(16,""+t);this.groupSizes=new Uint32Array(c),this.groupSizes.set(o),this.length=c;for(var d=a;d<c;d++)this.groupSizes[d]=0}for(var p=this.indexOfGroup(t+1),m=0,_=i.length;m<_;m++)this.tag.insertRule(p,i[m])&&(this.groupSizes[t]++,p++)},e.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],o=this.indexOfGroup(t),a=o+i;this.groupSizes[t]=0;for(var c=o;c<a;c++)this.tag.deleteRule(o)}},e.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var o=this.groupSizes[t],a=this.indexOfGroup(t),c=a+o,d=a;d<c;d++)i+=this.tag.getRule(d)+`/*!sc*/
`;return i},n}(),jc=new Map,uh=new Map,Dl=1,Pc=function(n){if(jc.has(n))return jc.get(n);for(;uh.has(Dl);)Dl++;var e=Dl++;return jc.set(n,e),uh.set(e,n),e},Mb=function(n){return uh.get(n)},Vb=function(n,e){e>=Dl&&(Dl=e+1),jc.set(n,e),uh.set(e,n)},Fb="style["+_s+'][data-styled-version="5.3.6"]',jb=new RegExp("^"+_s+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ub=function(n,e,t){for(var i,o=t.split(","),a=0,c=o.length;a<c;a++)(i=o[a])&&n.registerName(e,i)},zb=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),i=[],o=0,a=t.length;o<a;o++){var c=t[o].trim();if(c){var d=c.match(jb);if(d){var p=0|parseInt(d[1],10),m=d[2];p!==0&&(Vb(m,p),Ub(n,m,d[3]),n.getTag().insertRules(p,i)),i.length=0}else i.push(c)}}},vp=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},sT=function(n){var e=document.head,t=n||e,i=document.createElement("style"),o=function(d){for(var p=d.childNodes,m=p.length;m>=0;m--){var _=p[m];if(_&&_.nodeType===1&&_.hasAttribute(_s))return _}}(t),a=o!==void 0?o.nextSibling:null;i.setAttribute(_s,"active"),i.setAttribute("data-styled-version","5.3.6");var c=vp();return c&&i.setAttribute("nonce",c),t.insertBefore(i,a),i},$b=function(){function n(t){var i=this.element=sT(t);i.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,c=0,d=a.length;c<d;c++){var p=a[c];if(p.ownerNode===o)return p}Dr(17)}(i),this.length=0}var e=n.prototype;return e.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var i=this.sheet.cssRules[t];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},n}(),Bb=function(){function n(t){var i=this.element=sT(t);this.nodes=i.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,i){if(t<=this.length&&t>=0){var o=document.createTextNode(i),a=this.nodes[t];return this.element.insertBefore(o,a||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),Wb=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),D_=Im,Hb={isServer:!Im,useCSSOMInjection:!Db},wa=function(){function n(t,i,o){t===void 0&&(t=ds),i===void 0&&(i={}),this.options=Zn({},Hb,{},t),this.gs=i,this.names=new Map(o),this.server=!!t.isServer,!this.server&&Im&&D_&&(D_=!1,function(a){for(var c=document.querySelectorAll(Fb),d=0,p=c.length;d<p;d++){var m=c[d];m&&m.getAttribute(_s)!=="active"&&(zb(a,m),m.parentNode&&m.parentNode.removeChild(m))}}(this))}n.registerId=function(t){return Pc(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new n(Zn({},this.options,{},t),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(o=(i=this.options).isServer,a=i.useCSSOMInjection,c=i.target,t=o?new Wb(c):a?new $b(c):new Bb(c),new Lb(t)));var t,i,o,a,c},e.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},e.registerName=function(t,i){if(Pc(t),this.names.has(t))this.names.get(t).add(i);else{var o=new Set;o.add(i),this.names.set(t,o)}},e.insertRules=function(t,i,o){this.registerName(t,i),this.getTag().insertRules(Pc(t),o)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(Pc(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var i=t.getTag(),o=i.length,a="",c=0;c<o;c++){var d=Mb(c);if(d!==void 0){var p=t.names.get(d),m=i.getGroup(c);if(p&&m&&p.size){var _=_s+".g"+c+'[id="'+d+'"]',w="";p!==void 0&&p.forEach(function(S){S.length>0&&(w+=S+",")}),a+=""+m+_+'{content:"'+w+`"}/*!sc*/
`}}}return a}(this)},n}(),qb=/(a)(d)/gi,N_=function(n){return String.fromCharCode(n+(n>25?39:97))};function _p(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=N_(e%52)+t;return(N_(e%52)+t).replace(qb,"$1-$2")}var na=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},oT=function(n){return na(5381,n)};function aT(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(_a(t)&&!Vh(t))return!1}return!0}var Gb=oT("5.3.6"),Kb=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&aT(e),this.componentId=t,this.baseHash=na(Gb,t),this.baseStyle=i,wa.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var o=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(e,t,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))a.push(this.staticRulesId);else{var c=ro(this.rules,e,t,i).join(""),d=_p(na(this.baseHash,c)>>>0);if(!t.hasNameForId(o,d)){var p=i(c,"."+d,void 0,o);t.insertRules(o,d,p)}a.push(d),this.staticRulesId=d}else{for(var m=this.rules.length,_=na(this.baseHash,i.hash),w="",S=0;S<m;S++){var x=this.rules[S];if(typeof x=="string")w+=x;else if(x){var A=ro(x,e,t,i),C=Array.isArray(A)?A.join(""):A;_=na(_,C+S),w+=C}}if(w){var T=_p(_>>>0);if(!t.hasNameForId(o,T)){var V=i(w,"."+T,void 0,o);t.insertRules(o,T,V)}a.push(T)}}return a.join(" ")},n}(),Qb=/^\s*\/\/.*$/gm,Yb=[":","[",".","#"];function lT(n){var e,t,i,o,a=n===void 0?ds:n,c=a.options,d=c===void 0?ds:c,p=a.plugins,m=p===void 0?lh:p,_=new Ib(d),w=[],S=function(C){function T(V){if(V)try{C(V+"}")}catch{}}return function(V,F,U,te,$,fe,M,R,k,D){switch(V){case 1:if(k===0&&F.charCodeAt(0)===64)return C(F+";"),"";break;case 2:if(R===0)return F+"/*|*/";break;case 3:switch(R){case 102:case 112:return C(U[0]+F),"";default:return F+(D===0?"/*|*/":"")}case-2:F.split("/*|*/}").forEach(T)}}}(function(C){w.push(C)}),x=function(C,T,V){return T===0&&Yb.indexOf(V[t.length])!==-1||V.match(o)?C:"."+e};function A(C,T,V,F){F===void 0&&(F="&");var U=C.replace(Qb,""),te=T&&V?V+" "+T+" { "+U+" }":U;return e=F,t=T,i=new RegExp("\\"+t+"\\b","g"),o=new RegExp("(\\"+t+"\\b){2,}"),_(V||!T?"":T,te)}return _.use([].concat(m,[function(C,T,V){C===2&&V.length&&V[0].lastIndexOf(t)>0&&(V[0]=V[0].replace(i,x))},S,function(C){if(C===-2){var T=w;return w=[],T}}])),A.hash=m.length?m.reduce(function(C,T){return T.name||Dr(15),na(C,T.name)},5381).toString():"",A}var Fh=hr.createContext(),Jb=Fh.Consumer,Cm=hr.createContext(),uT=(Cm.Consumer,new wa),wp=lT();function Pm(){return Y.useContext(Fh)||uT}function cT(){return Y.useContext(Cm)||wp}function hT(n){var e=Y.useState(n.stylisPlugins),t=e[0],i=e[1],o=Pm(),a=Y.useMemo(function(){var d=o;return n.sheet?d=n.sheet:n.target&&(d=d.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(d=d.reconstructWithOptions({useCSSOMInjection:!1})),d},[n.disableCSSOMInjection,n.sheet,n.target]),c=Y.useMemo(function(){return lT({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return Y.useEffect(function(){Sb(t,n.stylisPlugins)||i(n.stylisPlugins)},[n.stylisPlugins]),hr.createElement(Fh.Provider,{value:a},hr.createElement(Cm.Provider,{value:c},n.children))}var dT=function(){function n(e,t){var i=this;this.inject=function(o,a){a===void 0&&(a=wp);var c=i.name+a.hash;o.hasNameForId(i.id,c)||o.insertRules(i.id,c,a(i.rules,c,"@keyframes"))},this.toString=function(){return Dr(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=wp),this.name+e.hash},n}(),Xb=/([A-Z])/,Zb=/([A-Z])/g,eO=/^ms-/,tO=function(n){return"-"+n.toLowerCase()};function L_(n){return Xb.test(n)?n.replace(Zb,tO).replace(eO,"-ms-"):n}var M_=function(n){return n==null||n===!1||n===""};function ro(n,e,t,i){if(Array.isArray(n)){for(var o,a=[],c=0,d=n.length;c<d;c+=1)(o=ro(n[c],e,t,i))!==""&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}if(M_(n))return"";if(Vh(n))return"."+n.styledComponentId;if(_a(n)){if(typeof(m=n)!="function"||m.prototype&&m.prototype.isReactComponent||!e)return n;var p=n(e);return ro(p,e,t,i)}var m;return n instanceof dT?t?(n.inject(t,i),n.getName(i)):n:gp(n)?function _(w,S){var x,A,C=[];for(var T in w)w.hasOwnProperty(T)&&!M_(w[T])&&(Array.isArray(w[T])&&w[T].isCss||_a(w[T])?C.push(L_(T)+":",w[T],";"):gp(w[T])?C.push.apply(C,_(w[T],T)):C.push(L_(T)+": "+(x=T,(A=w[T])==null||typeof A=="boolean"||A===""?"":typeof A!="number"||A===0||x in Cb?String(A).trim():A+"px")+";"));return S?[S+" {"].concat(C,["}"]):C}(n):n.toString()}var V_=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function jh(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return _a(n)||gp(n)?V_(ro(O_(lh,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:V_(ro(O_(n,t)))}var Am=function(n,e,t){return t===void 0&&(t=ds),n.theme!==t.theme&&n.theme||e||t.theme},nO=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,rO=/(^-|-$)/g;function Lf(n){return n.replace(nO,"-").replace(rO,"")}var Rm=function(n){return _p(oT(n)>>>0)};function Ac(n){return typeof n=="string"&&!0}var Ep=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},iO=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function sO(n,e,t){var i=n[t];Ep(e)&&Ep(i)?fT(i,e):n[t]=e}function fT(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];for(var o=0,a=t;o<a.length;o++){var c=a[o];if(Ep(c))for(var d in c)iO(d)&&sO(n,c[d],d)}return n}var ws=hr.createContext(),oO=ws.Consumer;function aO(n){var e=Y.useContext(ws),t=Y.useMemo(function(){return function(i,o){if(!i)return Dr(14);if(_a(i)){var a=i(o);return a}return Array.isArray(i)||typeof i!="object"?Dr(8):o?Zn({},o,{},i):i}(n.theme,e)},[n.theme,e]);return n.children?hr.createElement(ws.Provider,{value:t},n.children):null}var Mf={};function pT(n,e,t){var i=Vh(n),o=!Ac(n),a=e.attrs,c=a===void 0?lh:a,d=e.componentId,p=d===void 0?function(F,U){var te=typeof F!="string"?"sc":Lf(F);Mf[te]=(Mf[te]||0)+1;var $=te+"-"+Rm("5.3.6"+te+Mf[te]);return U?U+"-"+$:$}(e.displayName,e.parentComponentId):d,m=e.displayName,_=m===void 0?function(F){return Ac(F)?"styled."+F:"Styled("+yp(F)+")"}(n):m,w=e.displayName&&e.componentId?Lf(e.displayName)+"-"+e.componentId:e.componentId||p,S=i&&n.attrs?Array.prototype.concat(n.attrs,c).filter(Boolean):c,x=e.shouldForwardProp;i&&n.shouldForwardProp&&(x=e.shouldForwardProp?function(F,U,te){return n.shouldForwardProp(F,U,te)&&e.shouldForwardProp(F,U,te)}:n.shouldForwardProp);var A,C=new Kb(t,w,i?n.componentStyle:void 0),T=C.isStatic&&c.length===0,V=function(F,U){return function(te,$,fe,M){var R=te.attrs,k=te.componentStyle,D=te.defaultProps,P=te.foldedComponentIds,j=te.shouldForwardProp,O=te.styledComponentId,Te=te.target,me=function(Ce,q,Oe){Ce===void 0&&(Ce=ds);var oe=Zn({},q,{theme:Ce}),Ue={};return Oe.forEach(function(de){var We,Le,it,Et=de;for(We in _a(Et)&&(Et=Et(oe)),Et)oe[We]=Ue[We]=We==="className"?(Le=Ue[We],it=Et[We],Le&&it?Le+" "+it:Le||it):Et[We]}),[oe,Ue]}(Am($,Y.useContext(ws),D)||ds,$,R),ge=me[0],_e=me[1],Q=function(Ce,q,Oe,oe){var Ue=Pm(),de=cT(),We=q?Ce.generateAndInjectStyles(ds,Ue,de):Ce.generateAndInjectStyles(Oe,Ue,de);return We}(k,M,ge),pe=fe,b=_e.$as||$.$as||_e.as||$.as||Te,H=Ac(b),G=_e!==$?Zn({},$,{},_e):$,K={};for(var ie in G)ie[0]!=="$"&&ie!=="as"&&(ie==="forwardedAs"?K.as=G[ie]:(j?j(ie,R_,b):!H||R_(ie))&&(K[ie]=G[ie]));return $.style&&_e.style!==$.style&&(K.style=Zn({},$.style,{},_e.style)),K.className=Array.prototype.concat(P,O,Q!==O?Q:null,$.className,_e.className).filter(Boolean).join(" "),K.ref=pe,Y.createElement(b,K)}(A,F,U,T)};return V.displayName=_,(A=hr.forwardRef(V)).attrs=S,A.componentStyle=C,A.displayName=_,A.shouldForwardProp=x,A.foldedComponentIds=i?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):lh,A.styledComponentId=w,A.target=i?n.target:n,A.withComponent=function(F){var U=e.componentId,te=function(fe,M){if(fe==null)return{};var R,k,D={},P=Object.keys(fe);for(k=0;k<P.length;k++)R=P[k],M.indexOf(R)>=0||(D[R]=fe[R]);return D}(e,["componentId"]),$=U&&U+"-"+(Ac(F)?F:Lf(yp(F)));return pT(F,Zn({},te,{attrs:S,componentId:$}),t)},Object.defineProperty(A,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(F){this._foldedDefaultProps=i?fT({},n.defaultProps,F):F}}),A.toString=function(){return"."+A.styledComponentId},o&&iT(A,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),A}var Tp=function(n){return function e(t,i,o){if(o===void 0&&(o=ds),!rT.isValidElementType(i))return Dr(1,String(i));var a=function(){return t(i,o,jh.apply(void 0,arguments))};return a.withConfig=function(c){return e(t,i,Zn({},o,{},c))},a.attrs=function(c){return e(t,i,Zn({},o,{attrs:Array.prototype.concat(o.attrs,c).filter(Boolean)}))},a}(pT,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){Tp[n]=Tp(n)});var lO=function(){function n(t,i){this.rules=t,this.componentId=i,this.isStatic=aT(t),wa.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,i,o,a){var c=a(ro(this.rules,i,o,a).join(""),""),d=this.componentId+t;o.insertRules(d,d,c)},e.removeStyles=function(t,i){i.clearRules(this.componentId+t)},e.renderStyles=function(t,i,o,a){t>2&&wa.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,i,o,a)},n}();function uO(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var o=jh.apply(void 0,[n].concat(t)),a="sc-global-"+Rm(JSON.stringify(o)),c=new lO(o,a);function d(m){var _=Pm(),w=cT(),S=Y.useContext(ws),x=Y.useRef(_.allocateGSInstance(a)).current;return _.server&&p(x,m,_,S,w),Y.useLayoutEffect(function(){if(!_.server)return p(x,m,_,S,w),function(){return c.removeStyles(x,_)}},[x,m,_,S,w]),null}function p(m,_,w,S,x){if(c.isStatic)c.renderStyles(m,Nb,w,x);else{var A=Zn({},_,{theme:Am(_,S,d.defaultProps)});c.renderStyles(m,A,w,x)}}return hr.memo(d)}function cO(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var o=jh.apply(void 0,[n].concat(t)).join(""),a=Rm(o);return new dT(a,o)}var hO=function(){function n(){var t=this;this._emitSheetCSS=function(){var i=t.instance.toString();if(!i)return"";var o=vp();return"<style "+[o&&'nonce="'+o+'"',_s+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+i+"</style>"},this.getStyleTags=function(){return t.sealed?Dr(2):t._emitSheetCSS()},this.getStyleElement=function(){var i;if(t.sealed)return Dr(2);var o=((i={})[_s]="",i["data-styled-version"]="5.3.6",i.dangerouslySetInnerHTML={__html:t.instance.toString()},i),a=vp();return a&&(o.nonce=a),[hr.createElement("style",Zn({},o,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new wa({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?Dr(2):hr.createElement(hT,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return Dr(3)},n}(),dO=function(n){var e=hr.forwardRef(function(t,i){var o=Y.useContext(ws),a=n.defaultProps,c=Am(t,o,a);return hr.createElement(n,Zn({},t,{theme:c,ref:i}))});return iT(e,n),e.displayName="WithTheme("+yp(n)+")",e},fO=function(){return Y.useContext(ws)},pO={StyleSheet:wa,masterSheet:uT};const mO=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheet:hO,StyleSheetConsumer:Jb,StyleSheetContext:Fh,StyleSheetManager:hT,ThemeConsumer:oO,ThemeContext:ws,ThemeProvider:aO,__PRIVATE__:pO,createGlobalStyle:uO,css:jh,default:Tp,isStyledComponent:Vh,keyframes:cO,useTheme:fO,version:Ob,withTheme:dO},Symbol.toStringTag,{value:"Module"})),Da=IS(mO);var Ko={},Vf={exports:{}},Ff,F_;function gO(){if(F_)return Ff;F_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ff=n,Ff}var jf,j_;function yO(){if(j_)return jf;j_=1;var n=gO();function e(){}function t(){}return t.resetWarningCache=e,jf=function(){function i(c,d,p,m,_,w){if(w!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},jf}var U_;function lo(){return U_||(U_=1,Vf.exports=yO()()),Vf.exports}var gi={},z_;function Na(){if(z_)return gi;z_=1;var n=gi&&gi.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gi,"__esModule",{value:!0}),gi.CrosswordSizeContext=gi.CrosswordContext=void 0;const e=n(Mr());function t(){}return gi.CrosswordContext=e.default.createContext({rows:0,cols:0,gridData:[],handleInputKeyDown:t,handleInputChange:t,handleCellClick:t,handleInputClick:t,handleClueSelected:t,registerFocusHandler:t,focused:!1,selectedPosition:{row:0,col:0},selectedDirection:"across",selectedNumber:"",crosswordCorrect:!1}),gi.CrosswordSizeContext=e.default.createContext({cellSize:0,cellPadding:0,cellInner:0,cellHalf:0,fontSize:0}),gi}var $_;function mT(){if($_)return Ko;$_=1;var n=Ko&&Ko.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ko,"__esModule",{value:!0});const e=io(),t=Mr(),i=n(lo()),o=Da,a=Na(),c={cellData:i.default.shape({row:i.default.number.isRequired,col:i.default.number.isRequired,guess:i.default.string,number:i.default.string,answer:i.default.string}).isRequired,focus:i.default.bool,highlight:i.default.bool,onClick:i.default.func};function d({cellData:p,onClick:m,focus:_,highlight:w}){const{cellSize:S,cellPadding:x,cellInner:A,cellHalf:C,fontSize:T}=(0,t.useContext)(a.CrosswordSizeContext),{cellBackground:V,cellBorder:F,textColor:U,numberColor:te,focusBackground:$,highlightBackground:fe}=(0,t.useContext)(o.ThemeContext),M=(0,t.useCallback)(me=>{me.preventDefault(),m&&m(p)},[p,m]),{row:R,col:k,guess:D,number:P,answer:j}=p,O=k*S,Te=R*S;return(0,e.jsxs)("g",Object.assign({onClick:M,style:{cursor:"default",fontSize:`${T}px`},className:"clue-cell"},{children:[(0,e.jsx)("rect",{x:O+x,y:Te+x,width:A,height:A,fill:_?$:w?fe:V,stroke:F,strokeWidth:S/50}),P&&(0,e.jsx)("text",Object.assign({x:O+x*4,y:Te+x*4,textAnchor:"start",dominantBaseline:"hanging",style:{fontSize:"50%",fill:te}},{children:P})),(0,e.jsx)("text",Object.assign({x:O+C,y:Te+C+1,textAnchor:"middle",dominantBaseline:"middle",style:{fill:U},className:j===D?"guess-text-correct":"guess-text-incorrect"},{children:D}))]}))}return Ko.default=d,d.propTypes=c,d.defaultProps={focus:!1,highlight:!1,onClick:null},Ko}var jn={},B_;function gT(){if(B_)return jn;B_=1;var n=jn&&jn.__createBinding||(Object.create?function(S,x,A,C){C===void 0&&(C=A);var T=Object.getOwnPropertyDescriptor(x,A);(!T||("get"in T?!x.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return x[A]}}),Object.defineProperty(S,C,T)}:function(S,x,A,C){C===void 0&&(C=A),S[C]=x[A]}),e=jn&&jn.__setModuleDefault||(Object.create?function(S,x){Object.defineProperty(S,"default",{enumerable:!0,value:x})}:function(S,x){S.default=x}),t=jn&&jn.__importStar||function(S){if(S&&S.__esModule)return S;var x={};if(S!=null)for(var A in S)A!=="default"&&Object.prototype.hasOwnProperty.call(S,A)&&n(x,S,A);return e(x,S),x},i=jn&&jn.__rest||function(S,x){var A={};for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&x.indexOf(C)<0&&(A[C]=S[C]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,C=Object.getOwnPropertySymbols(S);T<C.length;T++)x.indexOf(C[T])<0&&Object.prototype.propertyIsEnumerable.call(S,C[T])&&(A[C[T]]=S[C[T]]);return A},o=jn&&jn.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(jn,"__esModule",{value:!0});const a=io(),c=Mr(),d=o(lo()),p=t(Da),m=Na(),_=p.default.div.attrs(S=>({className:`clue${S.complete?S.correct?" correct":" incorrect":""}`}))`
  cursor: default;
  background-color: ${S=>S.highlight?S.highlightBackground:"transparent"};
`;function w(S){var{direction:x,number:A,children:C,complete:T,correct:V}=S,F=i(S,["direction","number","children","complete","correct"]);const{highlightBackground:U}=(0,c.useContext)(p.ThemeContext),{focused:te,selectedDirection:$,selectedNumber:fe,handleClueSelected:M}=(0,c.useContext)(m.CrosswordContext),R=(0,c.useCallback)(k=>{k.preventDefault(),M(x,A)},[x,A,M]);return(0,a.jsxs)(_,Object.assign({highlightBackground:U,highlight:te&&x===$&&A===fe,complete:T,correct:V},F,{onClick:R,"aria-label":`clue-${A}-${x}`},{children:[A,": ",C]}))}return jn.default=w,w.propTypes={direction:d.default.string.isRequired,number:d.default.string.isRequired,children:d.default.node.isRequired,complete:d.default.bool,correct:d.default.bool},w.defaultProps={complete:void 0,correct:void 0},jn}var Qo={},W_;function yT(){if(W_)return Qo;W_=1;var n=Qo&&Qo.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Qo,"__esModule",{value:!0});const e=io(),t=Mr(),i=n(lo()),o=Na(),a=n(gT()),c={direction:i.default.string.isRequired,label:i.default.string};function d({direction:p,label:m}){const{clues:_}=(0,t.useContext)(o.CrosswordContext);return(0,e.jsxs)("div",Object.assign({className:"direction"},{children:[(0,e.jsx)("h3",Object.assign({className:"header"},{children:m||p.toUpperCase()})),_==null?void 0:_[p].map(({number:w,clue:S,complete:x,correct:A})=>(0,e.jsx)(a.default,Object.assign({direction:p,number:w,complete:x,correct:A},{children:S}),w))]}))}return Qo.default=d,d.propTypes=c,d.defaultProps={label:void 0},Qo}var Un={},kr={},Uf={exports:{}},Dt={},H_;function vO(){if(H_)return Dt;H_=1;function n(N){for(var W=arguments.length,le=Array(W>1?W-1:0),re=1;re<W;re++)le[re-1]=arguments[re];throw Error("[Immer] minified error nr: "+N+(le.length?" "+le.map(function(Se){return"'"+Se+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function e(N){return!!N&&!!N[de]}function t(N){var W;return!!N&&(function(le){if(!le||typeof le!="object")return!1;var re=Object.getPrototypeOf(le);if(re===null)return!0;var Se=Object.hasOwnProperty.call(re,"constructor")&&re.constructor;return Se===Object||typeof Se=="function"&&Function.toString.call(Se)===Le}(N)||Array.isArray(N)||!!N[Ue]||!!(!((W=N.constructor)===null||W===void 0)&&W[Ue])||m(N)||_(N))}function i(N,W,le){le===void 0&&(le=!1),o(N)===0?(le?Object.keys:it)(N).forEach(function(re){le&&typeof re=="symbol"||W(re,N[re],N)}):N.forEach(function(re,Se){return W(Se,re,N)})}function o(N){var W=N[de];return W?W.t>3?W.t-4:W.t:Array.isArray(N)?1:m(N)?2:_(N)?3:0}function a(N,W){return o(N)===2?N.has(W):Object.prototype.hasOwnProperty.call(N,W)}function c(N,W){return o(N)===2?N.get(W):N[W]}function d(N,W,le){var re=o(N);re===2?N.set(W,le):re===3?N.add(le):N[W]=le}function p(N,W){return N===W?N!==0||1/N==1/W:N!=N&&W!=W}function m(N){return Ce&&N instanceof Map}function _(N){return q&&N instanceof Set}function w(N){return N.i||N.u}function S(N){if(Array.isArray(N))return Array.prototype.slice.call(N);var W=Et(N);delete W[de];for(var le=it(W),re=0;re<le.length;re++){var Se=le[re],ke=W[Se];ke.writable===!1&&(ke.writable=!0,ke.configurable=!0),(ke.get||ke.set)&&(W[Se]={configurable:!0,writable:!0,enumerable:ke.enumerable,value:N[Se]})}return Object.create(Object.getPrototypeOf(N),W)}function x(N,W){return W===void 0&&(W=!1),C(N)||e(N)||!t(N)||(o(N)>1&&(N.set=N.add=N.clear=N.delete=A),Object.freeze(N),W&&i(N,function(le,re){return x(re,!0)},!0)),N}function A(){n(2)}function C(N){return N==null||typeof N!="object"||Object.isFrozen(N)}function T(N){var W=Je[N];return W||n(18,N),W}function V(N,W){Je[N]||(Je[N]=W)}function F(){return K}function U(N,W){W&&(T("Patches"),N.o=[],N.v=[],N.s=W)}function te(N){$(N),N.p.forEach(M),N.p=null}function $(N){N===K&&(K=N.l)}function fe(N){return K={p:[],l:K,h:N,_:!0,m:0}}function M(N){var W=N[de];W.t===0||W.t===1?W.j():W.O=!0}function R(N,W){W.m=W.p.length;var le=W.p[0],re=N!==void 0&&N!==le;return W.h.S||T("ES5").P(W,N,re),re?(le[de].g&&(te(W),n(4)),t(N)&&(N=k(W,N),W.l||P(W,N)),W.o&&T("Patches").M(le[de].u,N,W.o,W.v)):N=k(W,le,[]),te(W),W.o&&W.s(W.o,W.v),N!==oe?N:void 0}function k(N,W,le){if(C(W))return W;var re=W[de];if(!re)return i(W,function(we,Ee){return D(N,re,W,we,Ee,le)},!0),W;if(re.A!==N)return W;if(!re.g)return P(N,re.u,!0),re.u;if(!re.R){re.R=!0,re.A.m--;var Se=re.t===4||re.t===5?re.i=S(re.k):re.i,ke=Se,Me=!1;re.t===3&&(ke=new Set(Se),Se.clear(),Me=!0),i(ke,function(we,Ee){return D(N,re,Se,we,Ee,le,Me)}),P(N,Se,!1),le&&N.o&&T("Patches").F(re,le,N.o,N.v)}return re.i}function D(N,W,le,re,Se,ke,Me){if(e(Se)){var we=k(N,Se,ke&&W&&W.t!==3&&!a(W.N,re)?ke.concat(re):void 0);if(d(le,re,we),!e(we))return;N._=!1}else Me&&le.add(Se);if(t(Se)&&!C(Se)){if(!N.h.D&&N.m<1)return;k(N,Se),W&&W.A.l||P(N,Se)}}function P(N,W,le){le===void 0&&(le=!1),!N.l&&N.h.D&&N._&&x(W,le)}function j(N,W){var le=N[de];return(le?w(le):N)[W]}function O(N,W){if(W in N)for(var le=Object.getPrototypeOf(N);le;){var re=Object.getOwnPropertyDescriptor(le,W);if(re)return re;le=Object.getPrototypeOf(le)}}function Te(N){N.g||(N.g=!0,N.l&&Te(N.l))}function me(N){N.i||(N.i=S(N.u))}function ge(N,W,le){var re=m(W)?T("MapSet").K(W,le):_(W)?T("MapSet").$(W,le):N.S?function(Se,ke){var Me=Array.isArray(Se),we={t:Me?1:0,A:ke?ke.A:F(),g:!1,R:!1,N:{},l:ke,u:Se,k:null,i:null,j:null,C:!1},Ee=we,ue=ft;Me&&(Ee=[we],ue=nt);var ce=Proxy.revocable(Ee,ue),be=ce.revoke,ne=ce.proxy;return we.k=ne,we.j=be,ne}(W,le):T("ES5").I(W,le);return(le?le.A:F()).p.push(re),re}function _e(N){return e(N)||n(22,N),function W(le){if(!t(le))return le;var re,Se=le[de],ke=o(le);if(Se){if(!Se.g&&(Se.t<4||!T("ES5").J(Se)))return Se.u;Se.R=!0,re=Q(le,ke),Se.R=!1}else re=Q(le,ke);return i(re,function(Me,we){Se&&c(Se.u,Me)===we||d(re,Me,W(we))}),ke===3?new Set(re):re}(N)}function Q(N,W){switch(W){case 2:return new Map(N);case 3:return Array.from(N)}return S(N)}function pe(){function N(ke,Me){var we=Se[ke];return we?we.enumerable=Me:Se[ke]=we={configurable:!0,enumerable:Me,get:function(){return ft.get(this[de],ke)},set:function(Ee){ft.set(this[de],ke,Ee)}},we}function W(ke){for(var Me=ke.length-1;Me>=0;Me--){var we=ke[Me][de];if(!we.g)switch(we.t){case 5:re(we)&&Te(we);break;case 4:le(we)&&Te(we)}}}function le(ke){for(var Me=ke.u,we=ke.k,Ee=it(we),ue=Ee.length-1;ue>=0;ue--){var ce=Ee[ue];if(ce!==de){var be=Me[ce];if(be===void 0&&!a(Me,ce))return!0;var ne=we[ce],he=ne&&ne[de];if(he?he.u!==be:!p(ne,be))return!0}}var ve=!!Me[de];return Ee.length!==it(Me).length+(ve?0:1)}function re(ke){var Me=ke.k;if(Me.length!==ke.u.length)return!0;var we=Object.getOwnPropertyDescriptor(Me,Me.length-1);if(we&&!we.get)return!0;for(var Ee=0;Ee<Me.length;Ee++)if(!Me.hasOwnProperty(Ee))return!0;return!1}var Se={};V("ES5",{I:function(ke,Me){var we=Array.isArray(ke),Ee=function(ce,be){if(ce){for(var ne=Array(be.length),he=0;he<be.length;he++)Object.defineProperty(ne,""+he,N(he,!0));return ne}var ve=Et(be);delete ve[de];for(var De=it(ve),Ge=0;Ge<De.length;Ge++){var Xe=De[Ge];ve[Xe]=N(Xe,ce||!!ve[Xe].enumerable)}return Object.create(Object.getPrototypeOf(be),ve)}(we,ke),ue={t:we?5:4,A:Me?Me.A:F(),g:!1,R:!1,N:{},l:Me,u:ke,k:Ee,i:null,O:!1,C:!1};return Object.defineProperty(Ee,de,{value:ue,writable:!0}),Ee},P:function(ke,Me,we){we?e(Me)&&Me[de].A===ke&&W(ke.p):(ke.o&&function Ee(ue){if(ue&&typeof ue=="object"){var ce=ue[de];if(ce){var be=ce.u,ne=ce.k,he=ce.N,ve=ce.t;if(ve===4)i(ne,function(_t){_t!==de&&(be[_t]!==void 0||a(be,_t)?he[_t]||Ee(ne[_t]):(he[_t]=!0,Te(ce)))}),i(be,function(_t){ne[_t]!==void 0||a(ne,_t)||(he[_t]=!1,Te(ce))});else if(ve===5){if(re(ce)&&(Te(ce),he.length=!0),ne.length<be.length)for(var De=ne.length;De<be.length;De++)he[De]=!1;else for(var Ge=be.length;Ge<ne.length;Ge++)he[Ge]=!0;for(var Xe=Math.min(ne.length,be.length),mt=0;mt<Xe;mt++)ne.hasOwnProperty(mt)||(he[mt]=!0),he[mt]===void 0&&Ee(ne[mt])}}}}(ke.p[0]),W(ke.p))},J:function(ke){return ke.t===4?le(ke):re(ke)}})}function b(){function N(re){if(!t(re))return re;if(Array.isArray(re))return re.map(N);if(m(re))return new Map(Array.from(re.entries()).map(function(Me){return[Me[0],N(Me[1])]}));if(_(re))return new Set(Array.from(re).map(N));var Se=Object.create(Object.getPrototypeOf(re));for(var ke in re)Se[ke]=N(re[ke]);return a(re,Ue)&&(Se[Ue]=re[Ue]),Se}function W(re){return e(re)?N(re):re}var le="add";V("Patches",{W:function(re,Se){return Se.forEach(function(ke){for(var Me=ke.path,we=ke.op,Ee=re,ue=0;ue<Me.length-1;ue++){var ce=o(Ee),be=Me[ue];typeof be!="string"&&typeof be!="number"&&(be=""+be),ce!==0&&ce!==1||be!=="__proto__"&&be!=="constructor"||n(24),typeof Ee=="function"&&be==="prototype"&&n(24),typeof(Ee=c(Ee,be))!="object"&&n(15,Me.join("/"))}var ne=o(Ee),he=N(ke.value),ve=Me[Me.length-1];switch(we){case"replace":switch(ne){case 2:return Ee.set(ve,he);case 3:n(16);default:return Ee[ve]=he}case le:switch(ne){case 1:return ve==="-"?Ee.push(he):Ee.splice(ve,0,he);case 2:return Ee.set(ve,he);case 3:return Ee.add(he);default:return Ee[ve]=he}case"remove":switch(ne){case 1:return Ee.splice(ve,1);case 2:return Ee.delete(ve);case 3:return Ee.delete(ke.value);default:return delete Ee[ve]}default:n(17,we)}}),re},F:function(re,Se,ke,Me){switch(re.t){case 0:case 4:case 2:return function(we,Ee,ue,ce){var be=we.u,ne=we.i;i(we.N,function(he,ve){var De=c(be,he),Ge=c(ne,he),Xe=ve?a(be,he)?"replace":le:"remove";if(De!==Ge||Xe!=="replace"){var mt=Ee.concat(he);ue.push(Xe==="remove"?{op:Xe,path:mt}:{op:Xe,path:mt,value:Ge}),ce.push(Xe===le?{op:"remove",path:mt}:Xe==="remove"?{op:le,path:mt,value:W(De)}:{op:"replace",path:mt,value:W(De)})}})}(re,Se,ke,Me);case 5:case 1:return function(we,Ee,ue,ce){var be=we.u,ne=we.N,he=we.i;if(he.length<be.length){var ve=[he,be];be=ve[0],he=ve[1];var De=[ce,ue];ue=De[0],ce=De[1]}for(var Ge=0;Ge<be.length;Ge++)if(ne[Ge]&&he[Ge]!==be[Ge]){var Xe=Ee.concat([Ge]);ue.push({op:"replace",path:Xe,value:W(he[Ge])}),ce.push({op:"replace",path:Xe,value:W(be[Ge])})}for(var mt=be.length;mt<he.length;mt++){var _t=Ee.concat([mt]);ue.push({op:le,path:_t,value:W(he[mt])})}be.length<he.length&&ce.push({op:"replace",path:Ee.concat(["length"]),value:be.length})}(re,Se,ke,Me);case 3:return function(we,Ee,ue,ce){var be=we.u,ne=we.i,he=0;be.forEach(function(ve){if(!ne.has(ve)){var De=Ee.concat([he]);ue.push({op:"remove",path:De,value:ve}),ce.unshift({op:le,path:De,value:ve})}he++}),he=0,ne.forEach(function(ve){if(!be.has(ve)){var De=Ee.concat([he]);ue.push({op:le,path:De,value:ve}),ce.unshift({op:"remove",path:De,value:ve})}he++})}(re,Se,ke,Me)}},M:function(re,Se,ke,Me){ke.push({op:"replace",path:[],value:Se===oe?void 0:Se}),Me.push({op:"replace",path:[],value:re})}})}function H(){function N(we,Ee){function ue(){this.constructor=we}Se(we,Ee),we.prototype=(ue.prototype=Ee.prototype,new ue)}function W(we){we.i||(we.N=new Map,we.i=new Map(we.u))}function le(we){we.i||(we.i=new Set,we.u.forEach(function(Ee){if(t(Ee)){var ue=ge(we.A.h,Ee,we);we.p.set(Ee,ue),we.i.add(ue)}else we.i.add(Ee)}))}function re(we){we.O&&n(3,JSON.stringify(w(we)))}var Se=function(we,Ee){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,ce){ue.__proto__=ce}||function(ue,ce){for(var be in ce)ce.hasOwnProperty(be)&&(ue[be]=ce[be])})(we,Ee)},ke=function(){function we(ue,ce){return this[de]={t:2,l:ce,A:ce?ce.A:F(),g:!1,R:!1,i:void 0,N:void 0,u:ue,k:this,C:!1,O:!1},this}N(we,Map);var Ee=we.prototype;return Object.defineProperty(Ee,"size",{get:function(){return w(this[de]).size}}),Ee.has=function(ue){return w(this[de]).has(ue)},Ee.set=function(ue,ce){var be=this[de];return re(be),w(be).has(ue)&&w(be).get(ue)===ce||(W(be),Te(be),be.N.set(ue,!0),be.i.set(ue,ce),be.N.set(ue,!0)),this},Ee.delete=function(ue){if(!this.has(ue))return!1;var ce=this[de];return re(ce),W(ce),Te(ce),ce.u.has(ue)?ce.N.set(ue,!1):ce.N.delete(ue),ce.i.delete(ue),!0},Ee.clear=function(){var ue=this[de];re(ue),w(ue).size&&(W(ue),Te(ue),ue.N=new Map,i(ue.u,function(ce){ue.N.set(ce,!1)}),ue.i.clear())},Ee.forEach=function(ue,ce){var be=this;w(this[de]).forEach(function(ne,he){ue.call(ce,be.get(he),he,be)})},Ee.get=function(ue){var ce=this[de];re(ce);var be=w(ce).get(ue);if(ce.R||!t(be)||be!==ce.u.get(ue))return be;var ne=ge(ce.A.h,be,ce);return W(ce),ce.i.set(ue,ne),ne},Ee.keys=function(){return w(this[de]).keys()},Ee.values=function(){var ue,ce=this,be=this.keys();return(ue={})[We]=function(){return ce.values()},ue.next=function(){var ne=be.next();return ne.done?ne:{done:!1,value:ce.get(ne.value)}},ue},Ee.entries=function(){var ue,ce=this,be=this.keys();return(ue={})[We]=function(){return ce.entries()},ue.next=function(){var ne=be.next();if(ne.done)return ne;var he=ce.get(ne.value);return{done:!1,value:[ne.value,he]}},ue},Ee[We]=function(){return this.entries()},we}(),Me=function(){function we(ue,ce){return this[de]={t:3,l:ce,A:ce?ce.A:F(),g:!1,R:!1,i:void 0,u:ue,k:this,p:new Map,O:!1,C:!1},this}N(we,Set);var Ee=we.prototype;return Object.defineProperty(Ee,"size",{get:function(){return w(this[de]).size}}),Ee.has=function(ue){var ce=this[de];return re(ce),ce.i?!!ce.i.has(ue)||!(!ce.p.has(ue)||!ce.i.has(ce.p.get(ue))):ce.u.has(ue)},Ee.add=function(ue){var ce=this[de];return re(ce),this.has(ue)||(le(ce),Te(ce),ce.i.add(ue)),this},Ee.delete=function(ue){if(!this.has(ue))return!1;var ce=this[de];return re(ce),le(ce),Te(ce),ce.i.delete(ue)||!!ce.p.has(ue)&&ce.i.delete(ce.p.get(ue))},Ee.clear=function(){var ue=this[de];re(ue),w(ue).size&&(le(ue),Te(ue),ue.i.clear())},Ee.values=function(){var ue=this[de];return re(ue),le(ue),ue.i.values()},Ee.entries=function(){var ue=this[de];return re(ue),le(ue),ue.i.entries()},Ee.keys=function(){return this.values()},Ee[We]=function(){return this.values()},Ee.forEach=function(ue,ce){for(var be=this.values(),ne=be.next();!ne.done;)ue.call(ce,ne.value,ne.value,this),ne=be.next()},we}();V("MapSet",{K:function(we,Ee){return new ke(we,Ee)},$:function(we,Ee){return new Me(we,Ee)}})}var G;Object.defineProperty(Dt,"__esModule",{value:!0});var K,ie=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ce=typeof Map<"u",q=typeof Set<"u",Oe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",oe=ie?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),Ue=ie?Symbol.for("immer-draftable"):"__$immer_draftable",de=ie?Symbol.for("immer-state"):"__$immer_state",We=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",Le=""+Object.prototype.constructor,it=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:Object.getOwnPropertyNames,Et=Object.getOwnPropertyDescriptors||function(N){var W={};return it(N).forEach(function(le){W[le]=Object.getOwnPropertyDescriptor(N,le)}),W},Je={},ft={get:function(N,W){if(W===de)return N;var le=w(N);if(!a(le,W))return function(Se,ke,Me){var we,Ee=O(ke,Me);return Ee?"value"in Ee?Ee.value:(we=Ee.get)===null||we===void 0?void 0:we.call(Se.k):void 0}(N,le,W);var re=le[W];return N.R||!t(re)?re:re===j(N.u,W)?(me(N),N.i[W]=ge(N.A.h,re,N)):re},has:function(N,W){return W in w(N)},ownKeys:function(N){return Reflect.ownKeys(w(N))},set:function(N,W,le){var re=O(w(N),W);if(re!=null&&re.set)return re.set.call(N.k,le),!0;if(!N.g){var Se=j(w(N),W),ke=Se==null?void 0:Se[de];if(ke&&ke.u===le)return N.i[W]=le,N.N[W]=!1,!0;if(p(le,Se)&&(le!==void 0||a(N.u,W)))return!0;me(N),Te(N)}return N.i[W]===le&&(le!==void 0||W in N.i)||Number.isNaN(le)&&Number.isNaN(N.i[W])||(N.i[W]=le,N.N[W]=!0),!0},deleteProperty:function(N,W){return j(N.u,W)!==void 0||W in N.u?(N.N[W]=!1,me(N),Te(N)):delete N.N[W],N.i&&delete N.i[W],!0},getOwnPropertyDescriptor:function(N,W){var le=w(N),re=Reflect.getOwnPropertyDescriptor(le,W);return re&&{writable:!0,configurable:N.t!==1||W!=="length",enumerable:re.enumerable,value:le[W]}},defineProperty:function(){n(11)},getPrototypeOf:function(N){return Object.getPrototypeOf(N.u)},setPrototypeOf:function(){n(12)}},nt={};i(ft,function(N,W){nt[N]=function(){return arguments[0]=arguments[0][0],W.apply(this,arguments)}}),nt.deleteProperty=function(N,W){return nt.set.call(this,N,W,void 0)},nt.set=function(N,W,le){return ft.set.call(this,N[0],W,le,N[0])};var Pt=function(){function N(le){var re=this;this.S=Oe,this.D=!0,this.produce=function(Se,ke,Me){if(typeof Se=="function"&&typeof ke!="function"){var we=ke;ke=Se;var Ee=re;return function(De){var Ge=this;De===void 0&&(De=we);for(var Xe=arguments.length,mt=Array(Xe>1?Xe-1:0),_t=1;_t<Xe;_t++)mt[_t-1]=arguments[_t];return Ee.produce(De,function(Bn){var Gt;return(Gt=ke).call.apply(Gt,[Ge,Bn].concat(mt))})}}var ue;if(typeof ke!="function"&&n(6),Me!==void 0&&typeof Me!="function"&&n(7),t(Se)){var ce=fe(re),be=ge(re,Se,void 0),ne=!0;try{ue=ke(be),ne=!1}finally{ne?te(ce):$(ce)}return typeof Promise<"u"&&ue instanceof Promise?ue.then(function(De){return U(ce,Me),R(De,ce)},function(De){throw te(ce),De}):(U(ce,Me),R(ue,ce))}if(!Se||typeof Se!="object"){if((ue=ke(Se))===void 0&&(ue=Se),ue===oe&&(ue=void 0),re.D&&x(ue,!0),Me){var he=[],ve=[];T("Patches").M(Se,ue,he,ve),Me(he,ve)}return ue}n(21,Se)},this.produceWithPatches=function(Se,ke){if(typeof Se=="function")return function(ue){for(var ce=arguments.length,be=Array(ce>1?ce-1:0),ne=1;ne<ce;ne++)be[ne-1]=arguments[ne];return re.produceWithPatches(ue,function(he){return Se.apply(void 0,[he].concat(be))})};var Me,we,Ee=re.produce(Se,ke,function(ue,ce){Me=ue,we=ce});return typeof Promise<"u"&&Ee instanceof Promise?Ee.then(function(ue){return[ue,Me,we]}):[Ee,Me,we]},typeof(le==null?void 0:le.useProxies)=="boolean"&&this.setUseProxies(le.useProxies),typeof(le==null?void 0:le.autoFreeze)=="boolean"&&this.setAutoFreeze(le.autoFreeze)}var W=N.prototype;return W.createDraft=function(le){t(le)||n(8),e(le)&&(le=_e(le));var re=fe(this),Se=ge(this,le,void 0);return Se[de].C=!0,$(re),Se},W.finishDraft=function(le,re){var Se=(le&&le[de]).A;return U(Se,re),R(void 0,Se)},W.setAutoFreeze=function(le){this.D=le},W.setUseProxies=function(le){le&&!Oe&&n(20),this.S=le},W.applyPatches=function(le,re){var Se;for(Se=re.length-1;Se>=0;Se--){var ke=re[Se];if(ke.path.length===0&&ke.op==="replace"){le=ke.value;break}}Se>-1&&(re=re.slice(Se+1));var Me=T("Patches").W;return e(le)?Me(le,re):this.produce(le,function(we){return Me(we,re)})},N}(),Tt=new Pt,ot=Tt.produce,Ft=Tt.produceWithPatches.bind(Tt),yn=Tt.setAutoFreeze.bind(Tt),jt=Tt.setUseProxies.bind(Tt),qe=Tt.applyPatches.bind(Tt),lt=Tt.createDraft.bind(Tt),pt=Tt.finishDraft.bind(Tt);return Dt.Immer=Pt,Dt.applyPatches=qe,Dt.castDraft=function(N){return N},Dt.castImmutable=function(N){return N},Dt.createDraft=lt,Dt.current=_e,Dt.default=ot,Dt.enableAllPlugins=function(){pe(),H(),b()},Dt.enableES5=pe,Dt.enableMapSet=H,Dt.enablePatches=b,Dt.finishDraft=pt,Dt.freeze=x,Dt.immerable=Ue,Dt.isDraft=e,Dt.isDraftable=t,Dt.nothing=oe,Dt.original=function(N){return e(N)||n(23,N),N[de].u},Dt.produce=ot,Dt.produceWithPatches=Ft,Dt.setAutoFreeze=yn,Dt.setUseProxies=jt,Dt}var q_;function _O(){return q_||(q_=1,Uf.exports=vO()),Uf.exports}var wl={},G_;function wO(){return G_||(G_=1,function(n){var e=wl&&wl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.cluesInputShapeOriginal=n.clueShapeOriginal=void 0;const t=e(lo()),i={clue:t.default.string.isRequired,answer:t.default.string.isRequired,row:t.default.number.isRequired,col:t.default.number.isRequired};n.clueShapeOriginal=t.default.shape(i),n.cluesInputShapeOriginal=t.default.shape({across:t.default.objectOf(n.clueShapeOriginal.isRequired).isRequired,down:t.default.objectOf(n.clueShapeOriginal.isRequired).isRequired})}(wl)),wl}var zf={},K_;function EO(){return K_||(K_=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findCorrectAnswers=n.deserializeGuesses=n.loadGuesses=n.serializeGuesses=n.saveGuesses=n.clearGuesses=n.byNumber=n.createGridData=n.fillClues=n.createEmptyGrid=n.calculateExtents=n.otherDirection=n.isAcross=n.bothDirections=void 0;const e={across:{primary:"col",orthogonal:"row"},down:{primary:"row",orthogonal:"col"}};n.bothDirections=Object.keys(e);function t(C){return C==="across"}n.isAcross=t;function i(C){return t(C)?"down":"across"}n.otherDirection=i;function o(C,T){const V=e[T];let F=0,U=0;Object.entries(C[T]).forEach(([,$])=>{const fe=$[V.primary]+$.answer.length-1;fe>F&&(F=fe);const M=$[V.orthogonal];M>U&&(U=M)});const te={row:0,col:0};return te[V.primary]=F,te[V.orthogonal]=U,te}n.calculateExtents=o;function a(C,T){const V=Array(C);for(let F=0;F<C;F++){V[F]=Array(T);for(let U=0;U<T;U++)V[F][U]={row:F,col:U,used:!1}}return V}n.createEmptyGrid=a;function c(C,T,V,F){const U=e[F];Object.entries(V[F]).forEach(([te,$])=>{const{row:fe,col:M,clue:R,answer:k}=$;for(let D=0;D<k.length;D++){const P=fe+(U.primary==="row"?D:0),j=M+(U.primary==="col"?D:0),O=C[P][j];O.used=!0,O.answer=k[D],O[F]=te,D===0&&(O.number=te)}T[F].push({number:te,clue:R,answer:k,col:M,row:fe})}),T[F].sort(p)}n.fillClues=c;function d(C,T){const V=o(C,"across"),F=o(C,"down");let U=Math.max(V.row,F.row)+1,te=Math.max(V.col,F.col)+1;if(!T){const M=Math.max(U,te);U=M,te=M}const $=a(U,te),fe={across:[],down:[]};return c($,fe,C,"across"),c($,fe,C,"down"),{rows:U,cols:te,gridData:$,clues:fe}}n.createGridData=d;function p(C,T){const V=Number.parseInt(C.number,10),F=Number.parseInt(T.number,10);return V-F}n.byNumber=p;function m(C){window.localStorage&&window.localStorage.removeItem(C)}n.clearGuesses=m;function _(C,T){const{localStorage:V}=window;if(!V)return;const F=w(C),U={date:Date.now(),guesses:F};V.setItem(T,JSON.stringify(U))}n.saveGuesses=_;function w(C){return C.reduce((V,F,U)=>F.reduce((te,$,fe)=>{var M;const{guess:R}=$;return R!==""&&(te[`${U}_${fe}`]=(M=$.guess)!==null&&M!==void 0?M:""),te},V),{})}n.serializeGuesses=w;function S(C,T){const{localStorage:V}=window;if(!V)return;const F=V.getItem(T);if(!F)return;const U=JSON.parse(F);x(C,U.guesses)}n.loadGuesses=S;function x(C,T){Object.entries(T).forEach(([V,F])=>{const[U,te]=V.split("_"),$=parseInt(U,10),fe=parseInt(te,10);$<=C.length-1&&fe<=C[0].length-1&&(C[$][fe].guess=F)})}n.deserializeGuesses=x;function A(C,T){const V=[];return n.bothDirections.forEach(F=>{const U=t(F);Object.entries(C[F]).forEach(([te,$])=>{const{row:fe,col:M}=$;let R=!0;for(let k=0;k<$.answer.length;k++){const D=U?fe:fe+k,P=U?M+k:M;if(T[D][P].guess!==$.answer[k]){R=!1;break}}R&&V.push([F,te,$.answer])})}),V}n.findCorrectAnswers=A}(zf)),zf}var Q_;function vT(){return Q_||(Q_=1,function(n){var e=kr&&kr.__createBinding||(Object.create?function(T,V,F,U){U===void 0&&(U=F);var te=Object.getOwnPropertyDescriptor(V,F);(!te||("get"in te?!V.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return V[F]}}),Object.defineProperty(T,U,te)}:function(T,V,F,U){U===void 0&&(U=F),T[U]=V[F]}),t=kr&&kr.__setModuleDefault||(Object.create?function(T,V){Object.defineProperty(T,"default",{enumerable:!0,value:V})}:function(T,V){T.default=V}),i=kr&&kr.__importStar||function(T){if(T&&T.__esModule)return T;var V={};if(T!=null)for(var F in T)F!=="default"&&Object.prototype.hasOwnProperty.call(T,F)&&e(V,T,F);return t(V,T),V},o=kr&&kr.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(n,"__esModule",{value:!0}),n.crosswordProviderPropTypes=void 0;const a=io(),c=i(Mr()),d=o(lo()),p=o(_O()),m=Da,_=Na(),w=wO(),S=EO(),x="guesses";n.crosswordProviderPropTypes={data:w.cluesInputShapeOriginal.isRequired,theme:d.default.shape({allowNonSquare:d.default.bool,columnBreakpoint:d.default.string,gridBackground:d.default.string,cellBackground:d.default.string,cellBorder:d.default.string,textColor:d.default.string,numberColor:d.default.string,focusBackground:d.default.string,highlightBackground:d.default.string}),useStorage:d.default.bool,storageKey:d.default.string,onAnswerComplete:d.default.func,onAnswerCorrect:d.default.func,onCorrect:d.default.func,onAnswerIncorrect:d.default.func,onLoadedCorrect:d.default.func,onCrosswordComplete:d.default.func,onCrosswordCorrect:d.default.func,onCellChange:d.default.func,onClueSelected:d.default.func,children:d.default.node};const A={allowNonSquare:!1,columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},C=c.default.forwardRef(({data:T,theme:V,onAnswerComplete:F,onAnswerCorrect:U,onCorrect:te,onAnswerIncorrect:$,onLoadedCorrect:fe,onCrosswordComplete:M,onCrosswordCorrect:R,onCellChange:k,onClueSelected:D,useStorage:P,storageKey:j,children:O},Te)=>{const me=(0,c.useContext)(m.ThemeContext),ge=(0,c.useMemo)(()=>Object.assign(Object.assign(Object.assign({},A),me),V),[me,V]),{rows:_e,cols:Q,gridData:pe,clues:b}=(0,c.useMemo)(()=>{var ne;return(0,S.createGridData)(T,(ne=ge.allowNonSquare)!==null&&ne!==void 0?ne:!1)},[T,ge.allowNonSquare]),[H,G]=(0,c.useState)([]),[K,ie]=(0,c.useState)(),Ce=(0,c.useRef)(null),[q,Oe]=(0,c.useState)(!1),[oe,Ue]=(0,c.useState)(0),[de,We]=(0,c.useState)(0),[Le,it]=(0,c.useState)("across"),[Et,Je]=(0,c.useState)("1"),[ft,nt]=(0,c.useState)(null),[Pt,Tt]=(0,c.useState)([]),ot=(0,c.useCallback)((ne,he)=>ne>=0&&ne<_e&&he>=0&&he<Q?H[ne][he]:{row:ne,col:he,used:!1,outOfBounds:!0},[Q,H,_e]),Ft=(0,c.useCallback)((ne,he,ve)=>{const De=ot(ne,he);if(!De.used)throw new Error("unexpected setCellCharacter call");De.guess!==ve&&(G((0,p.default)(Ge=>{Ge[ne][he].guess=ve})),Tt((0,p.default)(Ge=>{Ge.push({row:ne,col:he})})),k&&k(ne,he,ve))},[ot,k]),yn=(0,c.useCallback)((ne,he,ve,De)=>{F&&F(ne,he,ve,De),ve?(U&&U(ne,he,De),te&&te(ne,he,De)):$&&$(ne,he,De)},[F,U,$,te]),jt=(0,c.useCallback)((ne,he)=>{const ve=ot(ne,he);if(!ve.used)throw new Error("unexpected unused cell");S.bothDirections.forEach(De=>{const Ge=(0,S.isAcross)(De),Xe=ve[De];if(!Xe)return;const mt=T[De][Xe];let _t=!0,Bn=!0;for(let Gt=0;Gt<mt.answer.length;Gt++){const Wn=ot(mt.row+(Ge?0:Gt),mt.col+(Ge?Gt:0));if(!Wn.guess){_t=!1,Bn=!1;break}Wn.guess!==Wn.answer&&(Bn=!1)}ie((0,p.default)(Gt=>{if(Gt){const Wn=Gt[De].find(Ut=>Ut.number===Xe);Wn&&(Wn.complete=_t,Wn.correct=Bn)}})),_t&&yn(De,Xe,Bn,mt.answer)})},[T,ot,yn]);(0,c.useEffect)(()=>{Pt.length!==0&&(Pt.forEach(({row:ne,col:he})=>jt(ne,he)),Tt([]))},[Pt,jt]);const{crosswordComplete:qe,crosswordCorrect:lt}=(0,c.useMemo)(()=>{const ne=!!(K&&S.bothDirections.every(ve=>K[ve].every(De=>De.complete))),he=ne&&!!(K&&S.bothDirections.every(ve=>K[ve].every(De=>De.correct)));return{crosswordComplete:ne,crosswordCorrect:he}},[K]);(0,c.useEffect)(()=>{qe&&(M&&M(lt),R&&R(lt))},[qe,lt,M,R]);const pt=(0,c.useCallback)(()=>{Ce.current?(Ce.current(),Oe(!0)):console.warn("CrosswordProvider: focus() has no registered handler to call!")},[]),N=(0,c.useCallback)((ne,he,ve)=>{var De;let Ge=ve??Le;const Xe=ot(ne,he);return Xe.used?(Xe[Ge]||(Ge=(0,S.otherDirection)(Ge)),Ue(ne),We(he),it(Ge),Je((De=Xe[Ge])!==null&&De!==void 0?De:""),Xe):!1},[Le,ot]),W=(0,c.useCallback)((ne,he)=>{let ve;return ne!==0&&he===0?ve="down":ne===0&&he!==0&&(ve="across"),N(oe+ne,de+he,ve)},[oe,de,N]),le=(0,c.useCallback)(()=>{const ne=(0,S.isAcross)(Le);W(ne?0:1,ne?1:0)},[Le,W]),re=(0,c.useCallback)(()=>{const ne=(0,S.isAcross)(Le);W(ne?0:-1,ne?-1:0)},[Le,W]),Se=(0,c.useCallback)(ne=>{Ft(oe,de,ne.toUpperCase()),le()},[oe,de,Ft,le]),ke=(0,c.useCallback)(ne=>{var he;if(ne.ctrlKey||ne.altKey||ne.metaKey)return;let ve=!0;const{key:De}=ne;switch(De){case"ArrowUp":W(-1,0);break;case"ArrowDown":W(1,0);break;case"ArrowLeft":W(0,-1);break;case"ArrowRight":W(0,1);break;case" ":case"Tab":{const Ge=(0,S.otherDirection)(Le),Xe=ot(oe,de);Xe[Ge]&&(it(Ge),Je((he=Xe[Ge])!==null&&he!==void 0?he:""));break}case"Backspace":case"Delete":{Ft(oe,de,""),De==="Backspace"&&re();break}case"Home":case"End":{const Ge=T[Le][Et],{answer:{length:Xe}}=Ge;let{row:mt,col:_t}=Ge;De==="End"&&((0,S.isAcross)(Le)?_t+=Xe-1:mt+=Xe-1),N(mt,_t);break}default:if(De.length!==1){ve=!1;break}Se(De);break}ve&&ne.preventDefault()},[W,Se,Le,ot,oe,de,Ft,re,T,Et,N]),Me=(0,c.useCallback)(ne=>{ne.preventDefault(),nt(ne.target.value)},[]);(0,c.useEffect)(()=>{ft&&(Se(ft[0]),nt(ft.length===1?null:ft.substring(1)))},[ft,Se]),(0,c.useEffect)(()=>{const ne=pe.map(ve=>ve.map(De=>Object.assign({},De))),he={across:b.across.map(ve=>Object.assign({},ve)),down:b.down.map(ve=>Object.assign({},ve))};P&&(0,S.loadGuesses)(ne,j||x),ie(he),G(ne),P&&Tt(S.bothDirections.flatMap(ve=>he[ve].map(({row:De,col:Ge})=>({row:De,col:Ge})))),Ue(0),We(0),it("across"),Je("1")},[b,pe,j,P]),(0,c.useEffect)(()=>{H===null||!P||(0,S.saveGuesses)(H,j||x)},[H,j,P]);const we=(0,c.useCallback)(ne=>{var he;if(ne.used){const{row:ve,col:De}=ne,Ge=(0,S.otherDirection)(Le);Ue(ve),We(De);let Xe=Le;(!ne[Le]||q&&ve===oe&&De===de&&ne[Ge])&&(it(Ge),Xe=Ge),Je((he=ne[Xe])!==null&&he!==void 0?he:"")}pt()},[Le,pt,q,de,oe]),Ee=(0,c.useCallback)(()=>{var ne;const he=(0,S.otherDirection)(Le),ve=ot(oe,de);let De=Le;q&&ve[he]&&(it(he),De=he),Je((ne=ve[De])!==null&&ne!==void 0?ne:""),pt()},[Le,pt,q,de,oe,ot]),ue=(0,c.useCallback)((ne,he)=>{const ve=K==null?void 0:K[ne].find(De=>De.number===he);ve&&(N(ve.row,ve.col,ne),pt(),D&&D(ne,he))},[K,pt,N,D]),ce=(0,c.useCallback)(ne=>{Ce.current=ne},[]);(0,c.useImperativeHandle)(Te,()=>({focus:pt,reset:()=>{G((0,p.default)(ne=>{ne.forEach(he=>{he.forEach(ve=>{ve.used&&(ve.guess="")})})})),ie((0,p.default)(ne=>{S.bothDirections.forEach(he=>{var ve;(ve=ne==null?void 0:ne[he])===null||ve===void 0||ve.forEach(De=>{delete De.complete,delete De.correct})})})),P&&(0,S.clearGuesses)(j||x)},fillAllAnswers:()=>{if(G((0,p.default)(ne=>{ne.forEach(he=>{he.forEach(ve=>{ve.used&&(ve.guess=ve.answer)})})})),ie((0,p.default)(ne=>{S.bothDirections.forEach(he=>{ne==null||ne[he].forEach(ve=>{ve.complete=!0,ve.correct=!0})})})),fe){const ne=[];S.bothDirections.forEach(he=>{K==null||K[he].forEach(({number:ve,answer:De})=>{ne.push([he,ve,De])})}),fe(ne)}},isCrosswordCorrect:()=>lt,setGuess:(ne,he,ve)=>{Ft(ne,he,ve.toUpperCase())}}),[K,lt,pt,fe,Ft,j,P]);const be=(0,c.useMemo)(()=>({rows:_e,cols:Q,gridData:H,clues:K,handleInputKeyDown:ke,handleInputChange:Me,handleCellClick:we,handleInputClick:Ee,handleClueSelected:ue,registerFocusHandler:ce,focused:q,selectedPosition:{row:oe,col:de},selectedDirection:Le,selectedNumber:Et,crosswordCorrect:lt}),[_e,Q,H,K,ke,Me,we,Ee,ue,ce,q,oe,de,Le,Et,lt]);return(0,a.jsx)(m.ThemeProvider,Object.assign({theme:ge},{children:(0,a.jsx)(_.CrosswordContext.Provider,Object.assign({value:be},{children:O}))}))});n.default=C,C.displayName="CrosswordProvider",C.propTypes=n.crosswordProviderPropTypes,C.defaultProps={theme:void 0,useStorage:!0,storageKey:void 0,onAnswerComplete:void 0,onAnswerCorrect:void 0,onCorrect:void 0,onAnswerIncorrect:void 0,onLoadedCorrect:void 0,onCrosswordComplete:void 0,onCrosswordCorrect:void 0,onCellChange:void 0,onClueSelected:void 0,children:void 0}}(kr)),kr}var ur={},Y_;function _T(){if(Y_)return ur;Y_=1;var n=ur&&ur.__createBinding||(Object.create?function(A,C,T,V){V===void 0&&(V=T);var F=Object.getOwnPropertyDescriptor(C,T);(!F||("get"in F?!C.__esModule:F.writable||F.configurable))&&(F={enumerable:!0,get:function(){return C[T]}}),Object.defineProperty(A,V,F)}:function(A,C,T,V){V===void 0&&(V=T),A[V]=C[T]}),e=ur&&ur.__setModuleDefault||(Object.create?function(A,C){Object.defineProperty(A,"default",{enumerable:!0,value:C})}:function(A,C){A.default=C}),t=ur&&ur.__importStar||function(A){if(A&&A.__esModule)return A;var C={};if(A!=null)for(var T in A)T!=="default"&&Object.prototype.hasOwnProperty.call(A,T)&&n(C,A,T);return e(C,A),C},i=ur&&ur.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(ur,"__esModule",{value:!0});const o=io(),a=Mr(),c=i(lo()),d=t(Da),p=i(mT()),m=Na(),_={columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},w=d.default.div.attrs(()=>({className:"crossword grid"}))`
  /* position: relative; */
  /* min-width: 20rem; */
  /* max-width: 60rem; Should the size matter? */
  width: auto;
  flex: 2 1 50%;
`,S={theme:c.default.shape({columnBreakpoint:c.default.string,gridBackground:c.default.string,cellBackground:c.default.string,cellBorder:c.default.string,textColor:c.default.string,numberColor:c.default.string,focusBackground:c.default.string,highlightBackground:c.default.string})};function x({theme:A}){const{rows:C,cols:T,gridData:V,handleInputKeyDown:F,handleInputChange:U,handleCellClick:te,handleInputClick:$,registerFocusHandler:fe,focused:M,selectedPosition:{row:R,col:k},selectedDirection:D,selectedNumber:P}=(0,a.useContext)(m.CrosswordContext),j=(0,a.useRef)(null),O=(0,a.useContext)(d.ThemeContext),Te=(0,a.useCallback)(()=>{var Oe;(Oe=j.current)===null||Oe===void 0||Oe.focus()},[]);(0,a.useEffect)(()=>(fe(Te),()=>{fe(null)}),[Te,fe]);const me=10,ge=.125,_e=me-ge*2,Q=me/2,pe=_e*.7,b=(0,a.useMemo)(()=>({cellSize:me,cellPadding:ge,cellInner:_e,cellHalf:Q,fontSize:pe}),[me,ge,_e,Q,pe]),H=(0,a.useMemo)(()=>C*me,[C]),G=(0,a.useMemo)(()=>T*me,[T]),K=(0,a.useMemo)(()=>100/T,[T]),ie=(0,a.useMemo)(()=>100/C,[C]),Ce=(0,a.useMemo)(()=>({position:"absolute",top:`calc(${R*ie*.995}% + 2px)`,left:`calc(${k*K}% + 2px)`,width:`calc(${K}% - 4px)`,height:`calc(${ie}% - 4px)`,fontSize:`${pe*6}px`,textAlign:"center",textAnchor:"middle",backgroundColor:"transparent",caretColor:"transparent",margin:0,padding:0,border:0,cursor:"default"}),[K,ie,R,k,pe]),q=(0,a.useMemo)(()=>Object.assign(Object.assign(Object.assign({},_),O),A),[O,A]);return(0,o.jsx)(m.CrosswordSizeContext.Provider,Object.assign({value:b},{children:(0,o.jsx)(d.ThemeProvider,Object.assign({theme:q},{children:(0,o.jsx)(w,{children:(0,o.jsxs)("div",Object.assign({style:{margin:0,padding:0,position:"relative"}},{children:[(0,o.jsxs)("svg",Object.assign({viewBox:`0 0 ${G} ${H}`},{children:[(0,o.jsx)("rect",{x:0,y:0,width:G,height:H,fill:q.gridBackground}),V.flatMap((Oe,oe)=>Oe.map((Ue,de)=>Ue.used?(0,o.jsx)(p.default,{cellData:Ue,focus:M&&oe===R&&de===k,highlight:M&&!!P&&Ue[D]===P,onClick:te},`R${oe}C${de}`):void 0))]})),(0,o.jsx)("input",{ref:j,"aria-label":"crossword-input",type:"text",onClick:$,onKeyDown:F,onChange:U,value:"",autoComplete:"off",spellCheck:"false",autoCorrect:"off",style:Ce})]}))})}))}))}return ur.default=x,x.propTypes=S,x.defaultProps={theme:null},ur}var J_;function TO(){if(J_)return Un;J_=1;var n=Un&&Un.__createBinding||(Object.create?function(C,T,V,F){F===void 0&&(F=V);var U=Object.getOwnPropertyDescriptor(T,V);(!U||("get"in U?!T.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return T[V]}}),Object.defineProperty(C,F,U)}:function(C,T,V,F){F===void 0&&(F=V),C[F]=T[V]}),e=Un&&Un.__setModuleDefault||(Object.create?function(C,T){Object.defineProperty(C,"default",{enumerable:!0,value:T})}:function(C,T){C.default=T}),t=Un&&Un.__importStar||function(C){if(C&&C.__esModule)return C;var T={};if(C!=null)for(var V in C)V!=="default"&&Object.prototype.hasOwnProperty.call(C,V)&&n(T,C,V);return e(T,C),T},i=Un&&Un.__rest||function(C,T){var V={};for(var F in C)Object.prototype.hasOwnProperty.call(C,F)&&T.indexOf(F)<0&&(V[F]=C[F]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,F=Object.getOwnPropertySymbols(C);U<F.length;U++)T.indexOf(F[U])<0&&Object.prototype.propertyIsEnumerable.call(C,F[U])&&(V[F[U]]=C[F[U]]);return V},o=Un&&Un.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Un,"__esModule",{value:!0});const a=io(),c=t(Mr()),d=o(lo()),p=o(Da),m=t(vT()),_=o(_T()),w=o(yT()),S=p.default.div.attrs(()=>({className:"clues"}))`
  padding: 0 1em;
  flex: 1 2 25%;

  @media (max-width: ${C=>C.theme.columnBreakpoint}) {
    margin-top: 2em;
  }

  .direction {
    margin-bottom: 2em;
    /* padding: 0 1em;
    flex: 1 1 20%; */

    .header {
      margin-top: 0;
      margin-bottom: 0.5em;
    }

    div {
      margin-top: 0.5em;
    }
  }
`,x=Object.assign(Object.assign({},m.crosswordProviderPropTypes),{acrossLabel:d.default.string,downLabel:d.default.string});delete x.children;const A=c.default.forwardRef((C,T)=>{var{acrossLabel:V,downLabel:F}=C,U=i(C,["acrossLabel","downLabel"]);const te=(0,c.useRef)(null);return(0,c.useImperativeHandle)(T,()=>({focus:()=>{var $;return($=te.current)===null||$===void 0?void 0:$.focus()},reset:()=>{var $;return($=te.current)===null||$===void 0?void 0:$.reset()},fillAllAnswers:()=>{var $;return($=te.current)===null||$===void 0?void 0:$.fillAllAnswers()},isCrosswordCorrect:()=>{var $;return!!(!(($=te.current)===null||$===void 0)&&$.isCrosswordCorrect())},setGuess:($,fe,M)=>{var R;return(R=te.current)===null||R===void 0?void 0:R.setGuess($,fe,M)}}),[]),(0,a.jsxs)(m.default,Object.assign({},U,{ref:te},{children:[(0,a.jsx)(_.default,{}),(0,a.jsxs)(S,{children:[(0,a.jsx)(w.default,{direction:"across",label:V}),(0,a.jsx)(w.default,{direction:"down",label:F})]})]}))});return A.displayName="Crossword",A.propTypes=x,A.defaultProps=Object.assign(Object.assign({},m.default.defaultProps),{acrossLabel:void 0,downLabel:void 0}),Un.default=A,Un}var xr={},X_;function SO(){if(X_)return xr;X_=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.convertIpuz=xr.isSupportedIpuz=xr.isIpuzData=xr.useIpuz=void 0;const n=Mr(),e="http://ipuz.org",t=`${e}/v`,i=2,o=`${e}/crossword#`,a=1,c={Across:"across",Down:"down"};function d(w){return(0,n.useMemo)(()=>p(w)?m(w)?_(w):(console.error("useIpuz() was not given supported IPUZ data"),null):(console.error("useIpuz() was not given IPUZ data"),null),[w])}xr.useIpuz=d;function p(w){return!!w&&typeof w=="object"&&"version"in w&&typeof w.version=="string"&&w.version.startsWith(t)}xr.isIpuzData=p;function m(w){return!(Number.parseInt(w.version.substring(t.length),10)>i||w.kind.length!==1||!w.kind[0].startsWith(o)||Number.parseInt(w.kind[0].substring(o.length),10)>a)}xr.isSupportedIpuz=m;function _(w){const S=w.puzzle.reduce((A,C,T)=>C.reduce((V,F,U)=>{var te;const $=typeof F=="object"?(te=F==null?void 0:F.cell)!==null&&te!==void 0?te:-1:F;return V[$.toString()]={row:T,col:U},V},A),{});return Object.fromEntries(Object.entries(w.clues).map(([A,C])=>{const T=C.reduce((V,[F,U])=>{const{row:te,col:$}=S[F.toString()];let fe="";const M=A==="Across"?0:1,R=A==="Across"?1:0;for(let k=te,D=$;k<w.dimensions.height&&D<w.dimensions.width;k+=M,D+=R){const P=w.solution[k][D];if(!P||P==="#")break;fe+=P}return V[F.toString()]={clue:U,answer:fe,row:te,col:$},V},{});return[c[A],T]}))}return xr.convertIpuz=_,xr}var Z_;function IO(){return Z_||(Z_=1,function(n){var e=_l&&_l.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(n,"__esModule",{value:!0}),n.useIpuz=n.ThemeProvider=n.CrosswordSizeContext=n.CrosswordContext=n.CrosswordProvider=n.CrosswordGrid=n.Crossword=n.DirectionClues=n.Clue=n.Cell=void 0;const t=Da;Object.defineProperty(n,"ThemeProvider",{enumerable:!0,get:function(){return t.ThemeProvider}});const i=e(mT());n.Cell=i.default;const o=e(gT());n.Clue=o.default;const a=e(yT());n.DirectionClues=a.default;const c=e(TO());n.Crossword=c.default;const d=e(_T());n.CrosswordGrid=d.default;const p=e(vT());n.CrosswordProvider=p.default;const m=Na();Object.defineProperty(n,"CrosswordContext",{enumerable:!0,get:function(){return m.CrosswordContext}}),Object.defineProperty(n,"CrosswordSizeContext",{enumerable:!0,get:function(){return m.CrosswordSizeContext}});const _=SO();Object.defineProperty(n,"useIpuz",{enumerable:!0,get:function(){return _.useIpuz}}),n.default=c.default}(_l)),_l}var CO=IO();const wT=Ul(CO);function PO(){const{user:n}=ru(),{puzzleId:e}=cw(),[t,i]=Y.useState(null),[o,a]=Y.useState(!0);if(Y.useEffect(()=>{async function d(){a(!0);const m=(await db(n.uid)).find(_=>_.id===e);i(m||null),a(!1)}n&&e&&d()},[n,e]),o)return ee.jsx("div",{children:"Loading puzzle..."});if(!t)return ee.jsx("div",{children:"Puzzle not found."});const c={across:{},down:{}};return t.layout.entries.forEach(d=>{const p=d.direction==="across"?"across":"down";c[p][d.number]={answer:d.answer,clue:d.clue,row:d.row,col:d.col}}),ee.jsxs("div",{className:"crossword-area fade-in",children:[ee.jsx("div",{className:"crossword-board",children:ee.jsx(wT,{data:c})}),ee.jsxs("div",{className:"clues-area",children:[ee.jsx("h3",{children:"Across"}),ee.jsx("ul",{className:"clues-list",children:Object.entries(c.across).map(([d,p])=>ee.jsxs("li",{children:[ee.jsxs("strong",{children:[d,"."]})," ",p.clue]},d))}),ee.jsx("h3",{children:"Down"}),ee.jsx("ul",{className:"clues-list",children:Object.entries(c.down).map(([d,p])=>ee.jsxs("li",{children:[ee.jsxs("strong",{children:[d,"."]})," ",p.clue]},d))})]})]})}var Uc={exports:{}},AO=Uc.exports,ew;function RO(){return ew||(ew=1,function(n,e){(function(t,i){n.exports=i()})(AO,function(){var t=1e3,i=6e4,o=36e5,a="millisecond",c="second",d="minute",p="hour",m="day",_="week",w="month",S="quarter",x="year",A="date",C="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,V=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Te){var me=["th","st","nd","rd"],ge=Te%100;return"["+Te+(me[(ge-20)%10]||me[ge]||me[0])+"]"}},U=function(Te,me,ge){var _e=String(Te);return!_e||_e.length>=me?Te:""+Array(me+1-_e.length).join(ge)+Te},te={s:U,z:function(Te){var me=-Te.utcOffset(),ge=Math.abs(me),_e=Math.floor(ge/60),Q=ge%60;return(me<=0?"+":"-")+U(_e,2,"0")+":"+U(Q,2,"0")},m:function Te(me,ge){if(me.date()<ge.date())return-Te(ge,me);var _e=12*(ge.year()-me.year())+(ge.month()-me.month()),Q=me.clone().add(_e,w),pe=ge-Q<0,b=me.clone().add(_e+(pe?-1:1),w);return+(-(_e+(ge-Q)/(pe?Q-b:b-Q))||0)},a:function(Te){return Te<0?Math.ceil(Te)||0:Math.floor(Te)},p:function(Te){return{M:w,y:x,w:_,d:m,D:A,h:p,m:d,s:c,ms:a,Q:S}[Te]||String(Te||"").toLowerCase().replace(/s$/,"")},u:function(Te){return Te===void 0}},$="en",fe={};fe[$]=F;var M="$isDayjsObject",R=function(Te){return Te instanceof j||!(!Te||!Te[M])},k=function Te(me,ge,_e){var Q;if(!me)return $;if(typeof me=="string"){var pe=me.toLowerCase();fe[pe]&&(Q=pe),ge&&(fe[pe]=ge,Q=pe);var b=me.split("-");if(!Q&&b.length>1)return Te(b[0])}else{var H=me.name;fe[H]=me,Q=H}return!_e&&Q&&($=Q),Q||!_e&&$},D=function(Te,me){if(R(Te))return Te.clone();var ge=typeof me=="object"?me:{};return ge.date=Te,ge.args=arguments,new j(ge)},P=te;P.l=k,P.i=R,P.w=function(Te,me){return D(Te,{locale:me.$L,utc:me.$u,x:me.$x,$offset:me.$offset})};var j=function(){function Te(ge){this.$L=k(ge.locale,null,!0),this.parse(ge),this.$x=this.$x||ge.x||{},this[M]=!0}var me=Te.prototype;return me.parse=function(ge){this.$d=function(_e){var Q=_e.date,pe=_e.utc;if(Q===null)return new Date(NaN);if(P.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if(typeof Q=="string"&&!/Z$/i.test(Q)){var b=Q.match(T);if(b){var H=b[2]-1||0,G=(b[7]||"0").substring(0,3);return pe?new Date(Date.UTC(b[1],H,b[3]||1,b[4]||0,b[5]||0,b[6]||0,G)):new Date(b[1],H,b[3]||1,b[4]||0,b[5]||0,b[6]||0,G)}}return new Date(Q)}(ge),this.init()},me.init=function(){var ge=this.$d;this.$y=ge.getFullYear(),this.$M=ge.getMonth(),this.$D=ge.getDate(),this.$W=ge.getDay(),this.$H=ge.getHours(),this.$m=ge.getMinutes(),this.$s=ge.getSeconds(),this.$ms=ge.getMilliseconds()},me.$utils=function(){return P},me.isValid=function(){return this.$d.toString()!==C},me.isSame=function(ge,_e){var Q=D(ge);return this.startOf(_e)<=Q&&Q<=this.endOf(_e)},me.isAfter=function(ge,_e){return D(ge)<this.startOf(_e)},me.isBefore=function(ge,_e){return this.endOf(_e)<D(ge)},me.$g=function(ge,_e,Q){return P.u(ge)?this[_e]:this.set(Q,ge)},me.unix=function(){return Math.floor(this.valueOf()/1e3)},me.valueOf=function(){return this.$d.getTime()},me.startOf=function(ge,_e){var Q=this,pe=!!P.u(_e)||_e,b=P.p(ge),H=function(Ue,de){var We=P.w(Q.$u?Date.UTC(Q.$y,de,Ue):new Date(Q.$y,de,Ue),Q);return pe?We:We.endOf(m)},G=function(Ue,de){return P.w(Q.toDate()[Ue].apply(Q.toDate("s"),(pe?[0,0,0,0]:[23,59,59,999]).slice(de)),Q)},K=this.$W,ie=this.$M,Ce=this.$D,q="set"+(this.$u?"UTC":"");switch(b){case x:return pe?H(1,0):H(31,11);case w:return pe?H(1,ie):H(0,ie+1);case _:var Oe=this.$locale().weekStart||0,oe=(K<Oe?K+7:K)-Oe;return H(pe?Ce-oe:Ce+(6-oe),ie);case m:case A:return G(q+"Hours",0);case p:return G(q+"Minutes",1);case d:return G(q+"Seconds",2);case c:return G(q+"Milliseconds",3);default:return this.clone()}},me.endOf=function(ge){return this.startOf(ge,!1)},me.$set=function(ge,_e){var Q,pe=P.p(ge),b="set"+(this.$u?"UTC":""),H=(Q={},Q[m]=b+"Date",Q[A]=b+"Date",Q[w]=b+"Month",Q[x]=b+"FullYear",Q[p]=b+"Hours",Q[d]=b+"Minutes",Q[c]=b+"Seconds",Q[a]=b+"Milliseconds",Q)[pe],G=pe===m?this.$D+(_e-this.$W):_e;if(pe===w||pe===x){var K=this.clone().set(A,1);K.$d[H](G),K.init(),this.$d=K.set(A,Math.min(this.$D,K.daysInMonth())).$d}else H&&this.$d[H](G);return this.init(),this},me.set=function(ge,_e){return this.clone().$set(ge,_e)},me.get=function(ge){return this[P.p(ge)]()},me.add=function(ge,_e){var Q,pe=this;ge=Number(ge);var b=P.p(_e),H=function(ie){var Ce=D(pe);return P.w(Ce.date(Ce.date()+Math.round(ie*ge)),pe)};if(b===w)return this.set(w,this.$M+ge);if(b===x)return this.set(x,this.$y+ge);if(b===m)return H(1);if(b===_)return H(7);var G=(Q={},Q[d]=i,Q[p]=o,Q[c]=t,Q)[b]||1,K=this.$d.getTime()+ge*G;return P.w(K,this)},me.subtract=function(ge,_e){return this.add(-1*ge,_e)},me.format=function(ge){var _e=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||C;var pe=ge||"YYYY-MM-DDTHH:mm:ssZ",b=P.z(this),H=this.$H,G=this.$m,K=this.$M,ie=Q.weekdays,Ce=Q.months,q=Q.meridiem,Oe=function(de,We,Le,it){return de&&(de[We]||de(_e,pe))||Le[We].slice(0,it)},oe=function(de){return P.s(H%12||12,de,"0")},Ue=q||function(de,We,Le){var it=de<12?"AM":"PM";return Le?it.toLowerCase():it};return pe.replace(V,function(de,We){return We||function(Le){switch(Le){case"YY":return String(_e.$y).slice(-2);case"YYYY":return P.s(_e.$y,4,"0");case"M":return K+1;case"MM":return P.s(K+1,2,"0");case"MMM":return Oe(Q.monthsShort,K,Ce,3);case"MMMM":return Oe(Ce,K);case"D":return _e.$D;case"DD":return P.s(_e.$D,2,"0");case"d":return String(_e.$W);case"dd":return Oe(Q.weekdaysMin,_e.$W,ie,2);case"ddd":return Oe(Q.weekdaysShort,_e.$W,ie,3);case"dddd":return ie[_e.$W];case"H":return String(H);case"HH":return P.s(H,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return Ue(H,G,!0);case"A":return Ue(H,G,!1);case"m":return String(G);case"mm":return P.s(G,2,"0");case"s":return String(_e.$s);case"ss":return P.s(_e.$s,2,"0");case"SSS":return P.s(_e.$ms,3,"0");case"Z":return b}return null}(de)||b.replace(":","")})},me.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},me.diff=function(ge,_e,Q){var pe,b=this,H=P.p(_e),G=D(ge),K=(G.utcOffset()-this.utcOffset())*i,ie=this-G,Ce=function(){return P.m(b,G)};switch(H){case x:pe=Ce()/12;break;case w:pe=Ce();break;case S:pe=Ce()/3;break;case _:pe=(ie-K)/6048e5;break;case m:pe=(ie-K)/864e5;break;case p:pe=ie/o;break;case d:pe=ie/i;break;case c:pe=ie/t;break;default:pe=ie}return Q?pe:P.a(pe)},me.daysInMonth=function(){return this.endOf(w).$D},me.$locale=function(){return fe[this.$L]},me.locale=function(ge,_e){if(!ge)return this.$L;var Q=this.clone(),pe=k(ge,_e,!0);return pe&&(Q.$L=pe),Q},me.clone=function(){return P.w(this.$d,this)},me.toDate=function(){return new Date(this.valueOf())},me.toJSON=function(){return this.isValid()?this.toISOString():null},me.toISOString=function(){return this.$d.toISOString()},me.toString=function(){return this.$d.toUTCString()},Te}(),O=j.prototype;return D.prototype=O,[["$ms",a],["$s",c],["$m",d],["$H",p],["$W",m],["$M",w],["$y",x],["$D",A]].forEach(function(Te){O[Te[1]]=function(me){return this.$g(me,Te[0],Te[1])}}),D.extend=function(Te,me){return Te.$i||(Te(me,j,D),Te.$i=!0),D},D.locale=k,D.isDayjs=R,D.unix=function(Te){return D(1e3*Te)},D.en=fe[$],D.Ls=fe,D.p={},D})}(Uc)),Uc.exports}var kO=RO();const es=Ul(kO);function xO(){const[n,e]=Y.useState([]),[t,i]=Y.useState(!1),o=$l(),[a,c]=Y.useState(""),[d,p]=Y.useState(""),[m,_]=Y.useState(""),[w,S]=Y.useState(""),[x,A]=Y.useState(""),[C,T]=Y.useState("");Y.useEffect(()=>{async function P(){i(!0);try{const j=await Mh(eu(fr,"fullPuzzles"));e(j.docs.map(O=>({id:O.id,...O.data()})))}catch{}i(!1)}P()},[]);function V(P){sessionStorage.setItem("selectedFullPuzzle",JSON.stringify(P)),o(`/crossworder/fullpuzzle/${P.id}`)}function F(P){if(P.year)return Number(P.year);if(P.date)return es(P.date).year();if(P.dateCreated)return es(P.dateCreated).year()}function U(P){const j=F(P);return j?Math.floor(j/10)*10:void 0}function te(P){p(P.target.value),P.target.value&&(_(""),S(""),A(""))}function $(P){_(P.target.value),P.target.value&&(p(""),S(""),A(""))}function fe(P){S(P.target.value),P.target.value&&(p(""),_(""))}function M(P){A(P.target.value),P.target.value&&(p(""),_(""))}const R=n.filter(P=>{if(a&&!(P.title||"").toLowerCase().includes(a.toLowerCase())||d&&F(P)!==Number(d)||m&&U(P)!==Number(m)||w&&es(P.dateCreated||P.date).isBefore(es(w))||x&&es(P.dateCreated||P.date).isAfter(es(x)))return!1;if(C){const j=es(P.dateCreated||P.date);if(!j.isValid()||j.format("dddd")!==C)return!1}return!0}),k=Array.from(new Set(n.map(F).filter(Boolean))).sort((P,j)=>j-P),D=Array.from(new Set(n.map(U).filter(Boolean))).sort((P,j)=>j-P);return ee.jsx("div",{className:"dashboard-container fade-in",style:{flexDirection:"column",alignItems:"stretch",minHeight:"80vh"},children:ee.jsxs("div",{className:"dashboard-section",style:{marginBottom:0,maxWidth:1100,margin:"0 auto",width:"100%"},children:[ee.jsx("h2",{style:{fontSize:"2.2em",marginBottom:0},children:"Pre-made Crossword Puzzles"}),ee.jsx("hr",{}),ee.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,alignItems:"flex-end",marginBottom:24,justifyContent:"space-between"},children:[ee.jsx("div",{style:{flex:"1 1 200px"},children:ee.jsxs("label",{style:{fontWeight:600},children:["Title",ee.jsx("br",{}),ee.jsx("input",{type:"text",value:a,onChange:P=>c(P.target.value),placeholder:"Search by title...",style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"}})]})}),ee.jsx("div",{style:{flex:"1 1 120px"},children:ee.jsxs("label",{style:{fontWeight:600},children:["Year",ee.jsx("br",{}),ee.jsxs("select",{value:d,onChange:te,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"},children:[ee.jsx("option",{value:"",children:"All"}),k.map(P=>ee.jsx("option",{value:P,children:P},P))]})]})}),ee.jsx("div",{style:{flex:"1 1 120px"},children:ee.jsxs("label",{style:{fontWeight:600},children:["Decade",ee.jsx("br",{}),ee.jsxs("select",{value:m,onChange:$,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"},children:[ee.jsx("option",{value:"",children:"All"}),D.map(P=>ee.jsxs("option",{value:P,children:[P,"s"]},P))]})]})}),ee.jsx("div",{style:{flex:"1 1 180px"},children:ee.jsxs("label",{style:{fontWeight:600},children:["Date From",ee.jsx("br",{}),ee.jsx("input",{type:"date",value:w,onChange:fe,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"}})]})}),ee.jsx("div",{style:{flex:"1 1 180px"},children:ee.jsxs("label",{style:{fontWeight:600},children:["Date To",ee.jsx("br",{}),ee.jsx("input",{type:"date",value:x,onChange:M,style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"}})]})}),ee.jsx("div",{style:{flex:"1 1 140px"},children:ee.jsxs("label",{style:{fontWeight:600},children:["Weekday",ee.jsx("br",{}),ee.jsxs("select",{value:C,onChange:P=>T(P.target.value),style:{width:"100%",fontSize:"1.1em",padding:6,borderRadius:6,border:"1px solid #ccc"},children:[ee.jsx("option",{value:"",children:"All"}),ee.jsx("option",{value:"Monday",children:"Monday"}),ee.jsx("option",{value:"Tuesday",children:"Tuesday"}),ee.jsx("option",{value:"Wednesday",children:"Wednesday"}),ee.jsx("option",{value:"Thursday",children:"Thursday"}),ee.jsx("option",{value:"Friday",children:"Friday"}),ee.jsx("option",{value:"Saturday",children:"Saturday"}),ee.jsx("option",{value:"Sunday",children:"Sunday"})]})]})})]}),ee.jsx("div",{style:{overflowX:"auto"},children:t?ee.jsx("div",{children:"Loading full puzzles..."}):ee.jsxs(ee.Fragment,{children:[R.length===0&&ee.jsx("div",{children:"No pre-made puzzles match your search."}),R.length>0&&ee.jsx("ul",{style:{paddingLeft:0,listStyle:"none",margin:0},children:R.map(P=>ee.jsxs("li",{style:{marginBottom:12,display:"flex",alignItems:"center",flexWrap:"wrap"},children:[ee.jsx("span",{style:{fontWeight:600,fontSize:"1.1em",flex:"2 1 200px"},children:P.title||P.id}),P.dateCreated||P.date?ee.jsx("span",{style:{marginLeft:12,color:"#645e4f",fontSize:"0.95em",flex:"1 1 100px"},children:es(P.dateCreated||P.date).format("MM-DD-YYYY")}):null,ee.jsx("button",{style:{marginLeft:12,flex:"0 0 auto"},onClick:()=>V(P),children:"Load"})]},P.id))})]})}),ee.jsx("button",{style:{marginTop:32},onClick:()=>o("/crossworder/"),children:"Back to Dashboard"})]})})}function bO(){const{user:n,logout:e}=ru(),[t,i]=Y.useState(!0),[o,a]=Y.useState(!1),c=$l();Y.useEffect(()=>{async function p(){i(!0),await nT(),i(!1)}n&&p()},[n]);const d=async()=>{a(!0);try{await e()}finally{a(!1)}};return t?ee.jsx("div",{children:"Loading..."}):o?ee.jsx("div",{children:"Logging out..."}):ee.jsx("div",{className:"dashboard-container fade-in",children:ee.jsxs("div",{className:"dashboard-section",style:{marginBottom:0},children:[ee.jsxs("h2",{style:{fontSize:"2.2em",marginBottom:0},children:["Welcome, ",n==null?void 0:n.email]}),ee.jsx("div",{children:ee.jsx("button",{onClick:()=>c("/crossworder/premade"),children:"Load Pre-made Crossword Puzzle"})}),ee.jsxs("div",{style:{margin:"1.5em 0"},children:[ee.jsx("button",{onClick:d,children:"Log out"}),(n==null?void 0:n.admin)&&ee.jsx("button",{style:{marginLeft:16},onClick:()=>c("/crossworder/admin"),children:"Admin"})]})]})})}function OO(){return ee.jsxs(fw,{children:[ee.jsx(ss,{path:"/",element:ee.jsx(bO,{})}),ee.jsx(ss,{path:"/premade",element:ee.jsx(xO,{})}),ee.jsx(ss,{path:"/fullpuzzle/:puzzleId",element:ee.jsx(DO,{})})]})}function DO(){const{puzzleId:n}=cw();let e=null;try{e=JSON.parse(sessionStorage.getItem("selectedFullPuzzle"))}catch{e=null}if(!e||e.id!==n)return ee.jsx("div",{children:"Puzzle not found or not loaded from dashboard."});const t=e.data||e;return ee.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:24},children:[ee.jsx("h2",{children:e.title||"Pre-made Puzzle"}),ee.jsx(wT,{data:t})]})}const NO="modulepreload",LO=function(n){return"/crossworder/"+n},tw={},nw=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let c=function(m){return Promise.all(m.map(_=>Promise.resolve(_).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(t.map(m=>{if(m=LO(m),m in tw)return;tw[m]=!0;const _=m.endsWith(".css"),w=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":NO,_||(S.as="script"),S.crossOrigin="",S.href=m,p&&S.setAttribute("nonce",p),document.head.appendChild(S),_)return new Promise((x,A)=>{S.addEventListener("load",x),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};function MO(){const[n,e]=Y.useState([]),[t,i]=Y.useState(!0),[o,a]=Y.useState(""),[c,d]=Y.useState(""),[p,m]=Y.useState(1),[_,w]=Y.useState([]),[S,x]=Y.useState(!1);Y.useEffect(()=>{async function H(){i(!0);try{const K=await Ks();e(K)}catch{a("Failed to load word sets")}i(!1)}H();async function G(){x(!0);try{const K=await Mh(eu(fr,"fullPuzzles"));w(K.docs.map(ie=>({id:ie.id,...ie.data()})))}catch{a("Failed to load full puzzles")}x(!1)}G()},[]);const A=async()=>{if(c){i(!0);try{await fb({name:c,weighting:p}),d(""),m(1);const H=await Ks();e(H)}catch{a("Failed to add word set")}i(!1)}},C=async(H,G,K)=>{i(!0);try{await pb(H,{name:G,weighting:K});const ie=await Ks();e(ie)}catch{a("Failed to update word set")}i(!1)},T=async H=>{if(window.confirm("Delete this word set? This cannot be undone.")){i(!0);try{await mb(H);const G=await Ks();e(G)}catch{a("Failed to delete word set")}i(!1)}},V=async(H,G,K)=>{i(!0);try{await gb(H,{word:G,clue:K});const ie=await Ks();e(ie)}catch{a("Failed to add word")}i(!1)},F=async(H,G,K,ie)=>{i(!0);try{await yb(H,G,{word:K,clue:ie});const Ce=await Ks();e(Ce)}catch{a("Failed to update word")}i(!1)},U=async(H,G)=>{if(window.confirm("Delete this word?")){i(!0);try{await vb(H,G);const K=await Ks();e(K)}catch{a("Failed to delete word")}i(!1)}},te=async H=>{const G=Array.from(H.target.files);i(!0);try{for(const K of G){const ie=await K.text();let Ce;try{Ce=JSON.parse(ie)}catch{a(`Invalid JSON in file: ${K.name}`);continue}const{getFirestore:q,collection:Oe,addDoc:oe}=await nw(async()=>{const{getFirestore:de,collection:We,addDoc:Le}=await Promise.resolve().then(()=>ob);return{getFirestore:de,collection:We,addDoc:Le}},[]),{db:Ue}=await nw(async()=>{const{db:de}=await Promise.resolve().then(()=>lb);return{db:de}},void 0);await oe(Oe(Ue,"fullPuzzles"),Ce)}a(""),alert("Puzzles uploaded successfully!")}catch{a("Failed to upload puzzles")}i(!1)},[$,fe]=Y.useState(null),[M,R]=Y.useState(""),[k,D]=Y.useState(1),[P,j]=Y.useState(""),[O,Te]=Y.useState(""),[me,ge]=Y.useState(null),[_e,Q]=Y.useState(""),[pe,b]=Y.useState("");return t?ee.jsx("div",{children:"Loading..."}):o?ee.jsx("div",{children:o}):ee.jsxs("div",{children:[ee.jsx("h2",{children:"Admin: Manage Word Sets"}),ee.jsxs("div",{children:[ee.jsx("input",{type:"text",placeholder:"New set name",value:c??"",onChange:H=>d(H.target.value)}),ee.jsx("input",{type:"number",min:1,max:100,value:p??1,onChange:H=>m(Number(H.target.value))}),ee.jsx("button",{onClick:A,children:"Add Word Set"})]}),ee.jsx("hr",{}),n.map(H=>ee.jsxs("div",{style:{border:"1px solid #ccc",margin:"1em 0",padding:"1em"},children:[$===H.id?ee.jsxs("div",{children:[ee.jsx("input",{type:"text",value:M??"",onChange:G=>R(G.target.value)}),ee.jsx("input",{type:"number",min:1,max:100,value:k??1,onChange:G=>D(Number(G.target.value))}),ee.jsx("button",{onClick:()=>{C(H.id,M,k),fe(null)},children:"Save"}),ee.jsx("button",{onClick:()=>fe(null),children:"Cancel"})]}):ee.jsxs("div",{children:[ee.jsx("b",{children:H.name})," (weight: ",H.weighting,")",ee.jsx("button",{onClick:()=>{fe(H.id),R(H.name),D(H.weighting)},children:"Edit"}),ee.jsx("button",{onClick:()=>T(H.id),children:"Delete"})]}),ee.jsxs("div",{style:{marginTop:"1em"},children:[ee.jsx("h4",{children:"Words/Clues"}),ee.jsx("ul",{children:(H.words||[]).map((G,K)=>ee.jsx("li",{children:me===`${H.id}-${K}`?ee.jsxs(ee.Fragment,{children:[ee.jsx("input",{type:"text",value:_e??"",onChange:ie=>Q(ie.target.value),placeholder:"Word"}),ee.jsx("input",{type:"text",value:pe??"",onChange:ie=>b(ie.target.value),placeholder:"Clue"}),ee.jsx("button",{onClick:()=>{F(H.id,G,_e,pe),ge(null)},children:"Save"}),ee.jsx("button",{onClick:()=>ge(null),children:"Cancel"})]}):ee.jsxs(ee.Fragment,{children:[ee.jsx("b",{children:G.word}),": ",G.clue,ee.jsx("button",{onClick:()=>{ge(`${H.id}-${K}`),Q(G.word),b(G.clue)},children:"Edit"}),ee.jsx("button",{onClick:()=>U(H.id,G),children:"Delete"})]})},K))}),ee.jsxs("div",{children:[ee.jsx("input",{type:"text",placeholder:"New word",value:P??"",onChange:G=>j(G.target.value)}),ee.jsx("input",{type:"text",placeholder:"New clue",value:O??"",onChange:G=>Te(G.target.value)}),ee.jsx("button",{onClick:()=>{V(H.id,P,O),j(""),Te("")},children:"Add Word"})]})]})]},H.id)),ee.jsx("hr",{}),ee.jsxs("div",{children:[ee.jsx("h3",{children:"Upload Full Crossword Puzzles (JSON)"}),ee.jsx("input",{type:"file",accept:"application/json",multiple:!0,onChange:te})]})]})}function VO(){return ee.jsx(ub,{children:ee.jsx(qI,{children:ee.jsxs(fw,{children:[ee.jsx(ss,{path:"/crossworder/login",element:ee.jsx(hb,{})}),ee.jsx(ss,{path:"/crossworder/admin",element:ee.jsx(cb,{children:ee.jsx(MO,{})})}),ee.jsx(ss,{path:"/crossworder/puzzle/:puzzleId",element:ee.jsx(I_,{children:ee.jsx(PO,{})})}),ee.jsx(ss,{path:"/crossworder/*",element:ee.jsx(I_,{children:ee.jsx(OO,{})})})]})})})}OS.createRoot(document.getElementById("root")).render(ee.jsx(Y.StrictMode,{children:ee.jsx(VO,{})}));
